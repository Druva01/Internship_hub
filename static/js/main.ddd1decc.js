/*! For license information please see main.ddd1decc.js.LICENSE.txt */
(()=>{"use strict";var e={579:(e,t,n)=>{e.exports=n(2799)},2284:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},4288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function k(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(){}function C(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return C((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+A(e,0):s,w(a)?(i="",null!=u&&(i=u.replace(j,"$&/")+"/"),C(a,t,i,"",function(e){return e})):null!=a&&(S(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(j,"$&/")+"/")+u,a=k(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===s?".":s+":";if(w(e))for(var m=0;m<e.length;m++)u+=C(s=e[m],t,i,o=p+A(s,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,o=p+A(s,m++),a);else if("object"===o){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function L(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:L,forEach:function(e,t,n){L(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!_.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return k(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,n={};N.T=n;try{var r=e(),i=N.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,T)}catch(s){T(s)}finally{N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,n){return N.H.useActionState(e,t,n)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=N.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,n){return N.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return N.H.useReducer(e,t,n)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.H.useTransition()},t.version="19.1.1"},4391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4980:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(2284);function i(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{e.exports=n(4288)},5896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function N(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,k||(k=!0,_());else{var t=r(u);null!==t&&T(N,t.startTime-e)}}var _,k=!1,S=-1,j=5,A=-1;function E(){return!!y||!(t.unstable_now()-A<j)}function C(){if(y=!1,k){var e=t.unstable_now();A=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(S),S=-1),p=!0;var s=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&E());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&T(N,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?_():k=!1}}}if("function"===typeof x)_=function(){x(C)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,I=L.port2;L.port1.onmessage=C,_=function(){I.postMessage(null)}}else _=function(){v(C,0)};function T(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,T(N,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,k||(k=!0,_()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},6672:(e,t,n)=>{var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},7004:(e,t,n)=>{var r=n(8853),i=n(5043),s=n(7950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return T(e(t))}catch(Eo){}}return null}var P=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},F=[],M=-1;function U(e){return{current:e}}function B(e){0>M||(e.current=F[M],F[M]=null,M--)}function z(e,t){M++,F[M]=e.current,e.current=t}var q=U(null),V=U(null),H=U(null),W=U(null);function G(e,t){switch(z(H,t),z(V,e),z(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(q),z(q,e)}function K(){B(q),B(V),B(H)}function Y(e){null!==e.memoizedState&&z(W,e);var t=q.current,n=ad(t,e.type);t!==n&&(z(V,e),z(q,n))}function Q(e){V.current===e&&(B(q),B(V)),W.current===e&&(B(W),Qd._currentValue=O)}var J=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,$=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=ve(r):0!==(a&=o)?i=ve(a):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~s)?i=ve(o):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function _e(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Ie=Math.random().toString(36).slice(2),Te="__reactFiber$"+Ie,Pe="__reactProps$"+Ie,Re="__reactContainer$"+Ie,De="__reactEvents$"+Ie,Oe="__reactListeners$"+Ie,Fe="__reactHandles$"+Ie,Me="__reactResources$"+Ie,Ue="__reactMarker$"+Ie;function Be(e){delete e[Te],delete e[Pe],delete e[De],delete e[Oe],delete e[Fe]}function ze(e){var t=e[Te];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Te]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Te])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Te]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function He(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ue]=!0}var Ge=new Set,Ke={};function Ye(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Je,Xe,$e=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,J.call(et,i)||!J.call(Ze,i)&&($e.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Je)try{throw Error()}catch(Eo){var t=Eo.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Xe=-1<Eo.stack.indexOf("\n    at")?" (<anonymous>)":-1<Eo.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Xe}var st=!1;function at(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Eo){var r=Eo}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(Eo){return"\nError generating stack: "+Eo.message+"\n"+Eo.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(P(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function jt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Pt=null;function Rt(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Pe]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Ot(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Tt||null!==Pt)&&(qc(),Tt&&(t=Tt,e=Pt,Pt=Tt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Pe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Mt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Rh){Ut=!1}var zt=null,qt=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=qt,r=n.length,i="value"in zt?zt.value:zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Vt=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function Yt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Qt,Jt,Xt,$t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Yt($t),en=h({},$t,{view:0,detail:0}),tn=Yt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Jt=e.screenY-Xt.screenY):Jt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),rn=Yt(nn),sn=Yt(h({},nn,{dataTransfer:0})),an=Yt(h({},en,{relatedTarget:0})),on=Yt(h({},$t,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(h({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(h({},$t,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Yt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Yt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Yt(h({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Yt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Yt(h({},$t,{newState:0,oldState:0})),wn=[9,13,27,32],Nn=Mt&&"CompositionEvent"in window,_n=null;Mt&&"documentMode"in document&&(_n=document.documentMode);var kn=Mt&&"TextEvent"in window&&!_n,Sn=Mt&&(!Nn||_n&&8<_n&&11>=_n),jn=String.fromCharCode(32),An=!1;function En(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function Pn(e,t,n,r){Tt?Pt?Pt.push(r):Pt=[r]:Tt=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Dn=null;function On(e){Fu(e,0)}function Fn(e){if(ht(Ve(e)))return e}function Mn(e,t){if("change"===e)return t}var Un=!1;if(Mt){var Bn;if(Mt){var zn="oninput"in document;if(!zn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),zn="function"===typeof qn.oninput}Bn=zn}else Bn=!1;Un=Bn&&(!document.documentMode||9<document.documentMode)}function Vn(){Rn&&(Rn.detachEvent("onpropertychange",Hn),Dn=Rn=null)}function Hn(e){if("value"===e.propertyName&&Fn(Dn)){var t=[];Pn(t,Dn,e,It(e)),Ot(On,t)}}function Wn(e,t,n){"focusin"===e?(Vn(),Dn=n,(Rn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Dn)}function Kn(e,t){if("click"===e)return Fn(t)}function Yn(e,t){if("input"===e||"change"===e)return Fn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!J.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $n(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Jn(sr,r)||(sr=r,0<(r=Wu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Mt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){xr.set(e,t),Ye(t,[e])}wr.push("scrollEnd");var _r=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},_r.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sr=[],jr=0,Ar=0;function Er(){for(var e=jr,t=Ar=jr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var i=Sr[t];Sr[t++]=null;var s=Sr[t];if(Sr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Tr(n,i,s)}}function Cr(e,t,n,r){Sr[jr++]=e,Sr[jr++]=t,Sr[jr++]=n,Sr[jr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Lr(e,t,n,r){return Cr(e,t,n,r),Pr(e)}function Ir(e,t){return Cr(e,null,null,t),Pr(e)}function Tr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Pr(e){if(50<Pc)throw Pc=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Dr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Fr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Or(31,n,t,i)).elementType=A,e.lanes=s,e;case g:return zr(n.children,i,s,t);case y:o=8,i|=24;break;case v:return(e=Or(12,n,t,2|i)).elementType=v,e.lanes=s,e;case _:return(e=Or(13,n,t,i)).elementType=_,e.lanes=s,e;case k:return(e=Or(19,n,t,i)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case N:o=11;break e;case S:o=14;break e;case j:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Or(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function zr(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,Gr=null,Kr=0,Yr=[],Qr=0,Jr=null,Xr=1,$r="";function Zr(e,t){Hr[Wr++]=Kr,Hr[Wr++]=Gr,Gr=e,Kr=t}function ei(e,t,n){Yr[Qr++]=Xr,Yr[Qr++]=$r,Yr[Qr++]=Jr,Jr=e;var r=Xr;e=$r;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xr=1<<32-fe(t)+i|n<<i|r,$r=s+e}else Xr=1<<s|n<<i|r,$r=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Gr;)Gr=Hr[--Wr],Hr[Wr]=null,Kr=Hr[--Wr],Hr[Wr]=null;for(;e===Jr;)Jr=Yr[--Qr],Yr[Qr]=null,$r=Yr[--Qr],Yr[Qr]=null,Xr=Yr[--Qr],Yr[Qr]=null}var ri=null,ii=null,si=!1,ai=null,oi=!1,li=Error(a(519));function ci(e){throw mi(kr(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Te]=e,t[Pe]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Mu(Du[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=$u),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!si)return di(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pd(e.type)?(e=bd,bd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=ai;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=U(null),yi=null,vi=null;function bi(e,t,n){z(gi,t._currentValue),t._currentValue=n}function xi(e){e._currentValue=gi.current,B(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wi(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function _i(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}i=i.return}null!==e&&Ni(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Si(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ji(e){return Ei(yi,e)}function Ai(e,t){return null===yi&&Si(e),Ei(e,t)}function Ei(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ci="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Li=r.unstable_scheduleCallback,Ii=r.unstable_NormalPriority,Ti={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pi(){return{controller:new Ci,data:new Map,refCount:0}}function Ri(e){e.refCount--,0===e.refCount&&Li(Ii,function(){e.controller.abort()})}var Di=null,Oi=0,Fi=0,Mi=null;function Ui(){if(0===--Oi&&null!==Di){null!==Mi&&(Mi.status="fulfilled");var e=Di;Di=null,Fi=0,Mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bi=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Oi=0,Fi=Lu(),Mi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Oi++,t.then(Ui,Ui)}(0,t),null!==Bi&&Bi(e,t)};var zi=U(null);function qi(){var e=zi.current;return null!==e?e:ic.pooledCache}function Vi(e,t){z(zi,null===t?zi.current:t.pool)}function Hi(){var e=qi();return null===e?null:{parent:Ti._currentValue,pool:e}}var Wi=Error(a(460)),Gi=Error(a(474)),Ki=Error(a(542)),Yi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ji(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ji,Ji),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ji,Ji);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw $i=t,Wi}}var $i=null;function Zi(){if(null===$i)throw Error(a(459));var e=$i;return $i=null,e}function es(e){if(e===Wi||e===Ki)throw Error(a(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Pr(e),Tr(e,null,n),t}return Cr(e,r,t,n),Pr(e)}function as(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Mi)throw Mi}}function us(e,t,n,r){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===Fi&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ts=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=d}}function ds(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ds(n[e],t)}var fs=U(null),ps=U(0);function ms(e,t){z(ps,e=hc),z(fs,t),hc=e|t.baseLanes}function gs(){z(ps,hc),z(fs,fs.current)}function ys(){hc=ps.current,B(fs),B(ps)}var vs=0,bs=null,xs=null,ws=null,Ns=!1,_s=!1,ks=!1,Ss=0,js=0,As=null,Es=0;function Cs(){throw Error(a(321))}function Ls(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Is(e,t,n,r,i,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Wa:Ga,ks=!1,s=n(r,i),ks=!1,_s&&(s=Ps(t,n,r,i)),Ts(e),s}function Ts(e){R.H=Ha;var t=null!==xs&&null!==xs.next;if(vs=0,ws=xs=bs=null,Ns=!1,js=0,As=null,t)throw Error(a(300));null===e||Ao||null!==(e=e.dependencies)&&ki(e)&&(Ao=!0)}function Ps(e,t,n,r){bs=e;var i=0;do{if(_s&&(As=null),js=0,_s=!1,25<=i)throw Error(a(301));if(i+=1,ws=xs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=Ka,s=t(n,r)}while(_s);return s}function Rs(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Bs(t):t,e=e.useState()[0],(null!==xs?xs.memoizedState:null)!==e&&(bs.flags|=1024),t}function Ds(){var e=0!==Ss;return Ss=0,e}function Os(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fs(e){if(Ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ns=!1}vs=0,ws=xs=bs=null,_s=!1,js=Ss=0,As=null}function Ms(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?bs.memoizedState=ws=e:ws=ws.next=e,ws}function Us(){if(null===xs){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=xs.next;var t=null===ws?bs.memoizedState:ws.next;if(null!==t)ws=t,xs=e;else{if(null===e){if(null===bs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xs=e).memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},null===ws?bs.memoizedState=ws=e:ws=ws.next=e}return ws}function Bs(e){var t=js;return js+=1,null===As&&(As=[]),e=Xi(As,e,t),t=bs,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Wa:Ga),e}function zs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bs(e);if(e.$$typeof===w)return ji(e)}throw Error(a(438,String(e)))}function qs(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Vs(e,t){return"function"===typeof t?t(e):t}function Hs(e){return Ws(Us(),xs,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(vs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fi&&(d=!0);else{if((vs&f)===f){u=u.next,f===Fi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,bs.lanes|=f,pc|=f}h=u.action,ks&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,bs.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Qn(s,e.memoizedState)&&(Ao=!0,d&&null!==(n=Mi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gs(e){var t=Us(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Qn(s,t.memoizedState)||(Ao=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ks(e,t,n){var r=bs,i=Us(),s=si;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Qn((xs||i).memoizedState,n);if(o&&(i.memoizedState=n,Ao=!0),i=i.queue,ga(2048,8,Js.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ws&&1&ws.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,i,n,t),null),null===ic)throw Error(a(349));s||0!==(124&vs)||Ys(r,t,n)}return n}function Ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qs(e,t,n,r){t.value=n,t.getSnapshot=r,Xs(t)&&$s(e)}function Js(e,t,n){return n(function(){Xs(t)&&$s(e)})}function Xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function $s(e){var t=Ir(e,2);null!==t&&Fc(t,e,2)}function Zs(e){var t=Ms();if("function"===typeof e){var n=e;if(e=n(),ks){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Ws(e,xs,"function"===typeof r?r:Vs)}function ta(e,t,n,r,i){if(za(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function na(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=R.T,a={};R.T=a;try{var o=n(i,r),l=R.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){sa(e,t,c)}finally{R.T=s}}else try{ra(e,t,s=n(i,r))}catch(u){sa(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ia(e,t,n)},function(n){return sa(e,t,n)}):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function sa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(si){var n=ic.formState;if(null!==n){e:{var r=bs;if(si){if(ii){t:{for(var i=ii,s=oi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Ms()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Ma.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=Ba.bind(null,bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ms()).queue=i,n=ta.bind(null,bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(Us(),xs,e)}function ua(e,t,n){if(t=Ws(e,t,oa)[0],e=Hs(Vs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bs(t)}catch(Eo){if(Eo===Wi)throw Ki;throw Eo}else r=t;var i=(t=Us()).queue,s=i.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,fa(9,{destroy:void 0,resource:void 0},da.bind(null,i,n),null)),[r,s,e]}function da(e,t){e.action=t}function ha(e){var t=Us(),n=xs;if(null!==n)return ua(t,n,e);Us(),t=t.memoizedState;var r=(n=Us()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(){return Us().memoizedState}function ma(e,t,n,r){var i=Ms();r=void 0===r?null:r,bs.flags|=e,i.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var i=Us();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==xs&&null!==r&&Ls(r,xs.memoizedState.deps)?i.memoizedState=fa(t,s,n,r):(bs.flags|=e,i.memoizedState=fa(1|t,s,n,r))}function ya(e,t){ma(8390656,8,e,t)}function va(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function xa(e,t){return ga(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Na(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,wa.bind(null,t,e),n)}function _a(){}function ka(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ls(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ls(t,r[1]))return r[0];if(r=e(),ks){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function ja(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),bs.lanes|=e,pc|=e,n)}function Aa(e,t,n,r){return Qn(n,t)?n:null!==fs.current?(e=ja(e,n,r),Qn(e,t)||(Ao=!0),e):0===(42&vs)?(Ao=!0,e.memoizedState=n):(e=Oc(),bs.lanes|=e,pc|=e,t)}function Ea(e,t,n,r,i){var s=D.p;D.p=0!==s&&8>s?s:8;var a=R.T,o={};R.T=o,Ba(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);Ua(e,t,u,Dc())}else Ua(e,t,r,Dc())}catch(d){Ua(e,t,{then:function(){},status:"rejected",reason:d},Dc())}finally{D.p=s,R.T=a}}function Ca(){}function La(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Ia(e).queue;Ea(e,i,t,O,null===n?Ca:function(){return Ta(e),n(r)})}function Ia(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ta(e){Ua(e,Ia(e).next.queue,{},Dc())}function Pa(){return ji(Qd)}function Ra(){return Us().memoizedState}function Da(){return Us().memoizedState}function Oa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ss(t,e=is(n),n);return null!==r&&(Fc(r,t,n),as(r,t,n)),t={cache:Pi()},void(e.payload=t)}t=t.return}}function Fa(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},za(e)?qa(t,n):null!==(n=Lr(e,t,n,r))&&(Fc(n,e,r),Va(n,t,r))}function Ma(e,t,n){Ua(e,t,n,Dc())}function Ua(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(za(e))qa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,a))return Cr(e,t,i,0),null===ic&&Er(),!1}catch(l){}if(null!==(n=Lr(e,t,i,r)))return Fc(n,e,r),Va(n,t,r),!0}return!1}function Ba(e,t,n,r){if(r={lane:2,revertLane:Lu(),action:r,hasEagerState:!1,eagerState:null,next:null},za(e)){if(t)throw Error(a(479))}else null!==(t=Lr(e,n,r,2))&&Fc(t,e,2)}function za(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function qa(e,t){_s=Ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Va(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var Ha={readContext:ji,use:zs,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useLayoutEffect:Cs,useInsertionEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useSyncExternalStore:Cs,useId:Cs,useHostTransitionStatus:Cs,useFormState:Cs,useActionState:Cs,useOptimistic:Cs,useMemoCache:Cs,useCacheRefresh:Cs},Wa={readContext:ji,use:zs,useCallback:function(e,t){return Ms().memoizedState=[e,void 0===t?null:t],e},useContext:ji,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=Ms();t=void 0===t?null:t;var r=e();if(ks){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ms();if(void 0!==n){var i=n(t);if(ks){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fa.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ms().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Ma.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_a,useDeferredValue:function(e,t){return ja(Ms(),e,t)},useTransition:function(){var e=Zs(!1);return e=Ea.bind(null,bs,e.queue,!0,!1),Ms().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,i=Ms();if(si){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ic)throw Error(a(349));0!==(124&ac)||Ys(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ya(Js.bind(null,r,s,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,s,n,t),null),n},useId:function(){var e=Ms(),t=ic.identifierPrefix;if(si){var n=$r;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Ss++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Es++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Pa,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Ms();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ba.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:qs,useCacheRefresh:function(){return Ms().memoizedState=Oa.bind(null,bs)}},Ga={readContext:ji,use:zs,useCallback:ka,useContext:ji,useEffect:va,useImperativeHandle:Na,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Sa,useReducer:Hs,useRef:pa,useState:function(){return Hs(Vs)},useDebugValue:_a,useDeferredValue:function(e,t){return Aa(Us(),xs.memoizedState,e,t)},useTransition:function(){var e=Hs(Vs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:Bs(e),t]},useSyncExternalStore:Ks,useId:Ra,useHostTransitionStatus:Pa,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Us(),0,e,t)},useMemoCache:qs,useCacheRefresh:Da},Ka={readContext:ji,use:zs,useCallback:ka,useContext:ji,useEffect:va,useImperativeHandle:Na,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Sa,useReducer:Gs,useRef:pa,useState:function(){return Gs(Vs)},useDebugValue:_a,useDeferredValue:function(e,t){var n=Us();return null===xs?ja(n,e,t):Aa(n,xs.memoizedState,e,t)},useTransition:function(){var e=Gs(Vs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:Bs(e),t]},useSyncExternalStore:Ks,useId:Ra,useHostTransitionStatus:Pa,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Us();return null!==xs?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qs,useCacheRefresh:Da},Ya=null,Qa=0;function Ja(e){var t=Qa;return Qa+=1,null===Ya&&(Ya=[]),Xi(Ya,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function $a(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&Za(s)===t.type)?(Xa(t=i(t,n.props),n),t.return=e,t):(Xa(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=zr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xa(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Vr(t,e.mode,n)).return=e,t;case j:return h(e,t=(0,t._init)(t._payload),n)}if(P(t)||L(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ja(t),n);if(t.$$typeof===w)return h(e,Ai(e,t),n);$a(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case j:return f(e,t,n=(i=n._init)(n._payload),r)}if(P(n)||L(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ja(n),r);if(n.$$typeof===w)return f(e,t,Ai(e,n),r);$a(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(P(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ja(r),i);if(r.$$typeof===w)return y(e,t,n,Ai(t,r),i);$a(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===j&&Za(b)===c.type){n(l,c.sibling),Xa(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=zr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xa(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Vr(u,l.mode,d)).return=l,l=d}return o(l);case j:return v(l,c,u=(b=u._init)(u._payload),d)}if(P(u))return function(i,a,o,l){for(var c=null,u=null,d=a,p=a=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=s(g,a,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(i,d),si&&Zr(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(a=s(d,a,p),null===u?c=d:u.sibling=d,u=d);return si&&Zr(i,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,i,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),a=s(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),si&&Zr(i,p),c}(l,c,u,d);if(L(u)){if("function"!==typeof(b=L(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),o=s(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),si&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return si&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),si&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ja(u),d);if(u.$$typeof===w)return v(l,c,Ai(l,u),d);$a(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=qr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Qa=0;var i=v(e,t,n,r);return Ya=null,i}catch(Eo){if(Eo===Wi||Eo===Ki)throw Eo;var s=Or(29,Eo,null,e.mode);return s.lanes=r,s.return=e,s}}}var to=eo(!0),no=eo(!1),ro=U(null),io=null;function so(e){var t=e.alternate;z(co,1&co.current),z(ro,e),null===io&&(null===t||null!==fs.current||null!==t.memoizedState)&&(io=e)}function ao(e){if(22===e.tag){if(z(co,co.current),z(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){z(co,co.current),z(ro,ro.current)}function lo(e){B(ro),io===e&&(io=null),B(co)}var co=U(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Fc(t,e,r),as(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Fc(t,e,r),as(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Fc(t,e,n),as(t,e,n))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(i,s))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function xo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function No(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _o(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function ko(e){return(e=is(e)).tag=3,e}function So(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){No(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){No(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var jo=Error(a(461)),Ao=!1;function Co(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Si(t),r=Is(e,t,n,a,s,i),o=Ds(),null===e||Ao?(si&&o&&ti(t),t.flags|=1,Co(e,t,r,i),t.child):(Os(e,t,i),Jo(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,To(e,t,s,r,i))}if(s=e.child,!Xo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(a,r)&&e.ref===t.ref)return Jo(e,t,i)}return t.flags|=1,(e=Mr(s,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Jn(s,r)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=r=s,!Xo(e,i))return t.lanes=e.lanes,Jo(e,t,i);0!==(131072&e.flags)&&(Ao=!0)}}return Oo(e,t,n,r,i)}function Po(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vi(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),ao(t)}else null!==s?(Vi(0,s.cachePool),ms(t,s),oo(),t.memoizedState=null):(null!==e&&Vi(0,null),gs(),oo());return Co(e,t,i,n),t.child}function Ro(e,t,n,r){var i=qi();return i=null===i?null:{parent:Ti._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Vi(0,null),gs(),ao(t),null!==e&&_i(e,t,r,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,r,i){return Si(t),n=Is(e,t,n,r,void 0,i),r=Ds(),null===e||Ao?(si&&r&&ti(t),t.flags|=1,Co(e,t,n,i),t.child):(Os(e,t,i),Jo(e,t,i))}function Fo(e,t,n,r,i,s){return Si(t),t.updateQueue=null,n=Ps(t,r,n,i),Ts(e),r=Ds(),null===e||Ao?(si&&r&&ti(t),t.flags|=1,Co(e,t,n,s),t.child):(Os(e,t,s),Jo(e,t,s))}function Mo(e,t,n,r,i){if(Si(t),null===t.stateNode){var s=Rr,a=n.contextType;"object"===typeof a&&null!==a&&(s=ji(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),a=n.contextType,s.context="object"===typeof a&&null!==a?ji(a):Rr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&fo.enqueueReplaceState(s,s.state,null),us(t,r,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(n,o);s.props=l;var c=s.context,u=n.contextType;a=Rr,"object"===typeof u&&null!==u&&(a=ji(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&mo(t,s,r,a),ts=!1;var h=t.memoizedState;s.state=h,us(t,r,s,i),cs(),c=t.memoizedState,o||h!==c||ts?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ts||po(t,n,l,r,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=go(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=ji(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&mo(t,s,r,l),ts=!1,h=t.memoizedState,s.state=h,us(t,r,s,i),cs();var f=t.memoizedState;a!==d||h!==f||ts||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ts||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Do(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):Co(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Jo(e,t,i),e}function Uo(e,t,n,r){return fi(),t.flags|=256,Co(e,t,n,r),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:Hi()}}function qo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Vo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?so(t):oo(),si){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jr?{id:Xr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},(l=Or(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,s?(oo(),c=Wo({mode:"hidden",children:c},s=t.mode),i=zr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=zo(n),s.childLanes=qo(e,r,n),t.memoizedState=Bo,i):(so(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Go(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=i.fallback,c=t.mode,i=Wo({mode:"visible",children:i.children},c),(s=zr(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=zo(n),i.childLanes=qo(e,r,n),t.memoizedState=Bo,t=s);else if(so(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Go(e,t,n)}else if(Ao||_i(e,t,n,!1),r=0!==(n&e.childLanes),Ao||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ee(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ir(e,i),Fc(r,e,i),jo;"$?"===c.data||Yc(),t=Go(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ri=t,si=!0,ai=null,oi=!1,null!==e&&(Yr[Qr++]=Xr,Yr[Qr++]=$r,Yr[Qr++]=Jr,Xr=e.id,$r=e.overflow,Jr=t),(t=Ho(t,i.children)).flags|=4096);return t}return s?(oo(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Mr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Mr(u,s):(s=zr(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=zo(n):(null!==(l=c.cachePool)?(u=Ti._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=qo(e,r,n),t.memoizedState=Bo,i):(so(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=Wo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wo(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Go(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Yo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Co(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yo(t,!0,n,null,s);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_i(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function $o(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ao=!0;else{if(!Xo(e,n)&&0===(128&t.flags))return Ao=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),bi(0,Ti,e.memoizedState.cache),fi();break;case 27:case 5:Y(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(so(t),null!==(e=Jo(e,t,n))?e.sibling:null);so(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_i(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:bi(0,Ti,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);Ao=0!==(131072&e.flags)}else Ao=!1,si&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===N){t.tag=11,t=Lo(null,t,r,e,n);break e}if(i===S){t.tag=14,t=Io(null,t,r,e,n);break e}}throw t=T(r)||r,Error(a(306,t,""))}Fr(r)?(e=go(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=Oo(null,t,r,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Ti,r),r!==s.cache&&Ni(t,[Ti],n,!0),cs(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Uo(e,t,r,n);break e}if(r!==i){mi(i=kr(Error(a(424)),t)),t=Uo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,si=!0,ai=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Jo(e,t,n);break e}Co(e,t,r,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=id(H.current).createElement(n))[Te]=t,r[Pe]=e,td(r,n,e),We(r),t.stateNode=r):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&si&&(r=t.stateNode=wd(t.type,t.pendingProps,H.current),ri=t,oi=!0,i=ii,pd(t.type)?(bd=i,ii=vd(r.firstChild)):ii=i),Co(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),Y(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,od(i,s)?r=null:null!==o&&od(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Is(e,t,Rs,null,null,n),Qd._currentValue=i),Do(e,t),Co(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Vo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Co(e,t,r,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return Co(e,t,t.pendingProps,n),t.child;case 8:case 12:return Co(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Co(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Si(t),r=r(i=ji(i)),t.flags|=1,Co(e,t,r,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return To(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return Si(t),r=ji(Ti),null===e?(null===(i=qi())&&(i=ic,s=Pi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),bi(0,Ti,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ti,r)):(r=s.cache,bi(0,Ti,r),r!==i.cache&&Ni(t,[Ti],n,!0))),Co(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Zo(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!qd(t)){if(null!==(t=ro.current)&&((4194048&ac)===ac?null!==io:(62914560&ac)!==ac&&0===(536870912&ac)||t!==io))throw $i=Yi,Gi;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,vc|=t)}function nl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xi(Ti),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),rl(t),t.flags&=-16777217),null;case 27:Q(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}e=q.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Zo(t))}return rl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}if(e=q.current,hi(t))ui(t);else{switch(i=id(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Te]=t,e[Pe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=H.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Te]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ci(t)}else(e=id(e).createTextNode(r))[Te]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Te]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return K(),null===e&&zu(t.stateNode.containerInfo),rl(t),null;case 10:return xi(t.type),rl(t),null;case 19:if(B(co),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)nl(i,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,nl(i,!1),e=s.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return z(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>_c&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return rl(t),null}else 2*te()-i.renderingStartTime>_c&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,z(co,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return lo(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xi(Ti),rl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function sl(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xi(Ti),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(co),null;case 4:return K(),null;case 10:return xi(t.type),null;case 22:case 23:return lo(t),ys(),null!==e&&B(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xi(Ti),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:xi(Ti),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:lo(t);break;case 19:B(co);break;case 10:xi(t.type);break;case 22:case 23:lo(t),ys(),null!==e&&B(zi);break;case 24:xi(Ti)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){du(t,t.return,o)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){du(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){du(t,t.return,u)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hs(t,n)}catch(r){du(e,e.return,r)}}}function ul(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){du(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){du(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){du(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){du(e,t,s)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){du(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Zu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Zu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Zu(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Zu(e,t,o,i,r,s)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(jt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&ed(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||ed(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Zu(e,t,h,f,r,p)}(r,e.type,n,t),r[Pe]=t}catch(i){du(e,e.return,i)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);td(t,r,n),t[Te]=e,t[Pe]=n}catch(s){du(e,e.return,s)}}var xl=!1,wl=!1,Nl=!1,_l="function"===typeof WeakSet?WeakSet:Set,kl=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&ol(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){du(n,n.return,a)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){du(n,n.return,o)}}64&r&&cl(n),512&r&&dl(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hs(e,t)}catch(a){du(n,n.return,a)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&fl(n),512&r&&dl(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||wl,i=xl;var s=wl;xl=r,(wl=t)&&!s?Bl(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),xl=i,wl=s}break;case 30:break;default:Ml(e,n)}}function jl(e){var t=e.alternate;null!==t&&(e.alternate=null,jl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Al=null,El=!1;function Cl(e,t,n){for(n=n.child;null!==n;)Ll(e,t,n),n=n.sibling}function Ll(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:wl||hl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||hl(n,t);var r=Al,i=El;pd(n.type)&&(Al=n.stateNode,El=!1),Cl(e,t,n),Nd(n.stateNode),Al=r,El=i;break;case 5:wl||hl(n,t);case 6:if(r=Al,i=El,Al=null,Cl(e,t,n),El=i,null!==(Al=r))if(El)try{(9===Al.nodeType?Al.body:"HTML"===Al.nodeName?Al.ownerDocument.body:Al).removeChild(n.stateNode)}catch(a){du(n,t,a)}else try{Al.removeChild(n.stateNode)}catch(a){du(n,t,a)}break;case 18:null!==Al&&(El?(md(9===(e=Al).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):md(Al,n.stateNode));break;case 4:r=Al,i=El,Al=n.stateNode.containerInfo,El=!0,Cl(e,t,n),Al=r,El=i;break;case 0:case 11:case 14:case 15:wl||ll(2,n,t),wl||ll(4,n,t),Cl(e,t,n);break;case 1:wl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Cl(e,t,n),wl=r;break;default:Cl(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(n){du(t,t.return,n)}}function Tl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Al=l.stateNode,El=!1;break e}break;case 5:Al=l.stateNode,El=!1;break e;case 3:case 4:Al=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Al)throw Error(a(160));Ll(s,o,i),Al=null,El=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Rl=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Ol(e),4&r&&(ll(3,e,e.return),ol(3,e),ll(5,e,e.return));break;case 1:Pl(t,e),Ol(e),512&r&&(wl||null===n||hl(n,n.return)),64&r&&xl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Rl;if(Pl(t,e),Ol(e),512&r&&(wl||null===n||hl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ue]||s[Te]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),td(s,r,n),s[Te]=e,We(s),r=s;break e;case"link":var o=Bd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}td(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Bd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}td(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Te]=e,We(s),r=s}e.stateNode=r}else zd(i,e.type,e.stateNode);else e.stateNode=Dd(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?zd(i,e.type,e.stateNode):Dd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Ol(e),512&r&&(wl||null===n||hl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Ol(e),512&r&&(wl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{Nt(i,"")}catch(p){du(e,e.return,p)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Nl=!0);break;case 6:if(Pl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){du(e,e.return,p)}}break;case 3:if(Ud=null,i=Rl,Rl=Sd(t.containerInfo),Pl(t,e),Rl=i,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(p){du(e,e.return,p)}Nl&&(Nl=!1,Fl(e));break;case 4:r=Rl,Rl=Sd(e.stateNode.containerInfo),Pl(t,e),Ol(e),Rl=r;break;case 12:default:Pl(t,e),Ol(e);break;case 13:Pl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Nc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,d=wl;if(xl=u||i,wl=d||c,Pl(t,e),wl=d,xl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||xl||wl||Ul(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){du(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){du(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Tl(e,n))));break;case 19:Pl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,gl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(Nt(s,""),n.flags&=-33),vl(e,gl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,gl(e),o);break;default:throw Error(a(161))}}catch(l){du(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Fl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Fl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Ul(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),Ul(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Ul(t);break;case 27:Nd(t.stateNode);case 26:case 5:hl(t,t.return),Ul(t);break;case 22:null===t.memoizedState&&Ul(t);break;default:Ul(t)}e=e.sibling}}function Bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Bl(i,s,n),ol(4,s);break;case 1:if(Bl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){du(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ds(l[i],o)}catch(c){du(r,r.return,c)}}n&&64&a&&cl(s),dl(s,s.return);break;case 27:bl(s);case 26:case 5:Bl(i,s,n),n&&null===r&&4&a&&fl(s),dl(s,s.return);break;case 12:Bl(i,s,n);break;case 13:Bl(i,s,n),n&&4&a&&Il(i,s);break;case 22:null===s.memoizedState&&Bl(i,s,n),dl(s,s.return);break;case 30:break;default:Bl(i,s,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ri(n))}function ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&ol(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){du(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Vl(e,t,n,r):Gl(e,t):2&s._visibility?Vl(e,t,n,r):(s._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(a,t);break;case 24:Vl(e,t,n,r),2048&i&&ql(t.alternate,t)}}function Wl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Wl(s,a,o,l,i),ol(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Wl(s,a,o,l,i):Gl(s,a):(u._visibility|=2,Wl(s,a,o,l,i)),i&&2048&c&&zl(a.alternate,a);break;case 24:Wl(s,a,o,l,i),i&&2048&c&&ql(a.alternate,a);break;default:Wl(s,a,o,l,i)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Gl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Gl(n,r),2048&i&&ql(r.alternate,r);break;default:Gl(n,r)}t=t.sibling}}var Kl=8192;function Yl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Yl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(a(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ld(n.href),s=e.querySelector(Id(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void We(s);s=e.ownerDocument||e,n=Td(n),(i=_d.get(i))&&Fd(n,i),We(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),td(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Yl(e);break;case 3:case 4:var t=Rl;Rl=Sd(e.stateNode.containerInfo),Yl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Yl(e),Kl=t):Yl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Xl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ri(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,s=r.return;if(jl(r),r===n){kl=null;break e}if(null!==i){i.return=s,kl=i;break e}kl=s}}}var tc={getCacheForType:function(e){var t=ji(Ti),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,sc=null,ac=0,oc=0,lc=null,cc=!1,uc=!1,dc=!1,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=0,bc=null,xc=null,wc=!1,Nc=0,_c=1/0,kc=null,Sc=null,jc=0,Ac=null,Ec=null,Cc=0,Lc=0,Ic=null,Tc=null,Pc=0,Rc=null;function Dc(){if(0!==(2&rc)&&0!==ac)return ac&-ac;if(null!==R.T){return 0!==Fi?Fi:Lu()}return Le()}function Oc(){0===yc&&(yc=0===(536870912&ac)||si?Ne():536870912);var e=ro.current;return null!==e&&(e.flags|=32),yc}function Fc(e,t,n){(e!==ic||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Hc(e,0),zc(e,ac,yc,!1)),Se(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(mc|=n),4===fc&&zc(e,ac,yc,!1)),_u(e))}function Mc(e,t,n){if(0!==(6&rc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Gc(),i=Kc();ic!==e||ac!==t?(kc=null,_c=te()+500,Hc(e,t)):uc=xe(e,t);e:for(;;)try{if(0!==oc&&null!==sc){t=sc;var s=lc;t:switch(oc){case 1:oc=0,lc=null,eu(e,t,s,1);break;case 2:case 9:if(Qi(s)){oc=0,lc=null,Zc(t);break}t=function(){2!==oc&&9!==oc||ic!==e||(oc=7),_u(e)},s.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Qi(s)?(oc=0,lc=null,Zc(t)):(oc=0,lc=null,eu(e,t,s,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||qd(o)){oc=0,lc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,tu(u)):sc=null}break t}}oc=0,lc=null,eu(e,t,s,5);break;case 6:oc=0,lc=null,eu(e,t,s,6);break;case 8:Vc(),fc=6;break e;default:throw Error(a(462))}}Xc();break}catch(d){Wc(e,d)}return vi=yi=null,R.H=r,R.A=i,rc=n,null!==sc?0:(ic=null,ac=0,Er(),fc)}(e,t):Qc(e,t,!0),s=r;;){if(0===i){uc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Bc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=s,mc|=s,i=4;break e}s=xc,xc=i,null!==s&&(null===xc?xc=s:xc.push.apply(xc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){Hc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,yc,!cc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Nc+300-te())){if(zc(r,t,yc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=cd(Uc.bind(null,r,n,xc,kc,wc,t,yc,mc,vc,cc,s,2,-0,0),i)}else Uc(r,n,xc,kc,wc,t,yc,mc,vc,cc,s,0,-0,0)}break}i=Qc(e,t,!1),s=!1}_u(e)}function Uc(e,t,n,r,i,s,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:Hd},Ql(t),null!==(h=function(){if(null===Vd)throw Error(a(475));var e=Vd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,s,n,r,i,o,l,c,d,1,f,p)),void zc(e,s,o,!u);ru(e,t,s,n,r,i,o,l,c)}function Bc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~gc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&je(e,n,t)}function qc(){return 0!==(6&rc)||(ku(0,!1),!1)}function Vc(){if(null!==sc){if(0===oc)var e=sc.return;else vi=yi=null,Fs(e=sc),Ya=null,Qa=0,e=sc;for(;null!==e;)al(e.alternate,e),e=e.return;sc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),ic=e,sc=n=Mr(e.current,null),ac=t,oc=0,lc=null,cc=!1,uc=xe(e,t),dc=!1,vc=yc=gc=mc=pc=fc=0,xc=bc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return hc=t,Er(),n}function Wc(e,t){bs=null,R.H=Ha,t===Wi||t===Ki?(t=Zi(),oc=3):t===Gi?(t=Zi(),oc=4):oc=t===jo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===sc&&(fc=1,wo(e,kr(t,e.current)))}function Gc(){var e=R.H;return R.H=Ha,null===e?Ha:e}function Kc(){var e=R.A;return R.A=tc,e}function Yc(){fc=4,cc||(4194048&ac)!==ac&&null!==ro.current||(uc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===ic||zc(ic,ac,yc,!1)}function Qc(e,t,n){var r=rc;rc|=2;var i=Gc(),s=Kc();ic===e&&ac===t||(kc=null,Hc(e,t)),t=!1;var a=fc;e:for(;;)try{if(0!==oc&&null!==sc){var o=sc,l=lc;switch(oc){case 8:Vc(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=oc;if(oc=0,lc=null,eu(e,o,l,c),n&&uc){a=0;break e}break;default:c=oc,oc=0,lc=null,eu(e,o,l,c)}}Jc(),a=fc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,rc=r,R.H=i,R.A=s,null===sc&&(ic=null,ac=0,Er()),a}function Jc(){for(;null!==sc;)$c(sc)}function Xc(){for(;null!==sc&&!Z();)$c(sc)}function $c(e){var t=$o(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Fo(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Fo(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Fs(t);default:al(n,t),t=$o(n,t=sc=Ur(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function eu(e,t,n,r){vi=yi=null,Fs(t),Ya=null,Qa=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_i(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Yc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),Yc(),!1}if(si)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(kr(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(kr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),os(e,i=_o(e.stateNode,r,i)),4!==fc&&(fc=2)),!1;var s=Error(a(520),{cause:r});if(s=kr(s,n),null===bc?bc=[s]:bc.push(s),4!==fc&&(fc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,os(n,e=_o(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Sc||!Sc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,So(i=ko(i),e,n,r),os(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return fc=1,wo(e,kr(n,e.current)),void(sc=null)}catch(s){if(null!==i)throw sc=i,s;return fc=1,wo(e,kr(n,e.current)),void(sc=null)}32768&t.flags?(si||1===r?e=!0:uc||0!==(536870912&ac)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=il(t.alternate,t,hc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);fc=6,sc=null}function ru(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==jc);if(0!==(6&rc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&je(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Ar,o,l,c),e===ic&&(sc=ic=null,ac=0),Ec=t,Ac=e,Cc=n,Lc=s,Ic=i,Tc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(se,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,i=D.p,D.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(s=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){du(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{rc=o,D.p=i,R.T=r}}jc=1,iu(),su(),au()}}function iu(){if(1===jc){jc=0;var e=Ac,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var i=rc;rc|=4;try{Dl(t,e);var s=rd,a=er(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=$n(o,m),v=$n(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rh=!!nd,rd=nd=null}finally{rc=i,D.p=r,R.T=n}}e.current=t,jc=2}}function su(){if(2===jc){jc=0;var e=Ac,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var i=rc;rc|=4;try{Sl(e,t.alternate,t)}finally{rc=i,D.p=r,R.T=n}}jc=3}}function au(){if(4===jc||3===jc){jc=0,ee();var e=Ac,t=Ec,n=Cc,r=Tc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jc=5:(jc=0,Ec=Ac=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Sc=null),Ce(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,i=D.p,D.p=2,R.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{R.T=t,D.p=i}}0!==(3&Cc)&&lu(),_u(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Rc?Pc++:(Pc=0,Rc=e):Pc=0,ku(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ri(t)))}function lu(e){return iu(),su(),au(),cu()}function cu(){if(5!==jc)return!1;var e=Ac,t=Lc;Lc=0;var n=Ce(Cc),r=R.T,i=D.p;try{D.p=32>n?32:n,R.T=null,n=Ic,Ic=null;var s=Ac,o=Cc;if(jc=0,Ec=Ac=null,Cc=0,0!==(6&rc))throw Error(a(331));var l=rc;if(rc|=4,$l(s.current),Hl(s,s.current,o,n),rc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{D.p=i,R.T=r,ou(e,t)}}function uu(e,t,n){t=kr(n,t),null!==(e=ss(e,t=_o(e.stateNode,t,2),2))&&(Se(e,2),_u(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=kr(n,e),null!==(r=ss(t,n=ko(2),2))&&(So(n,r,t,e),Se(r,2),_u(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(dc=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(ac&n)===n&&(4===fc||3===fc&&(62914560&ac)===ac&&300>te()-Nc?0===(2&rc)&&Hc(e,0):gc|=n,vc===ac&&(vc=0)),_u(e)}function pu(e,t){0===t&&(t=_e()),null!==(e=Ir(e,t))&&(Se(e,t),_u(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,vu=null,bu=!1,xu=!1,wu=!1,Nu=0;function _u(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),xu=!0,bu||(bu=!0,hd(function(){0!==(6&rc)?X(re,Su):ju()}))}function ku(e,t){if(!wu&&xu){wu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Cu(r,s))}else s=ac,0===(3&(s=be(r,r===ic?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,s)||(n=!0,Cu(r,s));r=r.next}}while(n);wu=!1}}function Su(){ju()}function ju(){xu=bu=!1;var e=0;0!==Nu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=Nu),Nu=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,s=Au(r,t);0===s?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&s))&&(xu=!0)),r=i}ku(e,!1)}function Au(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-fe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=ac,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&$(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&$(r),Ce(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=oe}return r=Eu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&$(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==jc&&5!==jc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Au(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Cu(e,t){if(lu())return null;Mc(e,t,!0)}function Lu(){return 0===Nu&&(Nu=Ne()),Nu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function Tu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<wr.length;Pu++){var Ru=wr[Pu];Nr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Nr(fr,"onAnimationEnd"),Nr(pr,"onAnimationIteration"),Nr(mr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(gr,"onTransitionRun"),Nr(yr,"onTransitionStart"),Nr(vr,"onTransitionCancel"),Nr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Fu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}}}}function Mu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(qu(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),qu(n,e,r,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Bu]){e[Bu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||Uu(t,!1,e),Uu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Uu("selectionchange",!1,t))}}function qu(e,t,n,r){switch(uh(t)){case 2:var i=ih;break;case 8:i=sh;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=ze(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Ot(function(){var r=s,i=It(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(m,f))&&d.push(Hu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Lt||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Re])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Ve(c),p=null==u?o:Ve(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,ze(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Gu(p))m++;for(p=0,g=f;g;g=Gu(g))p++;for(;0<m-p;)d=Gu(d),m--;for(;0<p-m;)f=Gu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Gu(d),f=Gu(f)}d=null}else d=null;null!==c&&Ku(a,o,c,d,!1),null!==u&&null!==h&&Ku(a,h,u,d,!0)}if("select"===(c=(o=r?Ve(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Mn;else if(Tn(o))if(Un)y=Yn;else{y=Gn;var v=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&jt(r.elementType)&&(y=Mn):y=Kn;switch(y&&(y=y(e,r))?Pn(a,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?Ve(r):window,e){case"focusin":(Tn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var b;if(Nn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ln?En(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Sn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==x?"onCompositionEnd"===x&&Ln&&(b=Ht()):(qt="value"in(zt=i)?zt.value:zt.textContent,Ln=!0)),0<(v=Wu(r,x)).length&&(x=new cn(x,e,null,n,i),a.push({event:x,listeners:v}),b?x.data=b:null!==(b=Cn(n))&&(x.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Cn(t);case"keypress":return 32!==t.which?null:(An=!0,jn);case"textInput":return(e=t.data)===jn&&An?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!Nn&&En(e,t)?(e=Ht(),Vt=qt=zt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Wu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Iu((i[Pe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Pe]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Nu){var e=a?Tu(i,a):new FormData(i);La(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Tu(i,a):new FormData(i),La(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Fu(a,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift(Hu(e,i,s)),null!=(i=Ft(e,t))&&r.push(Hu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Gu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ft(n,s))&&a.unshift(Hu(n,c,l)):i||null!=(c=Ft(n,s))&&a.push(Hu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Yu,"\n").replace(Qu,"")}function Xu(e,t){return t=Ju(t),Ju(e)===t}function $u(){}function Zu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Nt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":St(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$u);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ct(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=At.get(n)||n,r)}}function ed(e,t,n,r,i,s){switch(n){case"style":St(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&Nt(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Pe]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,r,o,n,null)}}return s&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Zu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,o,s,!1),void dt(e);case"select":for(s in Mu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Zu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Mu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Zu(e,t,o,l,n,null)}return wt(e,i,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Mu(Du[i],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(jt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nd=null,rd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(fd)}:cd;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function md(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&Nd(a.documentElement),2&n&&Nd(a.body),4&n)for(Nd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void Eh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Eh(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Nd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var _d=new Map,kd=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var jd=D.d;D.d={f:function(){var e=jd.f(),t=qc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Ta(t):jd.r(e)},D:function(e){jd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){jd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){jd.L(e,t,n);var r=Ad;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Ld(e);break;case"script":s=Pd(e)}_d.has(s)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Id(s))||"script"===t&&r.querySelector(Rd(s))||(td(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){jd.m(e,t);var n=Ad;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Pd(e)}if(!_d.has(s)&&(e=h({rel:"modulepreload",href:e},t),_d.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(s)))return}td(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){jd.X(e,t);var n=Ad;if(n&&e){var r=He(n).hoistableScripts,i=Pd(e),s=r.get(i);s||((s=n.querySelector(Rd(i)))||(e=h({src:e,async:!0},t),(t=_d.get(i))&&Md(e,t),We(s=n.createElement("script")),td(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){jd.S(e,t,n);var r=Ad;if(r&&e){var i=He(r).hoistableStyles,s=Ld(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Id(s)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(s))&&Fd(e,n);var l=a=r.createElement("link");We(l),td(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Od(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){jd.M(e,t);var n=Ad;if(n&&e){var r=He(n).hoistableScripts,i=Pd(e),s=r.get(i);s||((s=n.querySelector(Rd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=_d.get(i))&&Md(e,t),We(s=n.createElement("script")),td(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Ad="undefined"===typeof document?null:document;function Ed(e,t,n){var r=Ad;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kd.has(i)||(kd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(td(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Cd(e,t,n,r){var i,s,o,l,c=(c=H.current)?Sd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ld(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ld(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Id(e)))&&!u._p&&(d.instance=u,d.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),u||(i=c,s=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),td(s,"link",o),We(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ld(e){return'href="'+mt(e)+'"'}function Id(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),td(r,"style",i),Od(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ld(n.href);var s=e.querySelector(Id(i));if(s)return t.state.loading|=4,t.instance=s,We(s),s;r=Td(n),(i=_d.get(i))&&Fd(r,i),We(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),td(s,"link",r),t.state.loading|=4,Od(s,n.precedence,e),t.instance=s;case"script":return s=Pd(n.src),(i=e.querySelector(Rd(s)))?(t.instance=i,We(i),i):(r=n,(i=_d.get(s))&&Md(r=h({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),td(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Od(r,n.precedence,e));return t.instance}function Od(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function Bd(e,t,n){if(null===Ud){var r=new Map,i=Ud=new Map;i.set(n,r)}else(r=(i=Ud).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ue]||s[Te]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function qd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function Hd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gd=new Map,t.forEach(Yd,e),Gd=null,Wd.call(e))}function Yd(e,t){if(!(4&t.state.loading)){var n=Gd.get(e);if(n)var r=n.get(null);else{n=new Map,Gd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Wd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Jd(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Jd(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Or(3,null,null,t),e.current=s,s.stateNode=e,(t=Pi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function $d(e){return e?e=Rr:Rr}function Zd(e,t,n,r,i,s){i=$d(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Fc(n,0,t),as(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Fc(t,0,67108864),th(e,67108864)}}var rh=!0;function ih(e,t,n,r){var i=R.T;R.T=null;var s=D.p;try{D.p=2,ah(e,t,n,r)}finally{D.p=s,R.T=i}}function sh(e,t,n,r){var i=R.T;R.T=null;var s=D.p;try{D.p=8,ah(e,t,n,r)}finally{D.p=s,R.T=i}}function ah(e,t,n,r){if(rh){var i=oh(r);if(null===i)Vu(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hh=xh(hh,e,t,n,r,i),!0;case"dragenter":return fh=xh(fh,e,t,n,r,i),!0;case"mouseover":return ph=xh(ph,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return mh.set(s,xh(mh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gh.set(s,xh(gh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var s=qe(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=ve(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-fe(a);o.entanglements[1]|=l,a&=~l}_u(s),0===(6&rc)&&(_c=te()+500,ku(0,!1))}}break;case 13:null!==(o=Ir(s,2))&&Fc(o,0,2),qc(),th(s,2)}if(null===(s=oh(r))&&Vu(e,t,r,lh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function oh(e){return ch(e=It(e))}var lh=null;function ch(e){if(lh=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,fh=null,ph=null,mh=new Map,gh=new Map,yh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function xh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=qe(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Ee(e);var t=Ir(n,e);null!==t&&Fc(t,0,e),th(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Lt=r,n.target.dispatchEvent(r),Lt=null,t.shift()}return!0}function _h(e,t,n){Nh(e)&&n.delete(t)}function kh(){dh=!1,null!==hh&&Nh(hh)&&(hh=null),null!==fh&&Nh(fh)&&(fh=null),null!==ph&&Nh(ph)&&(ph=null),mh.forEach(_h),gh.forEach(_h)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var jh=null;function Ah(e){jh!==e&&(jh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jh===e&&(jh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var s=qe(n);null!==s&&(e.splice(t,3),t-=3,La(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Eh(e){function t(t){return Sh(t,e)}null!==hh&&Sh(hh,e),null!==fh&&Sh(fh,e),null!==ph&&Sh(ph,e),mh.forEach(t),gh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)wh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Pe]||null;if("function"===typeof s)a||Ah(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Pe]||null)o=a.formAction;else if(null!==ch(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ah(n)}}}function Ch(e){this._internalRoot=e}function Lh(e){this._internalRoot=e}Lh.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zd(t.current,Dc(),e,t,null,null)},Lh.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),qc(),t[Re]=null}},Lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&wh(e)}};var Ih=i.version;if("19.1.1"!==Ih)throw Error(a(527,Ih,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Th),de=Ph}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=vo,s=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,i,s,l,0,null),e[Re]=t.current,zu(e),new Ch(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=vo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,i,s,l,c,0,u)).context=$d(null),n=t.current,(i=is(r=Ee(r=Dc()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,Se(t,n),_u(t),e[Re]=t.current,zu(e),new Lh(t)},t.version="19.1.1"},7950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8853:(e,t,n)=>{e.exports=n(5896)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{239:"1d9aca4c",453:"23ca34f2",455:"b43855cc",977:"5e6367d4"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="internship_portal_latest:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Internship_hub/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkinternship_portal_latest=self.webpackChunkinternship_portal_latest||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(5043),i=n(4391);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var a=n(4980);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c=["sri"],u=["page"],d=["page","matches"],h=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],p=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var m="popstate";function g(){return _(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return x("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function y(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return l(l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function N(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function _(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",c=null,u=d();function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:o,location:p.location,delta:t})}function f(e){return k(e)}null==u&&(u=0,a.replaceState(l(l({},a.state),{},{idx:u}),""));let p={get action(){return o},get location(){return e(i,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(m,h),c=e,()=>{i.removeEventListener(m,h),c=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=x(p.location,e,t);n&&n(r,e),u=d()+1;let l=b(r,u),h=p.createHref(r);try{a.pushState(l,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}s&&c&&c({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=x(p.location,e,t);n&&n(r,e),u=d();let i=b(r,u),l=p.createHref(r);a.replaceState(i,"",l),s&&c&&c({action:o,location:p.location,delta:0})},go:e=>a.go(e)};return p}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),y(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function S(e,t){return j(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function j(e,t,n,r){let i=z(("string"===typeof t?N(t):t).pathname||"/",n);if(null==i)return null;let s=A(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=B(i);a=F(s[o],e,r)}return a}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&a)return;y(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=G([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),A(e.children,t,u,c,a)),(null!=e.path||e.index)&&t.push({path:c,score:O(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of E(e.path))s(e,t,!0,r);else s(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=E(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var C=/^:[\w-]+$/,L=3,I=2,T=1,P=10,R=-2,D=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=R),t&&(r+=I),n.filter(e=>!D(e)).reduce((e,t)=>e+(C.test(t)?L:""===t?T:P),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:G([s,u.pathname]),pathnameBase:K(G([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=G([s,u.pathnameBase]))}return a}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=U(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return v(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function H(e){let t=V(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function W(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=N(e):(r=l({},e),y(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),y(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),y(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let s,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?N(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Y(r),hash:Q(i)}}(r,s),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var G=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],$=(new Set(X),["GET",...X]);new Set($),Symbol("ResetLoaderData");var Z=r.createContext(null);Z.displayName="DataRouter";var ee=r.createContext(null);ee.displayName="DataRouterState";var te=r.createContext(!1);var ne=r.createContext({isTransitioning:!1});ne.displayName="ViewTransition";var re=r.createContext(new Map);re.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var se=r.createContext(null);se.displayName="Navigation";var ae=r.createContext(null);ae.displayName="Location";var oe=r.createContext({outlet:null,matches:[],isDataRoute:!1});oe.displayName="Route";var le=r.createContext(null);le.displayName="RouteError";function ce(){return null!=r.useContext(ae)}function ue(){return y(ce(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ae).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function he(e){r.useContext(se).static||r.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=r.useContext(oe);return e?function(){let{router:e}=_e("useNavigate"),t=Se("useNavigate"),n=r.useRef(!1);he(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(n.current,de),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,l({fromRouteId:t},i)))},[e,t]);return i}():function(){y(ce(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(Z),{basename:t,navigator:n}=r.useContext(se),{matches:i}=r.useContext(oe),{pathname:s}=ue(),a=JSON.stringify(H(i)),o=r.useRef(!1);he(()=>{o.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(o.current,de),!o.current)return;if("number"===typeof r)return void n.go(r);let l=W(r,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:G([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,a,s,e]);return l}()}r.createContext(null);function pe(){let{matches:e}=r.useContext(oe),t=e[e.length-1];return t?t.params:{}}function me(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(oe),{pathname:i}=ue(),s=JSON.stringify(H(n));return r.useMemo(()=>W(e,JSON.parse(s),i,"path"===t),[e,s,i,t])}function ge(e,t,n,i,s){y(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=r.useContext(se),{matches:o}=r.useContext(oe),c=o[o.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";Ee(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=ue();if(t){var g;let e="string"===typeof t?N(t):t;y("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let b=p.pathname||"/",x=b;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=S(e,{pathname:x});v(f||null!=w,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),v(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=we(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:G([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:G([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,i,s);return t&&_?r.createElement(ae.Provider,{value:{location:l({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},_):_}function ye(){let e=je(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var ve=r.createElement(ye,null),be=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(oe.Provider,{value:this.props.routeContext},r.createElement(le.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(Z);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(oe.Provider,{value:t},i)}function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,a=null===n||void 0===n?void 0:n.errors;if(null!=a){let e=s.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));y(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(n)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,c,u)=>{let d,h=!1,f=null,p=null;n&&(d=a&&c.route.id?a[c.route.id]:void 0,f=c.route.errorElement||ve,o&&(l<0&&0===u?(Ee("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:c.route.Component?r.createElement(c.route.Component,null):c.route.element?c.route.element:e,r.createElement(xe,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?r.createElement(be,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:i}):g()},null)}function Ne(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function _e(e){let t=r.useContext(Z);return y(t,Ne(e)),t}function ke(e){let t=r.useContext(ee);return y(t,Ne(e)),t}function Se(e){let t=function(e){let t=r.useContext(oe);return y(t,Ne(e)),t}(e),n=t.matches[t.matches.length-1];return y(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function je(){var e;let t=r.useContext(le),n=ke("useRouteError"),i=Se("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ae={};function Ee(e,t,n){t||Ae[e]||(Ae[e]=!0,v(!1,n))}var Ce={};function Le(e,t){e||Ce[t]||(Ce[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return ge(t,void 0,r,i,n)});function Ie(e){y(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Te(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:a,static:o=!1}=e;y(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);"string"===typeof i&&(i=N(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=r.useMemo(()=>{let e=z(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:s}},[l,u,d,h,f,p,s]);return v(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(se.Provider,{value:c},r.createElement(ae.Provider,{children:n,value:m}))}function Pe(e){let{children:t,location:n}=e;return ge(Re(t),n)}r.Component;function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Re(e.props.children,s));y(e.type===Ie,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),y(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Re(e.props.children,s)),n.push(a)}),n}var De="get",Oe="application/x-www-form-urlencoded";function Fe(e){return null!=e&&"string"===typeof e.tagName}var Me=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||Ue.has(e)?e:(v(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Oe,'"')),null)}function ze(e,t){let n,r,i,s,a;if(Fe(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?z(a,t):null,n=e.getAttribute("method")||De,i=Be(e.getAttribute("enctype"))||Oe,s=new FormData(e)}else if(function(e){return Fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?z(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||De,i=Be(e.getAttribute("formenctype"))||Be(a.getAttribute("enctype"))||Oe,s=new FormData(a,e),!function(){if(null===Me)try{new FormData(document.createElement("form"),0),Me=!1}catch(e){Me=!0}return Me}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=De,r=null,i=Oe,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function qe(e){return{__html:e}}function Ve(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function He(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===z(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function We(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ge(e){return null!=e&&"string"===typeof e.page}function Ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ye(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Je(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Ge(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function Xe(e,t){return"lazy"===e.mode&&!0===t}function $e(){let e=r.useContext(Z);return Ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ze(){let e=r.useContext(ee);return Ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var et=r.createContext(void 0);function tt(){let e=r.useContext(et);return Ve(e,"You must render this element inside a <HydratedRouter> element"),e}function nt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rt(e,t,n){if(n&&!ot)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}et.displayName="FrameworkContext";function it(e){let{page:t}=e,n=s(e,u),{router:i}=$e(),a=r.useMemo(()=>S(i.routes,t,i.basename),[i.routes,t,i.basename]);return a?r.createElement(at,l({page:t,matches:a},n)):null}function st(e){let{manifest:t,routeModules:n}=tt(),[i,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return Je((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await We(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ke).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?l(l({},e),{},{rel:"prefetch",as:"style"}):l(l({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),i}function at(e){let{page:t,matches:n}=e,i=s(e,d),a=ue(),{manifest:o,routeModules:c}=tt(),{basename:u}=$e(),{loaderData:h,matches:f}=Ze(),p=r.useMemo(()=>Ye(t,n,f,o,a,"data"),[t,n,f,o,a]),m=r.useMemo(()=>Ye(t,n,f,o,a,"assets"),[t,n,f,o,a]),g=r.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=o.routes[t.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=c[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=He(t,u,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[u,h,a,o,p,n,t,c]),y=r.useMemo(()=>Qe(m,o),[m,o]),v=st(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",l({key:e,rel:"prefetch",as:"fetch",href:e},i))),y.map(e=>r.createElement("link",l({key:e,rel:"modulepreload",href:e},i))),v.map(e=>{let{key:t,link:n}=e;return r.createElement("link",l({key:t,nonce:i.nonce},n))}))}var ot=!1;function lt(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:a,routeDiscovery:o,ssr:u}=tt(),{router:d,static:h,staticContext:f}=$e(),{matches:p}=Ze(),m=r.useContext(te),g=Xe(o,u);a&&(a.didRenderScripts=!0);let y=rt(p,null,i);r.useEffect(()=>{ot=!0},[]);let v=r.useMemo(()=>{var i;if(m)return null;let a=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Ve(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=s(e,c),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push("/".concat(a.join("/"))),a.pop();o.forEach(e=>{let n=S(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let u=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return l(l({},r),{},{routes:u,sri:!!n||void 0})}(t,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",l(l({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qe(a),type:void 0})),r.createElement("script",l(l({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qe(o),type:"module",async:!0})))},[]),b=ot||m?[]:(x=t.entry.imports.concat(Qe(y,t,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let w="object"===typeof t.sri?t.sri:{};return Le(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ot||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),v)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function ut(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(t))return r.createElement(dt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(dt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function dt(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:s,children:a}=e,{routeModules:o}=tt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,i?r.createElement(lt,null):null)))}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.8.2")}catch(uE){}function ft(e){let{basename:t,children:n,window:i}=e,s=r.useRef();null==s.current&&(s.current=g({window:i,v5Compat:!0}));let a=s.current,[o,l]=r.useState({action:a.action,location:a.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>a.listen(c),[a,c]),r.createElement(Te,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=r.forwardRef(function(e,t){let n,{onClick:i,discover:a="render",prefetch:o="none",relative:c,reloadDocument:u,replace:d,state:f,target:p,to:m,preventScrollReset:g,viewTransition:b}=e,x=s(e,h),{basename:N}=r.useContext(se),_="string"===typeof m&&pt.test(m),k=!1;if("string"===typeof m&&_&&(n=m,ht))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=z(t.pathname,N);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:k=!0}catch(uE){v(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(se),{hash:s,pathname:a,search:o}=me(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:G([n,a])),i.createHref({pathname:l,search:o,hash:s})}(m,{relative:c}),[j,A,E]=function(e,t){let n=r.useContext(et),[i,s]=r.useState(!1),[a,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:nt(l,p),onBlur:nt(c,m),onMouseEnter:nt(u,p),onMouseLeave:nt(d,m),onTouchStart:nt(h,p)}]:[!1,f,{}]}(o,x),C=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=fe(),c=ue(),u=me(e,{relative:a});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:w(c)===w(u);l(e,{replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,n,i,t,e,s,a,o])}(m,{replace:d,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:b});let L=r.createElement("a",l(l(l({},x),E),{},{href:n||S,onClick:k||u?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:ct(t,A),target:p,"data-discover":_||"render"!==a?void 0:"true"}));return j&&!_?r.createElement(r.Fragment,null,L,r.createElement(it,{page:S})):L});mt.displayName="Link";var gt=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:u,viewTransition:d,children:h}=e,p=s(e,f),m=me(u,{relative:p.relative}),g=ue(),v=r.useContext(ee),{navigator:b,basename:x}=r.useContext(se),w=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(ne);y(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bt("useViewTransitionState"),s=me(e,{relative:t});if(!n.isTransitioning)return!1;let a=z(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=z(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=M(s.pathname,o)||null!=M(s.pathname,a)}(m)&&!0===d,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,_=g.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(_=_.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&x&&(k=z(k,x)||k);const S="/"!==N&&N.endsWith("/")?N.length-1:N.length;let j,A=_===N||!o&&_.startsWith(N)&&"/"===_.charAt(S),E=null!=k&&(k===N||!o&&k.startsWith(N)&&"/"===k.charAt(N.length)),C={isActive:A,isPending:E,isTransitioning:w},L=A?n:void 0;j="function"===typeof a?a(C):[a,A?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof c?c(C):c;return r.createElement(mt,l(l({},p),{},{"aria-current":L,className:j,ref:t,style:I,to:u,viewTransition:d}),"function"===typeof h?h(C):h)});gt.displayName="NavLink";var yt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:a,reloadDocument:o,replace:c,state:u,method:d=De,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:v}=e,b=s(e,p),x=Nt(),N=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(se),i=r.useContext(oe);y(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a=l({},me(e||".",{relative:t})),o=ue();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:G([n,a.pathname]));return w(a)}(h,{relative:m}),_="get"===d.toLowerCase()?"get":"post",k="string"===typeof h&&pt.test(h);return r.createElement("form",l(l({ref:t,method:_,action:N,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:c,state:u,relative:m,preventScrollReset:g,viewTransition:v})}},b),{},{"data-discover":k||"render"!==n?void 0:"true"}))});function vt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function bt(e){let t=r.useContext(Z);return y(t,vt(e)),t}yt.displayName="Form";var xt=0,wt=()=>"__".concat(String(++xt),"__");function Nt(){let{router:e}=bt("useSubmit"),{basename:t}=r.useContext(se),n=Se("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=ze(r,t);if(!1===i.navigate){let t=i.fetcherKey||wt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}const _t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_t(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new St;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class St extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jt=function(e){return function(e){const t=_t(e);return kt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},At=function(e){try{return kt.decodeString(e,!0)}catch(uE){console.error("base64Decode failed: ",uE)}return null};function Et(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ct=()=>{try{return Et().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Internship_hub",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uE){return}const t=e&&At(e[1]);return t&&JSON.parse(t)})()}catch(uE){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(uE))}},Lt=e=>{var t;return null===(t=Ct())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},It=e=>{const t=Lt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Tt=()=>{var e;return null===(e=Ct())||void 0===e?void 0:e.config},Pt=e=>{var t;return null===(t=Ct())||void 0===t?void 0:t["_".concat(e)]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Dt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ot(e){return(await fetch(e,{credentials:"include"})).ok}function Ft(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=l({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[jt(JSON.stringify({alg:"none",type:"JWT"})),jt(JSON.stringify(s)),""].join(".")}const Mt={};let Ut=!1;function Bt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Dt(window.location.host)||Mt[e]===t||Mt[e]||Ut)return;function n(e){return"__firebase__banner__".concat(e)}Mt[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Mt))Mt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ut=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function zt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function qt(){var e;const t=null===(e=Ct())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uE){return!1}}function Vt(){return!qt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ht(){try{return"object"===typeof indexedDB}catch(uE){return!1}}class Wt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gt.prototype.create)}}class Gt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Kt,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Wt(n,s,t)}}const Kt=/\{\$([^}]+)}/g;function Yt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Qt(n)&&Qt(s)){if(!Yt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qt(e){return null!==e&&"object"===typeof e}function Jt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Xt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function $t(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Zt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=en),void 0===r.error&&(r.error=en),void 0===r.complete&&(r.complete=en);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uE){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uE){"undefined"!==typeof console&&console.error&&console.error(uE)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function en(){}function tn(e){return e&&e._delegate?e._delegate:e}class nn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rn="[DEFAULT]";class sn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Rt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uE){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uE){if(r)return null;throw uE}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rn})}catch(uE){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uE){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===rn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.component?this.component.multipleInstances?e:rn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class an{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const on=[];var ln;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ln||(ln={}));const cn={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},un=ln.INFO,dn={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},hn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class fn{constructor(e){this.name=e,this._logLevel=un,this._logHandler=hn,this._userLogHandler=null,on.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?cn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}let pn,mn;const gn=new WeakMap,yn=new WeakMap,vn=new WeakMap,bn=new WeakMap,xn=new WeakMap;let wn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Nn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mn||(mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Sn(this),n),kn(gn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kn(e.apply(Sn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Sn(this),t,...r);return vn.set(s,t.sort?t.sort():[t]),kn(s)}}function _n(e){return"function"===typeof e?Nn(e):(e instanceof IDBTransaction&&function(e){if(yn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});yn.set(e,t)}(e),t=e,(pn||(pn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,wn):e);var t}function kn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(kn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&gn.set(t,e)}).catch(()=>{}),xn.set(t,e),t}(e);if(bn.has(e))return bn.get(e);const t=_n(e);return t!==e&&(bn.set(e,t),xn.set(t,e)),t}const Sn=e=>xn.get(e);const jn=["get","getKey","getAll","getAllKeys","count"],An=["put","add","delete","clear"],En=new Map;function Cn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(En.get(t))return En.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=An.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!jn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return En.set(t,s),s}wn=(e=>l(l({},e),{},{get:(t,n,r)=>Cn(t,n)||e.get(t,n,r),has:(t,n)=>!!Cn(t,n)||e.has(t,n)}))(wn);class Ln{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const In="@firebase/app",Tn="0.14.2",Pn=new fn("@firebase/app"),Rn="@firebase/app-compat",Dn="@firebase/analytics-compat",On="@firebase/analytics",Fn="@firebase/app-check-compat",Mn="@firebase/app-check",Un="@firebase/auth",Bn="@firebase/auth-compat",zn="@firebase/database",qn="@firebase/data-connect",Vn="@firebase/database-compat",Hn="@firebase/functions",Wn="@firebase/functions-compat",Gn="@firebase/installations",Kn="@firebase/installations-compat",Yn="@firebase/messaging",Qn="@firebase/messaging-compat",Jn="@firebase/performance",Xn="@firebase/performance-compat",$n="@firebase/remote-config",Zn="@firebase/remote-config-compat",er="@firebase/storage",tr="@firebase/storage-compat",nr="@firebase/firestore",rr="@firebase/ai",ir="@firebase/firestore-compat",sr="firebase",ar="[DEFAULT]",or={[In]:"fire-core",[Rn]:"fire-core-compat",[On]:"fire-analytics",[Dn]:"fire-analytics-compat",[Mn]:"fire-app-check",[Fn]:"fire-app-check-compat",[Un]:"fire-auth",[Bn]:"fire-auth-compat",[zn]:"fire-rtdb",[qn]:"fire-data-connect",[Vn]:"fire-rtdb-compat",[Hn]:"fire-fn",[Wn]:"fire-fn-compat",[Gn]:"fire-iid",[Kn]:"fire-iid-compat",[Yn]:"fire-fcm",[Qn]:"fire-fcm-compat",[Jn]:"fire-perf",[Xn]:"fire-perf-compat",[$n]:"fire-rc",[Zn]:"fire-rc-compat",[er]:"fire-gcs",[tr]:"fire-gcs-compat",[nr]:"fire-fst",[ir]:"fire-fst-compat",[rr]:"fire-vertex","fire-js":"fire-js",[sr]:"fire-js-all"},lr=new Map,cr=new Map,ur=new Map;function dr(e,t){try{e.container.addComponent(t)}catch(uE){Pn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),uE)}}function hr(e){const t=e.name;if(ur.has(t))return Pn.debug("There were multiple attempts to register component ".concat(t,".")),!1;ur.set(t,e);for(const n of lr.values())dr(n,e);for(const n of cr.values())dr(n,e);return!0}function fr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const mr=new Gt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gr{constructor(e,t,n){this._isDeleted=!1,this._options=l({},e),this._config=l({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const yr="12.2.0";function vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=l({name:ar,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw mr.create("bad-app-name",{appName:String(i)});if(n||(n=Tt()),!n)throw mr.create("no-options");const s=lr.get(i);if(s){if(Yt(n,s.options)&&Yt(r,s.config))return s;throw mr.create("duplicate-app",{appName:i})}const a=new an(i);for(const l of ur.values())a.addComponent(l);const o=new gr(n,r,a);return lr.set(i,o),o}function br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar;const t=lr.get(e);if(!t&&e===ar&&Tt())return vr();if(!t)throw mr.create("no-app",{appName:e});return t}function xr(e,t,n){var r;let i=null!==(r=or[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pn.warn(e.join(" "))}hr(new nn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const wr="firebase-heartbeat-store";let Nr=null;function _r(){return Nr||(Nr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=kn(a);return r&&a.addEventListener("upgradeneeded",e=>{r(kn(a.result),e.oldVersion,e.newVersion,kn(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(wr)}catch(uE){console.warn(uE)}}}).catch(e=>{throw mr.create("idb-open",{originalErrorMessage:e.message})})),Nr}async function kr(e,t){try{const n=(await _r()).transaction(wr,"readwrite"),r=n.objectStore(wr);await r.put(t,Sr(e)),await n.done}catch(uE){if(uE instanceof Wt)Pn.warn(uE.message);else{const t=mr.create("idb-set",{originalErrorMessage:null===uE||void 0===uE?void 0:uE.message});Pn.warn(t.message)}}}function Sr(e){return"".concat(e.name,"!").concat(e.options.appId)}class jr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Er(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ar();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(uE){Pn.warn(uE)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ar(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Cr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=jt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(uE){return Pn.warn(uE),""}}}function Ar(){return(new Date).toISOString().substring(0,10)}class Er{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ht()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await _r()).transaction(wr),n=await t.objectStore(wr).get(Sr(e));return await t.done,n}catch(uE){if(uE instanceof Wt)Pn.warn(uE.message);else{const t=mr.create("idb-get",{originalErrorMessage:null===uE||void 0===uE?void 0:uE.message});Pn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return kr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return kr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Cr(e){return jt(JSON.stringify({version:2,heartbeats:e})).length}var Lr;Lr="",hr(new nn("platform-logger",e=>new Ln(e),"PRIVATE")),hr(new nn("heartbeat",e=>new jr(e),"PRIVATE")),xr(In,Tn,Lr),xr(In,Tn,"esm2020"),xr("fire-js","");const Ir=["providerId"],Tr=["uid","auth","stsTokenManager"],Pr=["providerId","signInMethod"];function Rr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dr=Rr,Or=new Gt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fr=new fn("@firebase/auth");function Mr(e){if(Fr.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fr.error("Auth (".concat(yr,"): ").concat(e),...n)}}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hr(e,...n)}function Br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hr(e,...n)}function zr(e,t,n){const r=l(l({},Dr()),{},{[t]:n});return new Gt("auth","Firebase",r).create(t,{appName:e.name})}function qr(e){return zr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ur(e,"argument-error"),zr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Or.create(e,...n)}function Wr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Hr(t,...r)}}function Gr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Mr(t),new Error(t)}function Kr(e,t){e||Gr(t)}function Yr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qr(){return"http:"===Jr()||"https:"===Jr()}function Jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Xr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class $r{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Xr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zr(e,t){Kr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ei{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ti={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ni=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ri=new $r(3e4,6e4);function ii(e,t){return e.tenantId&&!t.tenantId?l(l({},t),{},{tenantId:e.tenantId}):t}async function si(e,t,n,r){return ai(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Jt(l({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const c=l({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Dt(e.emulatorConfig.host)&&(c.credentials="include"),ei.fetch()(await li(e,e.config.apiHost,n,a),c)})}async function ai(e,t,n){e._canInitEmulator=!1;const r=l(l({},ti),t);try{const t=new ui(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw di(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw di(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw di(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw di(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw zr(e,o,a);Ur(e,o)}}catch(uE){if(uE instanceof Wt)throw uE;Ur(e,"network-request-failed",{message:String(uE)})}}async function oi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await si(e,t,n,r,i);return"mfaPendingCredential"in s&&Ur(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function li(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?Zr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(ni.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function ci(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ui{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Br(this.auth,"network-request-failed")),ri.get())})}}function di(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Br(e,t,r);return i.customData._tokenResponse=n,i}function hi(e){return void 0!==e&&void 0!==e.enterprise}class fi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ci(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pi(e,t){return si(e,"GET","/v2/recaptchaConfig",ii(e,t))}async function mi(e,t){return si(e,"POST","/v1/accounts:lookup",t)}function gi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uE){}}function yi(e){return 1e3*Number(e)}function vi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Mr("JWT malformed, contained fewer than 3 sections"),null;try{const e=At(n);return e?JSON.parse(e):(Mr("Failed to decode base64 JWT payload"),null)}catch(uE){return Mr("Caught error parsing JWT payload as JSON",null===uE||void 0===uE?void 0:uE.toString()),null}}function bi(e){const t=vi(e);return Wr(t,"internal-error"),Wr("undefined"!==typeof t.exp,"internal-error"),Wr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function xi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(uE){throw uE instanceof Wt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(uE)&&e.auth.currentUser===e&&await e.auth.signOut(),uE}}class wi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uE){return void((null===uE||void 0===uE?void 0:uE.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ni{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _i(e){var t;const n=e.auth,r=await e.getIdToken(),i=await xi(e,mi(n,{idToken:r}));Wr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?ki(s.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null!==o&&void 0!==o&&o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ni(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function ki(e){return e.map(e=>{let{providerId:t}=e,n=s(e,Ir);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Si{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wr(e.idToken,"internal-error"),Wr("undefined"!==typeof e.idToken,"internal-error"),Wr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):bi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Wr(0!==e.length,"internal-error");const t=bi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Wr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ai(e,{},async()=>{const n=Jt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await li(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&Dt(e.emulatorConfig.host)&&(o.credentials="include"),ei.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Si;return n&&(Wr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Wr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Wr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Si,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function ji(e,t){Wr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ai{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,Tr);this.providerId="firebase",this.proactiveRefresh=new wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ni(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xi(this,this.stsTokenManager.getToken(this.auth,e));return Wr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=tn(e),r=await n.getIdToken(t),i=vi(r);Wr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gi(yi(i.auth_time)),issuedAtTime:gi(yi(i.iat)),expirationTime:gi(yi(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=tn(e);await _i(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Wr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>l({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai(l(l({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Wr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _i(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await xi(this,async function(e,t){return si(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return l(l({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>l({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:x,isAnonymous:w,providerData:N,stsTokenManager:_}=t;Wr(b&&_,e,"internal-error");const k=Si.fromJSON(this.name,_);Wr("string"===typeof b,e,"internal-error"),ji(d,e.name),ji(h,e.name),Wr("boolean"===typeof x,e,"internal-error"),Wr("boolean"===typeof w,e,"internal-error"),ji(f,e.name),ji(p,e.name),ji(m,e.name),ji(g,e.name),ji(y,e.name),ji(v,e.name);const S=new Ai({uid:b,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:k,createdAt:y,lastLoginAt:v});return N&&Array.isArray(N)&&(S.providerData=N.map(e=>l({},e))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Si;r.updateFromServerResponse(t);const i=new Ai({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await _i(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Wr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ki(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new Si;a.updateFromIdToken(n);const o=new Ai({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ni(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const Ei=new Map;function Ci(e){Kr(e instanceof Function,"Expected a class definition");let t=Ei.get(e);return t?(Kr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ei.set(e,t),t)}class Li{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Li.type="NONE";const Ii=Li;function Ti(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Pi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ti(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ti("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await mi(this.auth,{idToken:e}).catch(()=>{});return t?Ai._fromGetAccountInfoResponse(this.auth,t,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Pi(Ci(Ii),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Ci(Ii);const s=Ti(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await mi(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Ai._fromGetAccountInfoResponse(e,r,t)}else n=Ai._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new Pi(i,e,n)):new Pi(i,e,n)}}function Ri(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Di(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Bi(t))return"Blackberry";if(zi(t))return"Webos";if(Oi(t))return"Safari";if((t.includes("chrome/")||Fi(t))&&!t.includes("edge/"))return"Chrome";if(Ui(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/firefox\//i.test(e)}function Oi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/crios\//i.test(e)}function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/iemobile/i.test(e)}function Ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/android/i.test(e)}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/blackberry/i.test(e)}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/webos/i.test(e)}function qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vi(){return function(){const e=zt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return qi(e)||Ui(e)||zi(e)||Bi(e)||/windows phone/i.test(e)||Mi(e)}function Wi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ri(zt());break;case"Worker":t="".concat(Ri(zt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(yr,"/").concat(r)}class Gi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(uE){r(uE)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uE){t.reverse();for(const n of t)try{n()}catch(qS){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===uE||void 0===uE?void 0:uE.message})}}}class Ki{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Yi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ji(this),this.idTokenSubscription=new Ji(this),this.beforeStateQueue=new Gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Or,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ci(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Pi.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uE){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await mi(this,{idToken:e}),n=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,a=null===(s=n)||void 0===s?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==a||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(uE){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(uE))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Wr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uE){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _i(e)}catch(uE){if((null===uE||void 0===uE?void 0:uE.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(qr(this));const t=e?tn(e):null;return t&&Wr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Wr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return si(e,"GET","/v2/passwordPolicy",ii(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ki(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return si(e,"POST","/v2/accounts:revokeToken",ii(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ci(e)||this._popupRedirectResolver;Wr(t,this,"argument-error"),this.redirectPersistenceManager=await Pi.create(this,[Ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wr(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Fr.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fr.warn("Auth (".concat(yr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Qi(e){return tn(e)}class Ji{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Zt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Wr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $i(e){return Xi.loadJS(e)}function Zi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class es{constructor(){this.enterprise=new ts}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ts{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ns="NO_RECAPTCHA";class rs{constructor(e){this.type="recaptcha-enterprise",this.auth=Qi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;hi(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ns)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new es).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{pi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new fi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&hi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Xi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),$i(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function is(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new rs(e);let a;if(i)a=ns;else try{a=await s.verify(n)}catch(c){a=await s.verify(n,!0)}const o=l({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ss(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await is(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await is(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await is(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await is(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await is(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function as(e){const t=Qi(e),n=await pi(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fi(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new rs(t).verify()}}function os(e,t,n){const r=Qi(e);Wr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=ls(t),{host:a,port:o}=function(e){const t=ls(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:cs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:cs(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Wr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Wr(Yt(c,r.config.emulator)&&Yt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Dt(a)?(Ot("".concat(s,"//").concat(a).concat(l)),Bt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ls(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function cs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class us{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function ds(e,t){return si(e,"POST","/v1/accounts:signUp",t)}async function hs(e,t){return oi(e,"POST","/v1/accounts:signInWithPassword",ii(e,t))}async function fs(e,t){return si(e,"POST","/v1/accounts:sendOobCode",ii(e,t))}async function ps(e,t){return fs(e,t)}class ms extends us{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ms(e,t,"password")}static _fromEmailAndCode(e,t){return new ms(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ss(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",hs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return oi(e,"POST","/v1/accounts:signInWithEmailLink",ii(e,t))}(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ss(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ds,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return oi(e,"POST","/v1/accounts:signInWithEmailLink",ii(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function gs(e,t){return oi(e,"POST","/v1/accounts:signInWithIdp",ii(e,t))}class ys extends us{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,Pr);if(!n||!r)return null;const a=new ys(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return gs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,gs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,gs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jt(t)}return e}}async function vs(e,t){return si(e,"POST","/v1/accounts:sendVerificationCode",ii(e,t))}const bs={USER_NOT_FOUND:"user-not-found"};class xs extends us{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new xs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new xs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return oi(e,"POST","/v1/accounts:signInWithPhoneNumber",ii(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await oi(e,"POST","/v1/accounts:signInWithPhoneNumber",ii(e,t));if(n.temporaryProof)throw di(e,"account-exists-with-different-credential",n);return n}(e,l({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return oi(e,"POST","/v1/accounts:signInWithPhoneNumber",ii(e,l(l({},t),{},{operation:"REAUTH"})),bs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new xs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ws{constructor(e){var t,n,r,i,s,a;const o=Xt($t(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Wr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Xt($t(e)).link,n=t?Xt($t(t)).deep_link_id:null,r=Xt($t(e)).deep_link_id;return(r?Xt($t(r)).link:null)||r||n||t||e}(e);try{return new ws(t)}catch(n){return null}}}class Ns{constructor(){this.providerId=Ns.PROVIDER_ID}static credential(e,t){return ms._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ws.parseLink(t);return Wr(n,"argument-error"),ms._fromEmailAndCode(e,n.code,n.tenantId)}}Ns.PROVIDER_ID="password",Ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _s{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ks extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ss extends ks{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ss.credential(t.oauthAccessToken)}catch(n){return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ss.PROVIDER_ID="facebook.com";class js extends ks{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ys._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return js.credential(n,r)}catch(i){return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com",js.PROVIDER_ID="google.com";class As extends ks{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return As.credential(t.oauthAccessToken)}catch(n){return null}}}As.GITHUB_SIGN_IN_METHOD="github.com",As.PROVIDER_ID="github.com";class Es extends ks{constructor(){super("twitter.com")}static credential(e,t){return ys._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Es.credential(n,r)}catch(i){return null}}}async function Cs(e,t){return oi(e,"POST","/v1/accounts:signUp",ii(e,t))}Es.TWITTER_SIGN_IN_METHOD="twitter.com",Es.PROVIDER_ID="twitter.com";class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ai._fromIdTokenResponse(e,n,r),s=Is(n);return new Ls({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Is(n);return new Ls({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Is(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ts extends Wt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ts.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ts(e,t,n,r)}}function Ps(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ts._fromErrorAndOperation(e,n,t,r);throw n})}async function Rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await xi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ls._forOperation(e,"link",r)}async function Ds(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(pr(r.app))return Promise.reject(qr(r));const i="reauthenticate";try{const s=await xi(e,Ps(r,i,t,e),n);Wr(s.idToken,r,"internal-error");const a=vi(s.idToken);Wr(a,r,"internal-error");const{sub:o}=a;return Wr(e.uid===o,r,"user-mismatch"),Ls._forOperation(e,i,s)}catch(uE){throw(null===uE||void 0===uE?void 0:uE.code)==="auth/".concat("user-not-found")&&Ur(r,"user-mismatch"),uE}}async function Os(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(pr(e.app))return Promise.reject(qr(e));const r="signIn",i=await Ps(e,r,t),s=await Ls._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Fs(e,t){return Os(Qi(e),t)}async function Ms(e,t){return Ds(tn(e),t)}function Us(e,t,n){var r;Wr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Wr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Wr("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Wr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Wr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Bs(e){const t=Qi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function zs(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=tn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await xi(i,async function(e,t){return si(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function qs(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await xi(e,async function(e,t){return si(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}function Vs(e,t){return si(e,"POST","/v2/accounts/mfaEnrollment:start",ii(e,t))}new WeakMap;const Hs="__sak";class Ws{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hs,"1"),this.storage.removeItem(Hs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Gs extends Ws{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Vi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gs.type="LOCAL";const Ks=Gs;function Ys(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Qs(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Js{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Qs(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Ys(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Qs(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Qs(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ys(n);const i=setInterval(()=>{const e=Ys(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Js.type="COOKIE";class Xs extends Ws{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xs.type="SESSION";const $s=Xs;class Zs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Zs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zs.receivers=[];class ta{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=ea("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function na(){return window}function ra(){return"undefined"!==typeof na().WorkerGlobalScope&&"function"===typeof na().importScripts}const ia="firebaseLocalStorageDb",sa="firebaseLocalStorage",aa="fbase_key";class oa{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function la(e,t){return e.transaction([sa],t?"readwrite":"readonly").objectStore(sa)}function ca(){const e=indexedDB.open(ia,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(sa,{keyPath:aa})}catch(uE){n(uE)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(sa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ia);return new oa(e).toPromise()}(),t(await ca()))})})}async function ua(e,t,n){const r=la(e,!0).put({[aa]:t,value:n});return new oa(r).toPromise()}function da(e,t){const n=la(e,!0).delete(t);return new oa(n).toPromise()}class ha{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ca()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uE){if(t++>3)throw uE;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ra()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zs._getInstance(ra()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new ta(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ca();return await ua(e,Hs,"1"),await da(e,Hs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ua(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=la(e,!1).get(t),r=await new oa(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>da(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=la(e,!1).getAll();return new oa(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ha.type="LOCAL";const fa=ha;function pa(e,t){return si(e,"POST","/v2/accounts/mfaSignIn:start",ii(e,t))}Zi("rcb"),new $r(3e4,6e4);const ma="recaptcha";async function ga(e,t,n){if(!e._getRecaptchaConfig())try{await as(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Wr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=ss(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ns){Wr((null===n||void 0===n?void 0:n.type)===ma,e,"argument-error");return Vs(e,await ya(e,t,n))}return Vs(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Wr("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Wr(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=ss(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ns){Wr((null===n||void 0===n?void 0:n.type)===ma,e,"argument-error");return pa(e,await ya(e,t,n))}return pa(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ss(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ns){Wr((null===n||void 0===n?void 0:n.type)===ma,e,"argument-error");return vs(e,await ya(e,t,n))}return vs(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ya(e,t,n){Wr(n.type===ma,e,"argument-error");const r=await n.verify();Wr("string"===typeof r,e,"argument-error");const i=l({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class va{constructor(e){this.providerId=va.PROVIDER_ID,this.auth=Qi(e)}verifyPhoneNumber(e,t){return ga(this.auth,e,tn(t))}static credential(e,t){return xs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return va.credentialFromTaggedObject(t)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?xs._fromTokenResponse(n,r):null}}function ba(e,t){return t?Ci(t):(Wr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}va.PROVIDER_ID="phone",va.PHONE_SIGN_IN_METHOD="phone";class xa extends us{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wa(e){return Os(e.auth,new xa(e),e.bypassAuthState)}function Na(e){const{auth:t,user:n}=e;return Wr(n,t,"internal-error"),Ds(n,new xa(e),e.bypassAuthState)}async function _a(e){const{auth:t,user:n}=e;return Wr(n,t,"internal-error"),Rs(n,new xa(e),e.bypassAuthState)}class ka{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uE){this.reject(uE)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(uE){this.reject(uE)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wa;case"linkViaPopup":case"linkViaRedirect":return _a;case"reauthViaPopup":case"reauthViaRedirect":return Na;default:Ur(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sa=new $r(2e3,1e4);class ja extends ka{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wr(e,this.auth,"internal-error"),e}async onExecution(){Kr(1===this.filter.length,"Popup operations only handle one event");const e=ea();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Sa.get())};e()}}ja.currentPopupAction=null;const Aa=new Map;class Ea extends ka{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Aa.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ia(t),r=La(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(uE){e=()=>Promise.reject(uE)}Aa.set(this.auth._key(),e)}return this.bypassAuthState||Aa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ca(e,t){Aa.set(e._key(),t)}function La(e){return Ci(e._redirectPersistence)}function Ia(e){return Ti("pendingRedirect",e.config.apiKey,e.name)}async function Ta(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(pr(e.app))return Promise.reject(qr(e));const r=Qi(e),i=ba(r,t),s=new Ea(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Pa{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Da(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Da(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Br(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ra(e))}saveEventToCache(e){this.cachedEventUids.add(Ra(e)),this.lastProcessedEventTime=Date.now()}}function Ra(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Da(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Oa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fa=/^https?/;async function Ma(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return si(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ua(r))return}catch(n){}Ur(e,"unauthorized-domain")}function Ua(e){const t=Yr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Fa.test(n))return!1;if(Oa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ba=new $r(3e4,6e4);function za(){const e=na().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function qa(e){return new Promise((t,n)=>{var r,i;function s(){za(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{za(),n(Br(e,"network-request-failed"))},timeout:Ba.get()})}if(null!==(r=na().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=na().gapi)||void 0===i||!i.load){const t=Zi("iframefcb");return na()[t]=()=>{gapi.load?s():n(Br(e,"network-request-failed"))},$i("".concat(Xi.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Va=null,e})}let Va=null;const Ha=new $r(5e3,15e3),Wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ga=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ka(e){const t=e.config;Wr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Zr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:yr},i=Ga.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Jt(r).slice(1))}async function Ya(e){const t=await function(e){return Va=Va||qa(e),Va}(e),n=na().gapi;return Wr(n,e,"internal-error"),t.open({where:document.body,url:Ka(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wa,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Br(e,"network-request-failed"),s=na().setTimeout(()=>{r(i)},Ha.get());function a(){na().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Qa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ja{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uE){}}}function Xa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c=l(l({},Qa),{},{width:r.toString(),height:i.toString(),top:s,left:a}),u=zt().toLowerCase();n&&(o=Fi(u)?"_blank":n),Di(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return qi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ja(null);const h=window.open(t||"",o,d);Wr(h,e,"popup-blocked");try{h.focus()}catch(uE){}return new Ja(h)}const $a="__/auth/handler",Za="emulator/auth/handler",eo=encodeURIComponent("fac");async function to(e,t,n,r,i,s){Wr(e.config.authDomain,e,"auth-domain-config-required"),Wr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yr,eventId:i};if(t instanceof _s){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof ks){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(eo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat($a);return Zr(t,Za)}(e),"?").concat(Jt(o).slice(1)).concat(c)}const no="webStorageSupport";const ro=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$s,this._completeRedirectFn=Ta,this._overrideRedirectResult=Ca}async _openPopup(e,t,n,r){var i;Kr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Xa(e,await to(e,t,n,Yr(),r),ea())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){na().location.href=e}(await to(e,t,n,Yr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Kr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ya(e),n=new Pa(e);return t.register("authEvent",t=>{Wr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(no,{type:no},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[no];void 0!==i&&t(!!i),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ma(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hi()||Oi()||qi()}};var io="@firebase/auth",so="1.11.0";class ao{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Wr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const oo=Pt("authIdTokenMaxAge")||300;let lo=null;var co;!function(e){Xi=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Br("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),co="Browser",hr(new nn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Wr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:co,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wi(co)},c=new Yi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),hr(new nn("auth-internal",e=>(e=>new ao(e))(Qi(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),xr(io,so,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(co)),xr(io,so,"esm2020");var uo,ho,fo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},po={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ho=po.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},uo=po.Integer=r}).apply("undefined"!==typeof fo?fo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var mo,go,yo,vo,bo,xo,wo,No,_o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ko={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof _o&&_o];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout(()=>{throw e},0)}function k(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new j,e=>e.reset());class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let A,E=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},L=()=>{const e=i.Promise.resolve(void 0);A=()=>{e.then(I)}};var I=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(SS){_(SS)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}E=!1};function T(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}T.prototype.s=!1,T.prototype.ma=function(){this.s||(this.s=!0,this.N())},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(SS){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(ES){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var O={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),M=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++M,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=V(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function G(e,t,n,r,i){if(r&&r.once)return Y(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(s=e.g[t],n,r,i))&&(B(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(q(n,e),0==n.h&&(n.src=null,t[H]=null)):B(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){T.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;w(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&q(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,T),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends T{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){T.call(this),this.h=e,this.g={}}d(le,T);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&J(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var xe={},we=null;function Ne(){return we=we||new ne}function _e(e){P.call(this,xe.La,e)}function ke(e){const t=Ne();re(t,new _e(t))}function Se(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function je(e){const t=Ne();re(t,new Se(t,e))}function Ae(e,t){P.call(this,xe.Ma,e),this.size=t}function Ee(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function Le(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(TS){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(_e,P),xe.STAT_EVENT="statevent",d(Se,P),xe.Ma="timingevent",d(Ae,P),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Ie,Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ie=new Re;var Fe={},Me={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),Ve(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=G(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ee(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||on(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(jS){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}nn(n),je(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ee(c(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(jS){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),Ve(o)),r.g=a}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(jS){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||ke(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var s=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,je(12),Ke(this),Ge(this);break e}Le(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=qe(this,o),e==Me){4==h&&(this.s=4,je(14),n=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,je(15),Le(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Le(this.i,this.l,e,null),Ye(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,je(11))}}else Le(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Le(this.i,this.l,o,null),Ye(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=N(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),Ke(this),Ge(this)}}}catch(OS){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),je(17)),Ke(this),this.s=2,Ge(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Nt(this,t),kt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Nt(e,t){wt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return wt(e),t=St(e,t),e.g.has(t)}function kt(e,t,n){Nt(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(ES){}}function At(){this.g=new fe}function Et(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(uE){throw t.push(r+"type="+encodeURIComponent("_badmap")),uE}}function Ct(e){this.l=e.Ub||null,this.j=e.eb||!1}function Lt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ot(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,_t(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Ct,pe),Ct.prototype.g=function(){return new Lt(this.l,this.j)},Ct.prototype.i=function(e){return function(){return e}}({}),d(Lt,ne),(e=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):Pt(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Qa=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ot,ne);var Ft=/^https?$/i,Mt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),qt(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(TS){o=""}e.l=o+" ["+e.Z()+"]",Bt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Vt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(uE){}}}function Vt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(RS){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new At,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(CS){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Jt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;A||L(),E||(A(),E=!0),C.add(t,e),e.B=0}}function $t(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Et(o,e,"req"+n+"_")}catch(OS){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;A||L(),E||(A(),E=!0),C.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ee(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Be(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ne(),new Ae(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ee(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(jt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout(()=>{n.abort(),jt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)}).catch(()=>{clearTimeout(r),jt(0,0,!1,t)})}(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),un(e),Jt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ot(new Ct({eb:n})):new Ot(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Ot.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?me(this.o):me(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(ES){return void Ut(this,ES)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Mt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(ES){Ut(this,ES)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ot.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(wS){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(wS){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rt(s)))+"&"+t:this.m&&Dt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?$t(this,e):0==this.i.length||Xe(this.h)||$t(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ee(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),Qt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,No=ko.createWebChannelTransport=function(){return new pn},wo=ko.getStatEventTarget=function(){return Ne()},xo=ko.Event=xe,bo=ko.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,vo=ko.ErrorCode=Te,Pe.COMPLETE="complete",yo=ko.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,go=ko.WebChannel=ge,ko.FetchXmlHttpFactory=Ct,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,mo=ko.XhrIo=Ot}).apply("undefined"!==typeof _o?_o:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const So="@firebase/firestore",jo="4.9.1";class Ao{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ao.UNAUTHENTICATED=new Ao(null),Ao.GOOGLE_CREDENTIALS=new Ao("google-credentials-uid"),Ao.FIRST_PARTY=new Ao("first-party-uid"),Ao.MOCK_USER=new Ao("mock-user");let Eo="12.2.0";const Co=new fn("@firebase/firestore");function Lo(){return Co.logLevel}function Io(e){if(Co.logLevel<=ln.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ro);Co.debug("Firestore (".concat(Eo,"): ").concat(e),...i)}}function To(e){if(Co.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ro);Co.error("Firestore (".concat(Eo,"): ").concat(e),...i)}}function Po(e){if(Co.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ro);Co.warn("Firestore (".concat(Eo,"): ").concat(e),...i)}}function Ro(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(lA){return e}}function Do(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Oo(e,r,n)}function Oo(e,t,n){let r="FIRESTORE (".concat(Eo,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw To(r),new Error(r)}function Fo(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Oo(t,i,r)}function Mo(e,t){return e}const Uo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bo extends Wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class zo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Vo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ao.UNAUTHENTICATED))}shutdown(){}}class Ho{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wo{constructor(e){this.t=e,this.currentUser=Ao.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fo(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new zo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zo,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Io("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Io("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zo)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Io("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Fo("string"==typeof t.accessToken,31837,{l:t}),new qo(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fo(null===e||"string"==typeof e,2055,{h:e}),new Ao(e)}}class Go{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ao.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ko{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Go(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ao.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qo{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fo(void 0===this.o,3512);const n=e=>{null!=e.error&&Io("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Io("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Io("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Io("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yo(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Fo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Yo(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Jo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Xo{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Jo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function $o(e,t){return e<t?-1:e>t?1:0}function Zo(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return nl(n)===nl(i)?$o(n,i):nl(n)?1:-1}return $o(e.length,t.length)}const el=55296,tl=57343;function nl(e){const t=e.charCodeAt(0);return t>=el&&t<=tl}function rl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const il="__name__";class sl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Do(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Do(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===sl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=sl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return $o(e.length,t.length)}static compareSegments(e,t){const n=sl.isNumericId(e),r=sl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?sl.extractNumericId(e).compare(sl.extractNumericId(t)):Zo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class al extends sl{construct(e,t,n){return new al(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new al(e)}static emptyPath(){return new al([])}}const ol=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ll extends sl{construct(e,t,n){return new ll(e,t,n)}static isValidIdentifier(e){return ol.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ll.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===il}static keyField(){return new ll([il])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Bo(Uo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Bo(Uo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Bo(Uo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ll(t)}static emptyPath(){return new ll([])}}class cl{constructor(e){this.path=e}static fromPath(e){return new cl(al.fromString(e))}static fromName(e){return new cl(al.fromString(e).popFirst(5))}static empty(){return new cl(al.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===al.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return al.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new cl(new al(e.slice()))}}function ul(e,t,n){if(!n)throw new Bo(Uo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function dl(e){if(!cl.isDocumentKey(e))throw new Bo(Uo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function hl(e){if(cl.isDocumentKey(e))throw new Bo(Uo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function fl(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function pl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Do(12329,{type:typeof e})}function ml(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bo(Uo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pl(e);throw new Bo(Uo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function gl(e,t){if(t<=0)throw new Bo(Uo.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function yl(e,t){const n={typeString:e};return t&&(n.value=t),n}function vl(e,t){if(!fl(e))throw new Bo(Uo.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&a!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new Bo(Uo.INVALID_ARGUMENT,n);return!0}const bl=-62135596800,xl=1e6;class wl{static now(){return wl.fromMillis(Date.now())}static fromDate(e){return wl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*xl);return new wl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bo(Uo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bo(Uo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bl)throw new Bo(Uo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bo(Uo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xl}_compareTo(e){return this.seconds===e.seconds?$o(this.nanoseconds,e.nanoseconds):$o(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vl(e,wl._jsonSchema))return new wl(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wl._jsonSchemaVersion="firestore/timestamp/1.0",wl._jsonSchema={type:yl("string",wl._jsonSchemaVersion),seconds:yl("number"),nanoseconds:yl("number")};class Nl{static fromTimestamp(e){return new Nl(e)}static min(){return new Nl(new wl(0,0))}static max(){return new Nl(new wl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _l=-1;class kl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}kl.UNKNOWN_ID=-1;function Sl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nl.fromTimestamp(1e9===r?new wl(n+1,0):new wl(n,r));return new Al(i,cl.empty(),t)}function jl(e){return new Al(e.readTime,e.key,_l)}class Al{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Al(Nl.min(),cl.empty(),_l)}static max(){return new Al(Nl.max(),cl.empty(),_l)}}function El(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=cl.comparator(e.documentKey,t.documentKey),0!==n?n:$o(e.largestBatchId,t.largestBatchId))}const Cl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ll{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Il(e){if(e.code!==Uo.FAILED_PRECONDITION||e.message!==Cl)throw e;Io("LocalStore","Unexpectedly lost primary lease")}class Tl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Do(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Tl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Tl?t:Tl.resolve(t)}catch(e){return Tl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Tl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Tl.reject(t)}static resolve(e){return new Tl((t,n)=>{t(e)})}static reject(e){return new Tl((t,n)=>{n(e)})}static waitFor(e){return new Tl((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Tl.resolve(!1);for(const n of e)t=t.next(e=>e?Tl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Tl((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Tl((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Pl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(e){return"IndexedDbTransactionError"===e.name}class Dl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dl.ce=-1;const Ol=-1;function Fl(e){return null==e}function Ml(e){return 0===e&&1/e==-1/0}function Ul(e){return"number"==typeof e&&Number.isInteger(e)&&!Ml(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Bl="\x01";function zl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Vl(t)),t=ql(e.get(n),t);return Vl(t)}function ql(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Bl:n+="\x01\x11";break;default:n+=t}}return n}function Vl(e){return e+Bl+"\x01"}const Hl="remoteDocuments",Wl="owner",Gl="mutationQueues",Kl="mutations";const Yl="documentMutations",Ql="remoteDocumentsV14",Jl="remoteDocumentGlobal",Xl="targets",$l="targetDocuments",Zl="targetGlobal",ec="collectionParents",tc="clientMetadata",nc="bundles",rc="namedQueries",ic="indexConfiguration",sc="indexState",ac="indexEntries",oc="documentOverlays",lc="globals",cc=[Gl,Kl,Yl,Hl,Xl,Wl,Zl,$l,tc,Jl,ec,nc,rc],uc=[Gl,Kl,Yl,Ql,Xl,Wl,Zl,$l,tc,Jl,ec,nc,rc,oc],dc=uc,hc=[...dc,ic,sc,ac];function fc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class gc{constructor(e,t){this.comparator=e,this.root=t||vc.EMPTY}insert(e,t){return new gc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vc.BLACK,null,null))}remove(e){return new gc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vc.RED,this.left=null!=r?r:vc.EMPTY,this.right=null!=i?i:vc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new vc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Do(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Do(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Do(27949);return e+(this.isRed()?0:1)}}vc.EMPTY=null,vc.RED=!0,vc.BLACK=!1,vc.EMPTY=new class{constructor(){this.size=0}get key(){throw Do(57766)}get value(){throw Do(16141)}get color(){throw Do(16727)}get left(){throw Do(29726)}get right(){throw Do(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new vc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bc{constructor(e){this.comparator=e,this.data=new gc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xc(this.data.getIterator())}getIteratorFrom(e){return new xc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof bc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bc(this.comparator);return t.data=e,t}}class xc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wc{constructor(e){this.fields=e,e.sort(ll.comparator)}static empty(){return new wc([])}unionWith(e){let t=new bc(ll.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new wc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Nc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _c{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Nc("Invalid base64 string: "+e):e}}(e);return new _c(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new _c(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $o(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_c.EMPTY_BYTE_STRING=new _c("");const kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(e){if(Fo(!!e,39018),"string"==typeof e){let t=0;const n=kc.exec(e);if(Fo(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:jc(e.seconds),nanos:jc(e.nanos)}}function jc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ac(e){return"string"==typeof e?_c.fromBase64String(e):_c.fromUint8Array(e)}const Ec="server_timestamp",Cc="__type__",Lc="__previous_value__",Ic="__local_write_time__";function Tc(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Cc])||void 0===t?void 0:t.stringValue)===Ec}function Pc(e){const t=e.mapValue.fields[Lc];return Tc(t)?Pc(t):t}function Rc(e){const t=Sc(e.mapValue.fields[Ic].timestampValue);return new wl(t.seconds,t.nanos)}class Dc{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Oc="(default)";class Fc{constructor(e,t){this.projectId=e,this.database=t||Oc}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}const Mc="__type__",Uc="__max__",Bc={mapValue:{fields:{__type__:{stringValue:Uc}}}},zc="__vector__",qc="value";function Vc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tc(e)?4:au(e)?9007199254740991:iu(e)?10:11:Do(28295,{value:e})}function Hc(e,t){if(e===t)return!0;const n=Vc(e);if(n!==Vc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rc(e).isEqual(Rc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Sc(e.timestampValue),r=Sc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ac(e.bytesValue).isEqual(Ac(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jc(e.geoPointValue.latitude)===jc(t.geoPointValue.latitude)&&jc(e.geoPointValue.longitude)===jc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jc(e.integerValue)===jc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=jc(e.doubleValue),r=jc(t.doubleValue);return n===r?Ml(n)===Ml(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rl(e.arrayValue.values||[],t.arrayValue.values||[],Hc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fc(n)!==fc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hc(n[i],r[i])))return!1;return!0}(e,t);default:return Do(52216,{left:e})}}function Wc(e,t){return void 0!==(e.values||[]).find(e=>Hc(e,t))}function Gc(e,t){if(e===t)return 0;const n=Vc(e),r=Vc(t);if(n!==r)return $o(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $o(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=jc(e.integerValue||e.doubleValue),r=jc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Kc(e.timestampValue,t.timestampValue);case 4:return Kc(Rc(e),Rc(t));case 5:return Zo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ac(e),r=Ac(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=$o(n[i],r[i]);if(0!==e)return e}return $o(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$o(jc(e.latitude),jc(t.latitude));return 0!==n?n:$o(jc(e.longitude),jc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Yc(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,s){const a=e.fields||{},o=t.fields||{},l=null===(n=a[qc])||void 0===n?void 0:n.arrayValue,c=null===(r=o[qc])||void 0===r?void 0:r.arrayValue,u=$o((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Yc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Bc.mapValue&&t===Bc.mapValue)return 0;if(e===Bc.mapValue)return 1;if(t===Bc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Zo(r[a],s[a]);if(0!==e)return e;const t=Gc(n[r[a]],i[s[a]]);if(0!==t)return t}return $o(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Do(23264,{he:n})}}function Kc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $o(e,t);const n=Sc(e),r=Sc(t),i=$o(n.seconds,r.seconds);return 0!==i?i:$o(n.nanos,r.nanos)}function Yc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Gc(n[i],r[i]);if(e)return e}return $o(n.length,r.length)}function Qc(e){return Jc(e)}function Jc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Sc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ac(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return cl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Jc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Jc(e.fields[i]));return n+"}"}(e.mapValue):Do(61005,{value:e})}function Xc(e){switch(Vc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Pc(e);return t?16+Xc(t):16;case 5:return 2*e.stringValue.length;case 6:return Ac(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Xc(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return pc(e.fields,(e,n)=>{t+=e.length+Xc(n)}),t}(e.mapValue);default:throw Do(13486,{value:e})}}function $c(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Zc(e){return!!e&&"integerValue"in e}function eu(e){return!!e&&"arrayValue"in e}function tu(e){return!!e&&"nullValue"in e}function nu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ru(e){return!!e&&"mapValue"in e}function iu(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Mc])||void 0===t?void 0:t.stringValue)===zc}function su(e){if(e.geoPointValue)return{geoPointValue:l({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:l({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return pc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=su(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=su(e.arrayValue.values[n]);return t}return l({},e)}function au(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Uc}class ou{constructor(e){this.value=e}static empty(){return new ou({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ru(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=ll.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=su(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ru(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ru(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){pc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ou(su(this.value))}}function lu(e){const t=[];return pc(e.fields,(e,n)=>{const r=new ll([e]);if(ru(n)){const e=lu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new wc(t)}class cu{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new cu(e,0,Nl.min(),Nl.min(),Nl.min(),ou.empty(),0)}static newFoundDocument(e,t,n,r){return new cu(e,1,t,Nl.min(),n,r,0)}static newNoDocument(e,t){return new cu(e,2,t,Nl.min(),Nl.min(),ou.empty(),0)}static newUnknownDocument(e,t){return new cu(e,3,t,Nl.min(),Nl.min(),ou.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ou.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ou.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class uu{constructor(e,t){this.position=e,this.inclusive=t}}function du(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?cl.comparator(cl.fromName(a.referenceValue),n.key):Gc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function hu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hc(e.position[n],t.position[n]))return!1;return!0}class fu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function pu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class mu{}class gu extends mu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ku(e,t,n):"array-contains"===t?new Eu(e,n):"in"===t?new Cu(e,n):"not-in"===t?new Lu(e,n):"array-contains-any"===t?new Iu(e,n):new gu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Su(e,n):new ju(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Gc(t,this.value)):null!==t&&Vc(this.value)===Vc(t)&&this.matchesComparison(Gc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Do(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yu extends mu{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yu(e,t)}matches(e){return vu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vu(e){return"and"===e.op}function bu(e){return xu(e)&&vu(e)}function xu(e){for(const t of e.filters)if(t instanceof yu)return!1;return!0}function wu(e){if(e instanceof gu)return e.field.canonicalString()+e.op.toString()+Qc(e.value);if(bu(e))return e.filters.map(e=>wu(e)).join(",");{const t=e.filters.map(e=>wu(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Nu(e,t){return e instanceof gu?function(e,t){return t instanceof gu&&e.op===t.op&&e.field.isEqual(t.field)&&Hc(e.value,t.value)}(e,t):e instanceof yu?function(e,t){return t instanceof yu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Nu(n,t.filters[r]),!0)}(e,t):void Do(19439)}function _u(e){return e instanceof gu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Qc(e.value))}(e):e instanceof yu?function(e){return e.op.toString()+" {"+e.getFilters().map(_u).join(" ,")+"}"}(e):"Filter"}class ku extends gu{constructor(e,t,n){super(e,t,n),this.key=cl.fromName(n.referenceValue)}matches(e){const t=cl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Su extends gu{constructor(e,t){super(e,"in",t),this.keys=Au("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ju extends gu{constructor(e,t){super(e,"not-in",t),this.keys=Au("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Au(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>cl.fromName(e.referenceValue))}class Eu extends gu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eu(t)&&Wc(t.arrayValue,this.value)}}class Cu extends gu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wc(this.value.arrayValue,t)}}class Lu extends gu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Wc(this.value.arrayValue,t)}}class Iu extends gu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Wc(this.value.arrayValue,e))}}class Tu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function Pu(e){return new Tu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ru(e){const t=Mo(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>wu(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Fl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Qc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Qc(e)).join(",")),t.Te=e}return t.Te}function Du(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Nu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hu(e.startAt,t.startAt)&&hu(e.endAt,t.endAt)}function Ou(e){return cl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Fu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Mu(e,t,n,r,i,s,a,o){return new Fu(e,t,n,r,i,s,a,o)}function Uu(e){return new Fu(e)}function Bu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zu(e){return null!==e.collectionGroup}function qu(e){const t=Mo(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new bc(ll.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new fu(r,n))}),e.has(ll.keyField().canonicalString())||t.Ie.push(new fu(ll.keyField(),n))}return t.Ie}function Vu(e){const t=Mo(e);return t.Ee||(t.Ee=Hu(t,qu(e))),t.Ee}function Hu(e,t){if("F"===e.limitType)return Pu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new fu(e.field,t)});const n=e.endAt?new uu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new uu(e.startAt.position,e.startAt.inclusive):null;return Pu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Wu(e,t){const n=e.filters.concat([t]);return new Fu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Gu(e,t,n){return new Fu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ku(e,t){return Du(Vu(e),Vu(t))&&e.limitType===t.limitType}function Yu(e){return"".concat(Ru(Vu(e)),"|lt:").concat(e.limitType)}function Qu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>_u(e)).join(", "),"]")),Fl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Qc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Qc(e)).join(",")),"Target(".concat(t,")")}(Vu(e)),"; limitType=").concat(e.limitType,")")}function Ju(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of qu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=du(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qu(e),t))&&!(e.endAt&&!function(e,t,n){const r=du(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qu(e),t))}(e,t)}function Xu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $u(e){return(t,n)=>{let r=!1;for(const i of qu(e)){const e=Zu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Zu(e,t,n){const r=e.field.isKeyField()?cl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gc(r,i):Do(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Do(19790,{direction:e.dir})}}class ed{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return mc(this.inner)}size(){return this.innerSize}}const td=new gc(cl.comparator);function nd(){return td}const rd=new gc(cl.comparator);function id(){let e=rd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function sd(e){let t=rd;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ad(){return ld()}function od(){return ld()}function ld(){return new ed(e=>e.toString(),(e,t)=>e.isEqual(t))}const cd=new gc(cl.comparator),ud=new bc(cl.comparator);function dd(){let e=ud;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const hd=new bc($o);function fd(){return hd}function pd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(t)?"-0":t}}function md(e){return{integerValue:""+e}}function gd(e,t){return Ul(t)?md(t):pd(e,t)}class yd{constructor(){this._=void 0}}function vd(e,t,n){return e instanceof wd?function(e,t){const n={fields:{[Cc]:{stringValue:Ec},[Ic]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Tc(t)&&(t=Pc(t)),t&&(n.fields[Lc]=t),{mapValue:n}}(n,t):e instanceof Nd?_d(e,t):e instanceof kd?Sd(e,t):function(e,t){const n=xd(e,t),r=Ad(n)+Ad(e.Ae);return Zc(n)&&Zc(e.Ae)?md(r):pd(e.serializer,r)}(e,t)}function bd(e,t,n){return e instanceof Nd?_d(e,t):e instanceof kd?Sd(e,t):n}function xd(e,t){return e instanceof jd?function(e){return Zc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class wd extends yd{}class Nd extends yd{constructor(e){super(),this.elements=e}}function _d(e,t){const n=Ed(t);for(const r of e.elements)n.some(e=>Hc(e,r))||n.push(r);return{arrayValue:{values:n}}}class kd extends yd{constructor(e){super(),this.elements=e}}function Sd(e,t){let n=Ed(t);for(const r of e.elements)n=n.filter(e=>!Hc(e,r));return{arrayValue:{values:n}}}class jd extends yd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ad(e){return jc(e.integerValue||e.doubleValue)}function Ed(e){return eu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Cd{constructor(e,t){this.version=e,this.transformResults=t}}class Ld{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ld}static exists(e){return new Ld(void 0,e)}static updateTime(e){return new Ld(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Td{}function Pd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vd(e.key,Ld.none()):new Md(e.key,e.data,Ld.none());{const n=e.data,r=ou.empty();let i=new bc(ll.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ud(e.key,r,new wc(i.toArray()),Ld.none())}}function Rd(e,t,n){e instanceof Md?function(e,t,n){const r=e.value.clone(),i=zd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ud?function(e,t,n){if(!Id(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Bd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dd(e,t,n,r){return e instanceof Md?function(e,t,n,r){if(!Id(e.precondition,t))return n;const i=e.value.clone(),s=qd(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ud?function(e,t,n,r){if(!Id(e.precondition,t))return n;const i=qd(e.fieldTransforms,r,t),s=t.data;return s.setAll(Bd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Id(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Od(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=xd(r.transform,e||null);null!=i&&(null===n&&(n=ou.empty()),n.set(r.field,i))}return n||null}function Fd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rl(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nd&&t instanceof Nd||e instanceof kd&&t instanceof kd?rl(e.elements,t.elements,Hc):e instanceof jd&&t instanceof jd?Hc(e.Ae,t.Ae):e instanceof wd&&t instanceof wd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Md extends Td{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ud extends Td{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Bd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zd(e,t,n){const r=new Map;Fo(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,bd(a,o,n[i]))}return r}function qd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,vd(e,s,t))}return r}class Vd extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hd extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Rd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=od();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Pd(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Nl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dd())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(e,t)=>Fd(e,t))&&rl(this.baseMutations,e.baseMutations,(e,t)=>Fd(e,t))}}class Gd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Fo(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=cd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Gd(e,t,n,r)}}class Kd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Yd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qd,Jd;function Xd(e){switch(e){case Uo.OK:return Do(64938);case Uo.CANCELLED:case Uo.UNKNOWN:case Uo.DEADLINE_EXCEEDED:case Uo.RESOURCE_EXHAUSTED:case Uo.INTERNAL:case Uo.UNAVAILABLE:case Uo.UNAUTHENTICATED:return!1;case Uo.INVALID_ARGUMENT:case Uo.NOT_FOUND:case Uo.ALREADY_EXISTS:case Uo.PERMISSION_DENIED:case Uo.FAILED_PRECONDITION:case Uo.ABORTED:case Uo.OUT_OF_RANGE:case Uo.UNIMPLEMENTED:case Uo.DATA_LOSS:return!0;default:return Do(15467,{code:e})}}function $d(e){if(void 0===e)return To("GRPC error has no .code"),Uo.UNKNOWN;switch(e){case Qd.OK:return Uo.OK;case Qd.CANCELLED:return Uo.CANCELLED;case Qd.UNKNOWN:return Uo.UNKNOWN;case Qd.DEADLINE_EXCEEDED:return Uo.DEADLINE_EXCEEDED;case Qd.RESOURCE_EXHAUSTED:return Uo.RESOURCE_EXHAUSTED;case Qd.INTERNAL:return Uo.INTERNAL;case Qd.UNAVAILABLE:return Uo.UNAVAILABLE;case Qd.UNAUTHENTICATED:return Uo.UNAUTHENTICATED;case Qd.INVALID_ARGUMENT:return Uo.INVALID_ARGUMENT;case Qd.NOT_FOUND:return Uo.NOT_FOUND;case Qd.ALREADY_EXISTS:return Uo.ALREADY_EXISTS;case Qd.PERMISSION_DENIED:return Uo.PERMISSION_DENIED;case Qd.FAILED_PRECONDITION:return Uo.FAILED_PRECONDITION;case Qd.ABORTED:return Uo.ABORTED;case Qd.OUT_OF_RANGE:return Uo.OUT_OF_RANGE;case Qd.UNIMPLEMENTED:return Uo.UNIMPLEMENTED;case Qd.DATA_LOSS:return Uo.DATA_LOSS;default:return Do(39323,{code:e})}}(Jd=Qd||(Qd={}))[Jd.OK=0]="OK",Jd[Jd.CANCELLED=1]="CANCELLED",Jd[Jd.UNKNOWN=2]="UNKNOWN",Jd[Jd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jd[Jd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jd[Jd.NOT_FOUND=5]="NOT_FOUND",Jd[Jd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jd[Jd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jd[Jd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jd[Jd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jd[Jd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jd[Jd.ABORTED=10]="ABORTED",Jd[Jd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jd[Jd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jd[Jd.INTERNAL=13]="INTERNAL",Jd[Jd.UNAVAILABLE=14]="UNAVAILABLE",Jd[Jd.DATA_LOSS=15]="DATA_LOSS";let Zd=null;function eh(){return new TextEncoder}const th=new uo([4294967295,4294967295],0);function nh(e){const t=eh().encode(e),n=new ho;return n.update(t),new Uint8Array(n.digest())}function rh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new uo([n,r],0),new uo([i,s],0)]}class ih{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new sh("Invalid padding: ".concat(t));if(n<0)throw new sh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new sh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new sh("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=uo.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(uo.fromNumber(n)));return 1===r.compare(th)&&(r=new uo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=nh(e),[n,r]=rh(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ih(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=nh(e),[n,r]=rh(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ah{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,oh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ah(Nl.min(),r,new gc($o),nd(),dd())}}class oh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new oh(n,t,dd(),dd(),dd())}}class lh{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class ch{constructor(e,t){this.targetId=e,this.Ce=t}}class uh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_c.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class dh{constructor(){this.ve=0,this.Fe=ph(),this.Me=_c.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dd(),t=dd(),n=dd();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Do(38017,{changeType:i})}}),new oh(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=ph()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fo(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hh{constructor(e){this.Ge=e,this.ze=new Map,this.je=nd(),this.Je=fh(),this.He=fh(),this.Ye=new gc($o)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Do(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Ou(s))if(0===n){const e=new cl(s.path);this.et(t,e,cu.newNoDocument(e,Nl.min()))}else Fo(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Zd)||void 0===i||i.lt(function(e,t,n,r,i,s,a,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null===d||void 0===d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Ac(n).toUint8Array()}catch(e){if(e instanceof Nc)return Po("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ih(s,r,i)}catch(e){return Po(e instanceof sh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Ou(i.target)){const t=new cl(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,cu.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=dd();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ah(e,t,this.Ye,this.je,n);return this.je=nd(),this.Je=fh(),this.He=fh(),this.Ye=new gc($o),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new dh,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new bc($o),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new bc($o),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Io("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dh),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function fh(){return new gc(cl.comparator)}function ph(){return new gc(cl.comparator)}const mh={asc:"ASCENDING",desc:"DESCENDING"},gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yh={and:"AND",or:"OR"};class vh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bh(e,t){return e.useProto3Json||Fl(t)?t:{value:t}}function xh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function wh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Nh(e,t){return xh(e,t.toTimestamp())}function _h(e){return Fo(!!e,49232),Nl.fromTimestamp(function(e){const t=Sc(e);return new wl(t.seconds,t.nanos)}(e))}function kh(e,t){return Sh(e,t).canonicalString()}function Sh(e,t){const n=function(e){return new al(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function jh(e){const t=al.fromString(e);return Fo(Gh(t),10190,{key:t.toString()}),t}function Ah(e,t){return kh(e.databaseId,t.path)}function Eh(e,t){const n=jh(t);if(n.get(1)!==e.databaseId.projectId)throw new Bo(Uo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bo(Uo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cl(Th(n))}function Ch(e,t){return kh(e.databaseId,t)}function Lh(e){const t=jh(e);return 4===t.length?al.emptyPath():Th(t)}function Ih(e){return new al(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Th(e){return Fo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ph(e,t,n){return{name:Ah(e,t),fields:n.value.mapValue.fields}}function Rh(e,t){let n;if(t instanceof Md)n={update:Ph(e,t.key,t.value)};else if(t instanceof Vd)n={delete:Ah(e,t.key)};else if(t instanceof Ud)n={update:Ph(e,t.key,t.data),updateMask:Wh(t.fieldMask)};else{if(!(t instanceof Hd))return Do(16599,{Vt:t.type});n={verify:Ah(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof wd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jd)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Do(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Do(27497)}(e,t.precondition)),n}function Dh(e,t){return{documents:[Ch(e,t.path)]}}function Oh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ch(e,i);const s=function(e){if(0!==e.length)return Hh(yu.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:qh(e.field),direction:Uh(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=bh(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Fh(e){let t=Lh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fo(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Mh(e);return t instanceof yu&&bu(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new fu(Vh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Fl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new uu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new uu(n,t)}(n.endAt)),Mu(t,i,a,s,o,"F",l,c)}function Mh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vh(e.unaryFilter.field);return gu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vh(e.unaryFilter.field);return gu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vh(e.unaryFilter.field);return gu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vh(e.unaryFilter.field);return gu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Do(61313);default:return Do(60726)}}(e):void 0!==e.fieldFilter?function(e){return gu.create(Vh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Do(58110);default:return Do(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return yu.create(e.compositeFilter.filters.map(e=>Mh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Do(1026)}}(e.compositeFilter.op))}(e):Do(30097,{filter:e})}function Uh(e){return mh[e]}function Bh(e){return gh[e]}function zh(e){return yh[e]}function qh(e){return{fieldPath:e.canonicalString()}}function Vh(e){return ll.fromServerFormat(e.fieldPath)}function Hh(e){return e instanceof gu?function(e){if("=="===e.op){if(nu(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NAN"}};if(tu(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nu(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NOT_NAN"}};if(tu(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qh(e.field),op:Bh(e.op),value:e.value}}}(e):e instanceof yu?function(e){const t=e.getFilters().map(e=>Hh(e));return 1===t.length?t[0]:{compositeFilter:{op:zh(e.op),filters:t}}}(e):Do(54877,{filter:e})}function Wh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Gh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Kh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nl.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nl.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_c.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Kh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Yh{constructor(e){this.yt=e}}function Qh(e){const t=Fh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gu(t,t.limit,"L"):t}class Jh{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(jc(e.integerValue));else if("doubleValue"in e){const n=jc(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Ml(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Sc(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ac(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?au(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):iu(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Do(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=qc,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(jc(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),cl.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Jh.Kt=new Jh;class Xh{constructor(){this.Cn=new $h}addToCollectionParentIndex(e,t){return this.Cn.add(t),Tl.resolve()}getCollectionParents(e,t){return Tl.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Tl.resolve()}deleteFieldIndex(e,t){return Tl.resolve()}deleteAllFieldIndexes(e){return Tl.resolve()}createTargetIndexes(e,t){return Tl.resolve()}getDocumentsMatchingTarget(e,t){return Tl.resolve(null)}getIndexType(e,t){return Tl.resolve(0)}getFieldIndexes(e,t){return Tl.resolve([])}getNextCollectionGroupToUpdate(e){return Tl.resolve(null)}getMinOffset(e,t){return Tl.resolve(Al.min())}getMinOffsetFromCollectionGroup(e,t){return Tl.resolve(Al.min())}updateCollectionGroup(e,t,n){return Tl.resolve()}updateIndexEntries(e,t){return Tl.resolve()}}class $h{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bc(al.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bc(al.comparator)).toArray()}}new Uint8Array(0);const Zh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ef=41943040;class tf{static withCacheSize(e){return new tf(e,tf.DEFAULT_COLLECTION_PERCENTILE,tf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}tf.DEFAULT_COLLECTION_PERCENTILE=10,tf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tf.DEFAULT=new tf(ef,tf.DEFAULT_COLLECTION_PERCENTILE,tf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tf.DISABLED=new tf(-1,0,0);class nf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nf(0)}static cr(){return new nf(-1)}}const rf="LruGarbageCollector",sf=1048576;function af(e,t){let[n,r]=e,[i,s]=t;const a=$o(n,i);return 0===a?$o(r,s):a}class of{constructor(e){this.Ir=e,this.buffer=new bc(af),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();af(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lf{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Io(rf,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Rl(e)?Io(rf,"Ignoring IndexedDB error during garbage collection: ",e):await Il(e)}await this.Vr(3e5)})}}class cf{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Tl.resolve(Dl.ce);const n=new of(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Io("LruGarbageCollector","Garbage collection skipped; disabled"),Tl.resolve(Zh)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Io("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Zh):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Io("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Lo()<=ln.DEBUG&&Io("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Tl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function uf(e,t){return new cf(e,t)}class df{constructor(){this.changes=new ed(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Tl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ff{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Dd(n.mutation,e,wc.empty(),wl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,dd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dd();const r=ad();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=id();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ad();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,dd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=nd();const s=ld(),a=ld();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ud)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Dd(a.mutation,t,a.mutation.getFieldMask(),wl.now())):s.set(t.key,wc.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new hf(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=ld();let r=new gc((e,t)=>e-t),i=dd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||wc.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||dd()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=od();l.forEach(e=>{if(!i.has(e)){const r=Pd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Tl.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return cl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Tl.resolve(ad());let a=_l,o=i;return s.next(t=>Tl.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Tl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,dd())).next(e=>({batchId:a,changes:sd(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new cl(t)).next(e=>{let t=id();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=id();return this.indexManager.getCollectionParents(e,i).next(a=>Tl.forEach(a,a=>{const o=function(e,t){return new Fu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,cu.newInvalidDocument(r)))});let n=id();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Dd(s.mutation,r,wc.empty(),wl.now()),Ju(t,r)&&(n=n.insert(e,r))}),n})}}class pf{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Tl.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_h(e.createTime)}}(t)),Tl.resolve()}getNamedQuery(e,t){return Tl.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Qh(e.bundledQuery),readTime:_h(e.readTime)}}(t)),Tl.resolve()}}class mf{constructor(){this.overlays=new gc(cl.comparator),this.qr=new Map}getOverlay(e,t){return Tl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ad();return Tl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Tl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Tl.resolve()}getOverlaysForCollection(e,t,n){const r=ad(),i=t.length+1,s=new cl(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Tl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new gc((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ad(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ad(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Tl.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kd(t,n));let i=this.qr.get(t);void 0===i&&(i=dd(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class gf{constructor(){this.sessionToken=_c.EMPTY_BYTE_STRING}getSessionToken(e){return Tl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Tl.resolve()}}class yf{constructor(){this.Qr=new bc(vf.$r),this.Ur=new bc(vf.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new vf(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new vf(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new cl(new al([])),n=new vf(t,e),r=new vf(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new cl(new al([])),n=new vf(t,e),r=new vf(t,e+1);let i=dd();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new vf(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vf{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return cl.comparator(e.key,t.key)||$o(e.Yr,t.Yr)}static Kr(e,t){return $o(e.Yr,t.Yr)||cl.comparator(e.key,t.key)}}class bf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new bc(vf.$r)}checkEmpty(e){return Tl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Wd(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Zr=this.Zr.add(new vf(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Tl.resolve(s)}lookupMutationBatch(e,t){return Tl.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Tl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Tl.resolve(0===this.mutationQueue.length?Ol:this.tr-1)}getAllMutationBatches(e){return Tl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vf(t,0),r=new vf(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Tl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bc($o);return t.forEach(e=>{const t=new vf(e,0),r=new vf(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Tl.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;cl.isDocumentKey(i)||(i=i.child(""));const s=new vf(new cl(i),0);let a=new bc($o);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),Tl.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Fo(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Tl.forEach(t.mutations,r=>{const i=new vf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new vf(t,0),r=this.Zr.firstAfterOrEqual(n);return Tl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Tl.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xf{constructor(e){this.ri=e,this.docs=new gc(cl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Tl.resolve(n?n.document.mutableCopy():cu.newInvalidDocument(t))}getEntries(e,t){let n=nd();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cu.newInvalidDocument(e))}),Tl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=nd();const s=t.path,a=new cl(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||El(jl(a),n)<=0||(r.has(a.key)||Ju(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Tl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Do(9500)}ii(e,t){return Tl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new wf(this)}getSize(e){return Tl.resolve(this.size)}}class wf extends df{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Tl.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Nf{constructor(e){this.persistence=e,this.si=new ed(e=>Ru(e),Du),this.lastRemoteSnapshotVersion=Nl.min(),this.highestTargetId=0,this.oi=0,this._i=new yf,this.targetCount=0,this.ai=nf.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Tl.resolve()}getLastRemoteSnapshotVersion(e){return Tl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Tl.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Tl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Tl.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new nf(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Tl.resolve()}updateTargetData(e,t){return this.Pr(t),Tl.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Tl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Tl.waitFor(i).next(()=>r)}getTargetCount(e){return Tl.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Tl.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Tl.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Tl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Tl.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Tl.resolve(n)}containsKey(e,t){return Tl.resolve(this._i.containsKey(t))}}class _f{constructor(e,t){this.ui={},this.overlays={},this.ci=new Dl(0),this.li=!1,this.li=!0,this.hi=new gf,this.referenceDelegate=e(this),this.Pi=new Nf(this),this.indexManager=new Xh,this.remoteDocumentCache=function(e){return new xf(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Yh(t),this.Ii=new pf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new bf(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Io("MemoryPersistence","Starting transaction:",e);const r=new kf(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Tl.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class kf extends Ll{constructor(e){super(),this.currentSequenceNumber=e}}class Sf{constructor(e){this.persistence=e,this.Ri=new yf,this.Vi=null}static mi(e){return new Sf(e)}get fi(){if(this.Vi)return this.Vi;throw Do(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Tl.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Tl.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Tl.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tl.forEach(this.fi,n=>{const r=cl.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Nl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Tl.or([()=>Tl.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class jf{constructor(e,t){this.persistence=e,this.pi=new ed(e=>zl(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=uf(this,t)}static mi(e,t){return new jf(e,t)}Ei(){}di(e){return Tl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Tl.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Tl.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Nl.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Tl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Tl.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Tl.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Tl.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xc(e.data.value)),t}br(e,t,n){return Tl.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Tl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Af{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=dd(),r=dd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Af(e,t.fromCache,n,r)}}class Ef{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cf{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Vt()?8:Pl(zt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Ef;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Lo()<=ln.DEBUG&&Io("QueryEngine","SDK will not create cache indexes for query:",Qu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Tl.resolve()):(Lo()<=ln.DEBUG&&Io("QueryEngine","Query:",Qu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Lo()<=ln.DEBUG&&Io("QueryEngine","The SDK decides to create cache indexes for query:",Qu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vu(t))):Tl.resolve())}ys(e,t){if(Bu(t))return Tl.resolve(null);let n=Vu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Gu(t,null,"F"),n=Vu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=dd(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Gu(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Bu(t)||r.isEqual(Nl.min())?Tl.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?Tl.resolve(null):(Lo()<=ln.DEBUG&&Io("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qu(t)),this.vs(e,s,t,Sl(r,_l)).next(e=>e))})}Ds(e,t){let n=new bc($u(e));return t.forEach((t,r)=>{Ju(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Lo()<=ln.DEBUG&&Io("QueryEngine","Using full collection scan to execute query:",Qu(t)),this.ps.getDocumentsMatchingQuery(e,t,Al.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Lf="LocalStore";class If{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gc($o),this.xs=new ed(e=>Ru(e),Du),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ff(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Tf(e,t,n,r){return new If(e,t,n,r)}async function Pf(e,t){const n=Mo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=dd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Rf(e){const t=Mo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Df(e,t,n){let r=dd(),i=dd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=nd();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Nl.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Io(Lf,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:r,qs:i}})}function Of(e,t){const n=Mo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ol),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Ff(e,t){const n=Mo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Tl.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Kh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Mf(e,t,n){const r=Mo(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Rl(e))throw e;Io(Lf,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Uf(e,t,n){const r=Mo(e);let i=Nl.min(),s=dd();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Mo(e),i=r.xs.get(n);return void 0!==i?Tl.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Vu(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Nl.min(),n?s:dd())).next(e=>(Bf(r,Xu(t),e),{documents:e,Qs:s})))}function Bf(e,t,n){let r=e.Os.get(t)||Nl.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class zf{constructor(){this.activeTargetIds=fd()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qf{constructor(){this.Mo=new zf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vf{Oo(e){}shutdown(){}}const Hf="ConnectivityMonitor";class Wf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Io(Hf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Io(Hf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gf=null;function Kf(){return null===Gf?Gf=268435456+Math.round(2147483648*Math.random()):Gf++,"0x"+Gf.toString(16)}const Yf="RestConnection",Qf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jf{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Oc?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=Kf(),a=this.zo(e,t.toUriEncodedString());Io(Yf,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(a),c=Dt(l);return this.Jo(e,a,o,n,c).then(t=>(Io(Yf,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Po(Yf,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Qf[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Xf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $f="WebChannelConnection";class Zf extends Jf{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=Kf();return new Promise((i,a)=>{const o=new mo;o.setWithCredentials(!0),o.listenOnce(yo.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case vo.NO_ERROR:const n=o.getResponseJson();Io($f,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case vo.TIMEOUT:Io($f,"RPC '".concat(e,"' ").concat(s," timed out")),a(new Bo(Uo.DEADLINE_EXCEEDED,"Request time out"));break;case vo.HTTP_ERROR:const r=o.getStatus();if(Io($f,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Uo).indexOf(t)>=0?t:Uo.UNKNOWN}(n.status);a(new Bo(e,n.message))}else a(new Bo(Uo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Bo(Uo.UNAVAILABLE,"Connection failed."));break;default:Do(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Io($f,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Io($f,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Kf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=No(),a=wo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Io($f,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new Xf({Yo:t=>{h?Io($f,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Io($f,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Io($f,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,go.EventType.OPEN,()=>{h||(Io($f,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,go.EventType.CLOSE,()=>{h||(h=!0,Io($f,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,go.EventType.ERROR,t=>{h||(h=!0,Po($f,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Bo(Uo.UNAVAILABLE,"The operation could not be completed")))}),p(u,go.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];Fo(!!i,16349);const s=i,a=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Io($f,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Qd[e];if(void 0!==t)return $d(t)}(t),i=a.message;void 0===n&&(n=Uo.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.a_(new Bo(n,i)),u.close()}else Io($f,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(a,xo.STAT_EVENT,t=>{t.stat===bo.PROXY?Io($f,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bo.NOPROXY&&Io($f,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ep(){return"undefined"!=typeof document?document:null}function tp(e){return new vh(e,!0)}class np{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Io("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rp="PersistentStream";class ip{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new np(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Uo.RESOURCE_EXHAUSTED?(To(t.toString()),To("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Uo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Bo(Uo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Io(rp,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Io(rp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sp extends ip{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Do(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Fo(void 0===t||"string"==typeof t,58123),_c.fromBase64String(t||"")):(Fo(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),_c.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Uo.UNKNOWN:$d(e.code);return new Bo(t,e.message||"")}(a);n=new uh(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Eh(e,r.document.name),s=_h(r.document.updateTime),a=r.document.createTime?_h(r.document.createTime):Nl.min(),o=new ou({mapValue:{fields:r.document.fields}}),l=cu.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new lh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Eh(e,r.document),s=r.readTime?_h(r.readTime):Nl.min(),a=cu.newNoDocument(i,s),o=r.removedTargetIds||[];n=new lh([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Eh(e,r.document),s=r.removedTargetIds||[];n=new lh([],s,i,null)}else{if(!("filter"in t))return Do(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Yd(r,i),a=e.targetId;n=new ch(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Nl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Nl.min():t.readTime?_h(t.readTime):Nl.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ih(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ou(r)?{documents:Dh(e,r)}:{query:Oh(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=wh(e,t.resumeToken);const r=bh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Nl.min())>0){n.readTime=xh(e,t.snapshotVersion.toTimestamp());const r=bh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Do(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ih(this.serializer),t.removeTarget=e,this.q_(t)}}class ap extends ip{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Fo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fo(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Fo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Fo(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?_h(e.updateTime):_h(t);return n.isEqual(Nl.min())&&(n=_h(t)),new Cd(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=_h(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ih(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Rh(this.serializer,e))};this.q_(t)}}class op{}class lp extends op{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Bo(Uo.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Go(e,Sh(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Uo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bo(Uo.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Ho(e,Sh(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Uo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bo(Uo.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class cp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(To(t),this.aa=!1):Io("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const up="RemoteStore";class dp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{xp(this)&&(Io(up,"Restarting streams for network reachability change."),await async function(e){const t=Mo(e);t.Ea.add(4),await fp(t),t.Ra.set("Unknown"),t.Ea.delete(4),await hp(t)}(this))})}),this.Ra=new cp(n,r)}}async function hp(e){if(xp(e))for(const t of e.da)await t(!0)}async function fp(e){for(const t of e.da)await t(!1)}function pp(e,t){const n=Mo(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),bp(n)?vp(n):Up(n).O_()&&gp(n,t))}function mp(e,t){const n=Mo(e),r=Up(n);n.Ia.delete(t),r.O_()&&yp(n,t),0===n.Ia.size&&(r.O_()?r.L_():xp(n)&&n.Ra.set("Unknown"))}function gp(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Up(e).Y_(t)}function yp(e,t){e.Va.Ue(t),Up(e).Z_(t)}function vp(e){e.Va=new hh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Up(e).start(),e.Ra.ua()}function bp(e){return xp(e)&&!Up(e).x_()&&e.Ia.size>0}function xp(e){return 0===Mo(e).Ea.size}function wp(e){e.Va=void 0}async function Np(e){e.Ra.set("Online")}async function _p(e){e.Ia.forEach((t,n)=>{gp(e,t)})}async function kp(e,t){wp(e),bp(e)?(e.Ra.ha(t),vp(e)):e.Ra.set("Unknown")}async function Sp(e,t,n){if(e.Ra.set("Online"),t instanceof uh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Io(up,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await jp(e,n)}else if(t instanceof lh?e.Va.Ze(t):t instanceof ch?e.Va.st(t):e.Va.tt(t),!n.isEqual(Nl.min()))try{const t=await Rf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(_c.EMPTY_BYTE_STRING,r.snapshotVersion)),yp(e,t);const i=new Kh(r.target,t,n,r.sequenceNumber);gp(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Io(up,"Failed to raise snapshot:",t),await jp(e,t)}}async function jp(e,t,n){if(!Rl(t))throw t;e.Ea.add(1),await fp(e),e.Ra.set("Offline"),n||(n=()=>Rf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Io(up,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await hp(e)})}function Ap(e,t){return t().catch(n=>jp(e,n,t))}async function Ep(e){const t=Mo(e),n=Bp(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ol;for(;Cp(t);)try{const e=await Of(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Lp(t,e)}catch(e){await jp(t,e)}Ip(t)&&Tp(t)}function Cp(e){return xp(e)&&e.Ta.length<10}function Lp(e,t){e.Ta.push(t);const n=Bp(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Ip(e){return xp(e)&&!Bp(e).x_()&&e.Ta.length>0}function Tp(e){Bp(e).start()}async function Pp(e){Bp(e).ra()}async function Rp(e){const t=Bp(e);for(const n of e.Ta)t.ea(n.mutations)}async function Dp(e,t,n){const r=e.Ta.shift(),i=Gd.from(r,t,n);await Ap(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ep(e)}async function Op(e,t){t&&Bp(e).X_&&await async function(e,t){if(function(e){return Xd(e)&&e!==Uo.ABORTED}(t.code)){const n=e.Ta.shift();Bp(e).B_(),await Ap(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Ep(e)}}(e,t),Ip(e)&&Tp(e)}async function Fp(e,t){const n=Mo(e);n.asyncQueue.verifyOperationInProgress(),Io(up,"RemoteStore received new credentials");const r=xp(n);n.Ea.add(3),await fp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await hp(n)}async function Mp(e,t){const n=Mo(e);t?(n.Ea.delete(2),await hp(n)):t||(n.Ea.add(2),await fp(n),n.Ra.set("Unknown"))}function Up(e){return e.ma||(e.ma=function(e,t,n){const r=Mo(e);return r.sa(),new sp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Np.bind(null,e),t_:_p.bind(null,e),r_:kp.bind(null,e),H_:Sp.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),bp(e)?vp(e):e.Ra.set("Unknown")):(await e.ma.stop(),wp(e))})),e.ma}function Bp(e){return e.fa||(e.fa=function(e,t,n){const r=Mo(e);return r.sa(),new ap(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Pp.bind(null,e),r_:Op.bind(null,e),ta:Rp.bind(null,e),na:Dp.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Ep(e)):(await e.fa.stop(),e.Ta.length>0&&(Io(up,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class zp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new zp(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bo(Uo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(e,t){if(To("AsyncQueue","".concat(t,": ").concat(e)),Rl(e))return new Bo(Uo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Vp{static emptySet(e){return new Vp(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||cl.comparator(t.key,n.key):(e,t)=>cl.comparator(e.key,t.key),this.keyedMap=id(),this.sortedSet=new gc(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Vp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Hp{constructor(){this.ga=new gc(cl.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Do(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Wp{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Wp(e,t,Vp.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Gp{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Kp{constructor(){this.queries=Yp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Mo(e),r=n.queries;n.queries=Yp(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Bo(Uo.ABORTED,"Firestore shutting down"))}}function Yp(){return new ed(e=>Yu(e),Ku)}async function Qp(e,t){const n=Mo(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Gp,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=qp(e,"Initialization of query '".concat(Qu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Zp(n)}async function Jp(e,t){const n=Mo(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xp(e,t){const n=Mo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Zp(n)}function $p(e,t,n){const r=Mo(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function Zp(e){e.Ca.forEach(e=>{e.next()})}var em,tm;(tm=em||(em={})).Ma="default",tm.Cache="cache";class nm{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Wp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Wp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==em.Cache}}class rm{constructor(e){this.key=e}}class im{constructor(e){this.key=e}}class sm{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dd(),this.mutatedKeys=dd(),this.eu=$u(e),this.tu=new Vp(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Hp,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Ju(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Do(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new Wp(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dd(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new im(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new rm(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=dd();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Wp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const am="SyncEngine";class om{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class lm{constructor(e){this.key=e,this.hu=!1}}class cm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ed(e=>Yu(e),Ku),this.Iu=new Map,this.Eu=new Set,this.du=new gc(cl.comparator),this.Au=new Map,this.Ru=new yf,this.Vu={},this.mu=new Map,this.fu=nf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function um(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Im(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await hm(r,t,n,!0),i}async function dm(e,t){const n=Im(e);await hm(n,t,!0,!1)}async function hm(e,t,n,r){const i=await Ff(e.localStore,Vu(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await fm(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&pp(e.remoteStore,i),o}async function fm(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Uf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Sm(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await Uf(e.localStore,t,!0),a=new sm(t,s.Qs),o=a.ru(s.documents),l=oh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Sm(e,n,c.au);const u=new om(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function pm(e,t,n){const r=Mo(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Ku(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mp(r.remoteStore,i.targetId),_m(r,i.targetId)}).catch(Il)):(_m(r,i.targetId),await Mf(r.localStore,i.targetId,!0))}async function mm(e,t){const n=Mo(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mp(n.remoteStore,r.targetId))}async function gm(e,t){const n=Mo(e);try{const e=await function(e,t){const n=Mo(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(_c.EMPTY_BYTE_STRING,Nl.min()).withLastLimboFreeSnapshotVersion(Nl.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=nd(),l=dd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Df(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(Nl.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Tl.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Fo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Fo(r.hu,14607):e.removedDocuments.size>0&&(Fo(r.hu,42227),r.hu=!1))}),await Em(n,e,t)}catch(e){await Il(e)}}function ym(e,t,n){const r=Mo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Mo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Zp(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vm(e,t,n){const r=Mo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new gc(cl.comparator);e=e.insert(s,cu.newNoDocument(s,Nl.min()));const n=dd().add(s),i=new ah(Nl.min(),new Map,new gc($o),e,n);await gm(r,i),r.du=r.du.remove(s),r.Au.delete(t),Am(r)}else await Mf(r.localStore,t,!1).then(()=>_m(r,t,n)).catch(Il)}async function bm(e,t){const n=Mo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Mo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Tl.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Fo(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=dd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Nm(n,r,null),wm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Em(n,e)}catch(e){await Il(e)}}async function xm(e,t,n){const r=Mo(e);try{const e=await function(e,t){const n=Mo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Fo(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Nm(r,t,n),wm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Em(r,e)}catch(n){await Il(n)}}function wm(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Nm(e,t,n){const r=Mo(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function _m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||km(e,t)})}function km(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(mp(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Am(e))}function Sm(e,t,n){for(const r of n)r instanceof rm?(e.Ru.addReference(r.key,t),jm(e,r)):r instanceof im?(Io(am,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||km(e,r.key)):Do(19791,{wu:r})}function jm(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Io(am,"New document in limbo: "+n),e.Eu.add(r),Am(e))}function Am(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new cl(al.fromString(t)),r=e.fu.next();e.Au.set(r,new lm(n)),e.du=e.du.insert(n,r),pp(e.remoteStore,new Kh(Vu(Uu(n.path)),r,"TargetPurposeLimboResolution",Dl.ce))}}async function Em(e,t,n){const r=Mo(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Af.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=Mo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Tl.forEach(t,t=>Tl.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Tl.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Rl(e))throw e;Io(Lf,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function Cm(e,t){const n=Mo(e);if(!n.currentUser.isEqual(t)){Io(am,"User change. New user:",t.toKey());const e=await Pf(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Bo(Uo.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Em(n,e.Ls)}}function Lm(e,t){const n=Mo(e),r=n.Au.get(t);if(r&&r.hu)return dd().add(r.key);{let e=dd();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Im(e){const t=Mo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vm.bind(null,t),t.Pu.H_=Xp.bind(null,t.eventManager),t.Pu.yu=$p.bind(null,t.eventManager),t}function Tm(e){const t=Mo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xm.bind(null,t),t}class Pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Tf(this.persistence,new Cf,e.initialUser,this.serializer)}Cu(e){return new _f(Sf.mi,this.serializer)}Du(e){return new qf}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pm.provider={build:()=>new Pm};class Rm extends Pm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Fo(this.persistence.referenceDelegate instanceof jf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new lf(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?tf.withCacheSize(this.cacheSizeBytes):tf.DEFAULT;return new _f(e=>jf.mi(e,t),this.serializer)}}class Dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ym(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cm.bind(null,this.syncEngine),await Mp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Kp}createDatastore(e){const t=tp(e.databaseInfo.databaseId),n=function(e){return new Zf(e)}(e.databaseInfo);return function(e,t,n,r){return new lp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new dp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>ym(this.syncEngine,e,0),Wf.v()?new Wf:new Vf)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new cm(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Mo(e);Io(up,"RemoteStore shutting down."),t.Ea.add(5),await fp(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Dm.provider={build:()=>new Dm};class Om{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):To("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Fm="FirestoreClient";class Mm{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ao.UNAUTHENTICATED,this.clientId=Xo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Io(Fm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Io(Fm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(lA){const n=qp(lA,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Um(e,t){e.asyncQueue.verifyOperationInProgress(),Io(Fm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Pf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Bm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zm(e);Io(Fm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Fp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Fp(t.remoteStore,n)),e._onlineComponents=t}async function zm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Io(Fm,"Using user provided OfflineComponentProvider");try{await Um(e,e._uninitializedComponentsProvider._offline)}catch(lA){const n=lA;if(!function(e){return"FirebaseError"===e.name?e.code===Uo.FAILED_PRECONDITION||e.code===Uo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await Um(e,new Pm)}}else Io(Fm,"Using default OfflineComponentProvider"),await Um(e,new Rm(void 0));return e._offlineComponents}async function qm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Io(Fm,"Using user provided OnlineComponentProvider"),await Bm(e,e._uninitializedComponentsProvider._online)):(Io(Fm,"Using default OnlineComponentProvider"),await Bm(e,new Dm))),e._onlineComponents}function Vm(e){return qm(e).then(e=>e.syncEngine)}async function Hm(e){const t=await qm(e),n=t.eventManager;return n.onListen=um.bind(null,t.syncEngine),n.onUnlisten=pm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mm.bind(null,t.syncEngine),n}function Wm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Om({next:o=>{s.Nu(),t.enqueueAndForget(()=>Jp(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Bo(Uo.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Bo(Uo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new nm(Uu(n.path),s,{includeMetadataChanges:!0,qa:!0});return Qp(e,a)}(await Hm(e),e.asyncQueue,t,n,r)),r.promise}function Gm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Om({next:n=>{s.Nu(),t.enqueueAndForget(()=>Jp(e,a)),n.fromCache&&"server"===r.source?i.reject(new Bo(Uo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new nm(n,s,{includeMetadataChanges:!0,qa:!0});return Qp(e,a)}(await Hm(e),e.asyncQueue,t,n,r)),r.promise}function Km(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ym=new Map,Qm="firestore.googleapis.com",Jm=!0;class Xm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Bo(Uo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qm,this.ssl=Jm}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Jm;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ef;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<sf)throw new Bo(Uo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Bo(Uo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Km(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bo(Uo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Bo(Uo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Bo(Uo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $m{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bo(Uo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bo(Uo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xm(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vo;switch(e.type){case"firstParty":return new Ko(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bo(Uo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ym.get(e);t&&(Io("ComponentProvider","Removing Datastore"),Ym.delete(e),t.terminate())}(this),Promise.resolve()}}class Zm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zm(this.firestore,e,this._query)}}class eg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new eg(this.firestore,e,this._key)}toJSON(){return{type:eg._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(vl(t,eg._jsonSchema))return new eg(e,n||null,new cl(al.fromString(t.referencePath)))}}eg._jsonSchemaVersion="firestore/documentReference/1.0",eg._jsonSchema={type:yl("string",eg._jsonSchemaVersion),referencePath:yl("string")};class tg extends Zm{constructor(e,t,n){super(e,t,Uu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new eg(this.firestore,null,new cl(e))}withConverter(e){return new tg(this.firestore,e,this._path)}}function ng(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),ul("collection","path",t),e instanceof $m){const n=al.fromString(t,...r);return hl(n),new tg(e,null,n)}{if(!(e instanceof eg||e instanceof tg))throw new Bo(Uo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(al.fromString(t,...r));return hl(n),new tg(e.firestore,null,n)}}function rg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),1===arguments.length&&(t=Xo.newId()),ul("doc","path",t),e instanceof $m){const n=al.fromString(t,...r);return dl(n),new eg(e,null,new cl(n))}{if(!(e instanceof eg||e instanceof tg))throw new Bo(Uo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(al.fromString(t,...r));return dl(n),new eg(e.firestore,e instanceof tg?e.converter:null,new cl(n))}}const ig="AsyncQueue";class sg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new np(this,"async_queue_retry"),this._c=()=>{const e=ep();e&&Io(ig,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=ep();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ep();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new zo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(uE){if(!Rl(uE))throw uE;Io(ig,"Operation failed with retryable error: "+uE)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,To("INTERNAL UNHANDLED ERROR: ",ag(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=zp.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Do(47125,{Pc:ag(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ag(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function og(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class lg extends $m{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new sg,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sg(e),this._firestoreClient=void 0,await e}}}function cg(e){if(e._terminated)throw new Bo(Uo.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ug(e),e._firestoreClient}function ug(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Dc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Km(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Mm(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class dg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dg(_c.fromBase64String(e))}catch(e){throw new Bo(Uo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dg(_c.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dg._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vl(e,dg._jsonSchema))return dg.fromBase64String(e.bytes)}}dg._jsonSchemaVersion="firestore/bytes/1.0",dg._jsonSchema={type:yl("string",dg._jsonSchemaVersion),bytes:yl("string")};class hg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ll(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fg{constructor(e){this._methodName=e}}class pg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bo(Uo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bo(Uo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $o(this._lat,e._lat)||$o(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pg._jsonSchemaVersion}}static fromJSON(e){if(vl(e,pg._jsonSchema))return new pg(e.latitude,e.longitude)}}pg._jsonSchemaVersion="firestore/geoPoint/1.0",pg._jsonSchema={type:yl("string",pg._jsonSchemaVersion),latitude:yl("number"),longitude:yl("number")};class mg{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mg._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vl(e,mg._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new mg(e.vectorValues);throw new Bo(Uo.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mg._jsonSchemaVersion="firestore/vectorValue/1.0",mg._jsonSchema={type:yl("string",mg._jsonSchemaVersion),vectorValues:yl("object")};const gg=/^__.*__$/;class yg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ud(e,this.data,this.fieldMask,t,this.fieldTransforms):new Md(e,this.data,t,this.fieldTransforms)}}class vg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ud(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Do(40011,{Ac:e})}}class xg{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xg(l(l({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(bg(this.Ac)&&gg.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||tp(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xg({Ac:e,methodName:t,Dc:n,path:ll.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ng(e){const t=e._freezeSettings(),n=tp(e._databaseId);return new wg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _g(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);Ig("Data must be an object, but it was:",a,r);const o=Cg(r,a);let l,c;if(s.merge)l=new wc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Tg(t,r,n);if(!a.contains(i))throw new Bo(Uo.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Og(e,i)||e.push(i)}l=new wc(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new yg(new ou(o),l,c)}class kg extends fg{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kg}}function Sg(e,t,n,r){const i=e.Cc(1,t,n);Ig("Data must be an object, but it was:",i,r);const s=[],a=ou.empty();pc(r,(e,r)=>{const o=Rg(t,e,n);r=tn(r);const l=i.yc(o);if(r instanceof kg)s.push(o);else{const e=Eg(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new wc(s);return new vg(a,o,i.fieldTransforms)}function jg(e,t,n,r,i,s){const a=e.Cc(1,t,n),o=[Tg(t,r,n)],l=[i];if(s.length%2!=0)throw new Bo(Uo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Tg(t,s[h])),l.push(s[h+1]);const c=[],u=ou.empty();for(let h=o.length-1;h>=0;--h)if(!Og(c,o[h])){const e=o[h];let t=l[h];t=tn(t);const n=a.yc(e);if(t instanceof kg)c.push(e);else{const r=Eg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new wc(c);return new vg(u,d,a.fieldTransforms)}function Ag(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Eg(n,e.Cc(r?4:3,t))}function Eg(e,t){if(Lg(e=tn(e)))return Ig("Unsupported field value:",t,e),Cg(e,t);if(e instanceof fg)return function(e,t){if(!bg(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Eg(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=wl.fromDate(e);return{timestampValue:xh(t.serializer,n)}}if(e instanceof wl){const n=new wl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xh(t.serializer,n)}}if(e instanceof pg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dg)return{bytesValue:wh(t.serializer,e._byteString)};if(e instanceof eg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:kh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof mg)return function(e,t){return{mapValue:{fields:{[Mc]:{stringValue:zc},[qc]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return pd(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(pl(e)))}(e,t)}function Cg(e,t){const n={};return mc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pc(e,(e,r)=>{const i=Eg(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Lg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wl||e instanceof pg||e instanceof dg||e instanceof eg||e instanceof fg||e instanceof mg)}function Ig(e,t,n){if(!Lg(n)||!fl(n)){const r=pl(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Tg(e,t,n){if((t=tn(t))instanceof hg)return t._internalPath;if("string"==typeof t)return Rg(e,t);throw Dg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pg=new RegExp("[~\\*/\\[\\]]");function Rg(e,t,n){if(t.search(Pg)>=0)throw Dg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new hg(...t.split("."))._internalPath}catch(r){throw Dg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Dg(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Bo(Uo.INVALID_ARGUMENT,o+e+l)}function Og(e,t){return e.some(e=>e.isEqual(t))}class Fg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new eg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ug("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mg extends Fg{data(){return super.data()}}function Ug(e,t){return"string"==typeof t?Rg(e,t):t instanceof hg?t._internalPath:t._delegate._internalPath}function Bg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Bo(Uo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class qg extends zg{}function Vg(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof zg&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Gg).length,n=e.filter(e=>e instanceof Hg).length;if(t>1||t>0&&n>0)throw new Bo(Uo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Hg extends qg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hg(e,t,n)}_apply(e){const t=this._parse(e);return $g(e._query,t),new Zm(e.firestore,e.converter,Wu(e._query,t))}_parse(e){const t=Ng(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Xg(a,s);const t=[];for(const n of a)t.push(Jg(r,e,n));o={arrayValue:{values:t}}}else o=Jg(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Xg(a,s),o=Ag(n,t,a,"in"===s||"not-in"===s);return gu.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Wg(e,t,n){const r=t,i=Ug("where",e);return Hg._create(i,r,n)}class Gg extends zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gg(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:yu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)$g(n,i),n=Wu(n,i)}(e._query,t),new Zm(e.firestore,e.converter,Wu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Kg extends qg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(t,n)}(e._query,this._field,this._direction);return new Zm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Fu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Yg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ug("orderBy",e);return Kg._create(n,t)}class Qg extends qg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Qg(e,t,n)}_apply(e){return new Zm(e.firestore,e.converter,Gu(e._query,this._limit,this._limitType))}}function Jg(e,t,n){if("string"==typeof(n=tn(n))){if(""===n)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zu(t)&&-1!==n.indexOf("/"))throw new Bo(Uo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(al.fromString(n));if(!cl.isDocumentKey(r))throw new Bo(Uo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return $c(e,new cl(r))}if(n instanceof eg)return $c(e,n._key);throw new Bo(Uo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(pl(n),"."))}function Xg(e,t){if(!Array.isArray(e)||0===e.length)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function $g(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Bo(Uo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Bo(Uo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Zg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Do(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return pc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[qc].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>jc(e.doubleValue));return new mg(n)}convertGeoPoint(e){return new pg(jc(e.latitude),jc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Pc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){const t=Sc(e);return new wl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=al.fromString(e);Fo(Gh(n),9688,{name:e});const r=new Fc(n.get(1),n.get(3)),i=new cl(n.popFirst(5));return r.isEqual(t)||To("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ey(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ty{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ny extends Fg{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Bo(Uo.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ny._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}ny._jsonSchemaVersion="firestore/documentSnapshot/1.0",ny._jsonSchema={type:yl("string",ny._jsonSchemaVersion),bundleSource:yl("string","DocumentSnapshot"),bundleName:yl("string"),bundle:yl("string")};class ry extends ny{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class iy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ty(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ry(this._firestore,this._userDataWriter,n.key,n,new ty(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Bo(Uo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ry(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ty(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ry(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ty(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:sy(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Bo(Uo.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=iy._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Do(61501,{type:e})}}function ay(e){e=ml(e,eg);const t=ml(e.firestore,lg);return Wm(cg(t),e._key).then(n=>my(t,e,n))}iy._jsonSchemaVersion="firestore/querySnapshot/1.0",iy._jsonSchema={type:yl("string",iy._jsonSchemaVersion),bundleSource:yl("string","QuerySnapshot"),bundleName:yl("string"),bundle:yl("string")};class oy extends Zg{constructor(e){super(),this.firestore=e}convertBytes(e){return new dg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new eg(this.firestore,null,t)}}function ly(e){e=ml(e,Zm);const t=ml(e.firestore,lg),n=cg(t),r=new oy(t);return Bg(e._query),Gm(n,e._query).then(n=>new iy(t,r,e,n))}function cy(e,t,n){e=ml(e,eg);const r=ml(e.firestore,lg),i=ey(e.converter,t,n);return py(r,[_g(Ng(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ld.none())])}function uy(e,t,n){e=ml(e,eg);const r=ml(e.firestore,lg),i=Ng(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=tn(t))||t instanceof hg?jg(i,"updateDoc",e._key,t,n,o):Sg(i,"updateDoc",e._key,t),py(r,[s.toMutation(e._key,Ld.exists(!0))])}function dy(e){return py(ml(e.firestore,lg),[new Vd(e._key,Ld.none())])}function hy(e,t){const n=ml(e.firestore,lg),r=rg(e),i=ey(e.converter,t);return py(n,[_g(Ng(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ld.exists(!1))]).then(()=>r)}function fy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=tn(e);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||og(n[s])||(i=n[s++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(og(n[s])){var o,l,c;const e=n[s];n[s]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[s+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[s+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof eg)d=ml(e.firestore,lg),h=Uu(e._key.path),u={next:t=>{n[s]&&n[s](my(d,e,t))},error:n[s+1],complete:n[s+2]};else{const t=ml(e,Zm);d=ml(t.firestore,lg),h=t._query;const r=new oy(d);u={next:e=>{n[s]&&n[s](new iy(d,r,t,e))},error:n[s+1],complete:n[s+2]},Bg(e._query)}return function(e,t,n,r){const i=new Om(r),s=new nm(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Qp(await Hm(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Jp(await Hm(e),s))}}(cg(d),h,a,u)}function py(e,t){return function(e,t){const n=new zo;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Tm(e);try{const e=await function(e,t){const n=Mo(e),r=wl.now(),i=t.reduce((e,t)=>e.add(t.key),dd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=nd(),l=dd();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Od(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Ud(e.key,t,lu(t.value.mapValue),Ld.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:sd(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new gc($o)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Em(r,e.changes),await Ep(r.remoteStore)}catch(e){const t=qp(e,"Failed to persist write");n.reject(t)}}(await Vm(e),t,n)),n.promise}(cg(e),t)}function my(e,t,n){const r=n.docs.get(t._key),i=new oy(e);return new ny(e,i,t._key,r,new ty(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Eo=e}(yr),hr(new nn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new lg(new Wo(e.getProvider("auth-internal")),new Qo(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bo(Uo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(e.options.projectId,t)}(s,r),s);return i=l({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),xr(So,jo,e),xr(So,jo,"esm2020")}();xr("firebase","12.2.1","app");const gy="firebasestorage.googleapis.com",yy="storageBucket";class vy extends Wt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(wy(e),"Firebase Storage: ".concat(t," (").concat(wy(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var by,xy;function wy(e){return"storage/"+e}function Ny(){return new vy(by.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _y(){return new vy(by.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ky(){return new vy(by.CANCELED,"User canceled the upload/download.")}function Sy(){return new vy(by.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jy(e){return new vy(by.INVALID_ARGUMENT,e)}function Ay(){return new vy(by.APP_DELETED,"The Firebase app was deleted.")}function Ey(e,t){return new vy(by.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Cy(e){throw new vy(by.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(by||(by={}));class Ly{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ly.makeFromUrl(e,t)}catch(uE){return new Ly(e,"")}if(""===n.path)return n;throw r=e,new vy(by.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===gy?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Ly(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new vy(by.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Iy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Ty(e){return"string"===typeof e||e instanceof String}function Py(e){return Ry()&&e instanceof Blob}function Ry(){return"undefined"!==typeof Blob}function Dy(e,t,n,r){if(r<t)throw jy("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw jy("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Oy(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Fy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function My(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(xy||(xy={}));class Uy{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new By(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===xy.NO_ERROR,i=n.getStatus();if(!t||My(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===xy.ABORT;return void e(!1,new By(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new By(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(uE){r(uE)}else if(null!==i){const e=Ny();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ay():ky())}else{r(_y())}};this.canceled_?t(0,new By(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class By{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function zy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function qy(){const e=zy();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ry())return new Blob(n);throw new vy(by.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Vy(e){if("undefined"===typeof atob)throw t="base-64",new vy(by.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Hy="raw",Wy="base64",Gy="base64url",Ky="data_url";class Yy{constructor(e,t){this.data=e,this.contentType=t||null}}function Qy(e,t){switch(e){case Hy:return new Yy(Jy(t));case Wy:case Gy:return new Yy(Xy(e,t));case Ky:return new Yy(function(e){const t=new $y(e);return t.base64?Xy(Wy,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(uE){throw Ey(Ky,"Malformed data URL.")}return Jy(t)}(t.rest)}(t),new $y(t).contentType)}throw Ny()}function Jy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Xy(e,t){switch(e){case Wy:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ey(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Gy:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ey(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vy(t)}catch(uE){if(uE.message.includes("polyfill"))throw uE;throw Ey(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $y{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ey(Ky,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Zy{constructor(e,t){let n=0,r="";Py(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Py(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Zy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Zy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ry()){const e=t.map(e=>e instanceof Zy?e.data_:e);return new Zy(qy.apply(null,e))}{const e=t.map(e=>Ty(e)?Qy(Hy,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new Zy(r,!0)}}uploadData(){return this.data_}}function ev(e){let t;try{t=JSON.parse(e)}catch(uE){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function tv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function nv(e,t){return t}class rv{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||nv}}let iv=null;function sv(){if(iv)return iv;const e=[];e.push(new rv("bucket")),e.push(new rv("generation")),e.push(new rv("metageneration")),e.push(new rv("name","fullPath",!0));const t=new rv("name");t.xform=function(e,t){return function(e){return!Ty(e)||e.length<2?e:tv(e)}(t)},e.push(t);const n=new rv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new rv("timeCreated")),e.push(new rv("updated")),e.push(new rv("md5Hash",null,!0)),e.push(new rv("cacheControl",null,!0)),e.push(new rv("contentDisposition",null,!0)),e.push(new rv("contentEncoding",null,!0)),e.push(new rv("contentLanguage",null,!0)),e.push(new rv("contentType",null,!0)),e.push(new rv("metadata","customMetadata",!0)),iv=e,iv}function av(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Ly(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ov(e,t,n){const r=ev(t);if(null===r)return null;return av(e,r,n)}function lv(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class cv{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function uv(e){if(!e)throw Ny()}function dv(e,t){return function(n,r){const i=ov(e,r,t);return uv(null!==i),i}}function hv(e,t){return function(n,r){const i=ov(e,r,t);return uv(null!==i),function(e,t,n,r){const i=ev(t);if(null===i)return null;if(!Ty(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(t=>{const i=e.bucket,s=e.fullPath;return Oy("/b/"+a(i)+"/o/"+a(s),n,r)+Fy({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function fv(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new vy(by.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new vy(by.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new vy(by.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new vy(by.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function pv(e){const t=fv(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new vy(by.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function mv(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function gv(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=mv(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lv(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=Zy.getBlob(c,r,u);if(null===d)throw Sy();const h={name:l.fullPath},f=Oy(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new cv(f,"POST",dv(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=fv(t),m}class yv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xy.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xy.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xy.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,i){if(this.sent_)throw Cy("cannot .send() more than once");if(Dt(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(uE){return-1}}getResponse(){if(!this.sent_)throw Cy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class vv extends yv{initXhr(){this.xhr_.responseType="text"}}function bv(){return new vv}class xv{constructor(e,t){this._service=e,this._location=t instanceof Ly?t:Ly.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xv(e,t)}get root(){const e=new Ly(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Ly(this._location.bucket,e);return new xv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new vy(by.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function wv(e,t,n){e._throwIfRoot("uploadBytes");const r=gv(e.storage,e._location,sv(),new Zy(t,!0),n);return e.storage.makeRequestWithTokens(r,bv).then(t=>({metadata:t,ref:e}))}function Nv(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Oy(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new cv(r,"GET",hv(e,n),i);return s.errorHandler=pv(t),s}(e.storage,e._location,sv());return e.storage.makeRequestWithTokens(t,bv).then(e=>{if(null===e)throw new vy(by.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function _v(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Oy(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new cv(n,"DELETE",function(e,t){},r);return i.successCodes=[200,204],i.errorHandler=pv(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,bv)}function kv(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Ly(e._location.bucket,n);return new xv(e.storage,r)}function Sv(e,t){if(e instanceof Ev){const n=e;if(null==n._bucket)throw new vy(by.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yy+"' property when initializing the app?");const r=new xv(n,n._bucket);return null!=t?Sv(r,t):r}return void 0!==t?kv(e,t):e}function jv(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ev)return new xv(e,t);throw jy("To use ref(service, url), the first argument must be a Storage instance.")}return Sv(e,t)}function Av(e,t){const n=null===t||void 0===t?void 0:t[yy];return null==n?null:Ly.makeFromBucketSpec(n,e)}class Ev{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=gy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ly.makeFromBucketSpec(r,this._host):Av(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Ly.makeFromBucketSpec(this._url,e):this._bucket=Av(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xv(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Iy(Ay());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Fy(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Uy(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Cv="@firebase/storage",Lv="0.14.0",Iv="storage";function Tv(e,t,n){return wv(e=tn(e),t,n)}function Pv(e){return Nv(e=tn(e))}function Rv(e){return _v(e=tn(e))}function Dv(e,t){return jv(e=tn(e),t)}function Ov(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Ev(r,i,s,n,yr)}hr(new nn(Iv,Ov,"PUBLIC").setMultipleInstances(!0)),xr(Cv,Lv,""),xr(Cv,Lv,"esm2020");const Fv=vr({apiKey:"AIzaSyCrVEqA2nP3xHr77Z9HD8uMEAfOcV6cge4",authDomain:"scontitech-286b2.firebaseapp.com",projectId:"scontitech-286b2",storageBucket:"scontitech-286b2.firebasestorage.app",messagingSenderId:"150580080273",appId:"1:150580080273:web:7f543dac7ff2b136f95930",measurementId:"G-ZPL8M159B9"}),Mv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();const t=fr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=fr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Yt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ur(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ro,persistence:[fa,Ks,$s]}),r=Pt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>oo)return;const r=null===t||void 0===t?void 0:t.token;lo!==r&&(lo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){tn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){tn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=Lt("auth");return s&&os(n,"http://".concat(s)),n}(Fv),Uv=new js,Bv=function(e,t){const n="object"==typeof e?e:br(),r="string"==typeof e?e:t||Oc,i=fr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=It("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=ml(e,$m);const i=Dt(t),s=e._getSettings(),a=l(l({},s),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);i&&(Ot("https://".concat(o)),Bt("Firestore",!0)),s.host!==Qm&&s.host!==o&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=l(l({},s),{},{host:o,ssl:i,emulatorOptions:r});if(!Yt(c,a)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ao.MOCK_USER;else{var u;t=Ft(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Bo(Uo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ao(i)}e._authCredentials=new Ho(new qo(t,n))}}(i,...e)}return i}(Fv),zv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br(),t=arguments.length>1?arguments[1]:void 0;e=tn(e);const n=fr(e,Iv).getImmediate({identifier:t}),r=It("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=Dt(t);i&&(Ot("https://".concat(e.host,"/b")),Bt("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:Ft(s,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Fv);var qv=n(579);const Vv=(0,r.createContext)(),Hv=()=>{const e=(0,r.useContext)(Vv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Wv=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=!0;const t=function(e,t,n,r){return tn(e).onAuthStateChanged(t,n,r)}(Mv,async t=>{if(e){if(i(t),t)try{const n=await ay(rg(Bv,"users",t.uid));n.exists()&&e&&c(n.data())}catch(n){console.error("Error fetching user profile:",n)}else e&&c(null);e&&a(!1)}});return()=>{e=!1,t()}},[]);const u={currentUser:n,userProfile:o,signup:async(e,t,n)=>{const r=await async function(e,t,n){if(pr(e.app))return Promise.reject(qr(e));const r=Qi(e),i=ss(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cs,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bs(e),t}),a=await Ls._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(Mv,e,t),i=r.user,s=l(l({uid:i.uid,email:i.email},n),{},{createdAt:(new Date).toISOString()});return await cy(rg(Bv,"users",i.uid),s),r},signin:(e,t)=>function(e,t,n){return pr(e.app)?Promise.reject(qr(e)):Fs(tn(e),Ns.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bs(e),t})}(Mv,e,t),signInWithGoogle:async()=>{const e=await async function(e,t,n){if(pr(e.app))return Promise.reject(Br(e,"operation-not-supported-in-this-environment"));const r=Qi(e);Vr(e,t,_s);const i=ba(r,n);return new ja(r,"signInViaPopup",t,i).executeNotNull()}(Mv,Uv),t=e.user;if(!(await ay(rg(Bv,"users",t.uid))).exists()){var n,r;const e={uid:t.uid,email:t.email,firstName:(null===(n=t.displayName)||void 0===n?void 0:n.split(" ")[0])||"",lastName:(null===(r=t.displayName)||void 0===r?void 0:r.split(" ").slice(1).join(" "))||"",photoURL:t.photoURL,role:"student",createdAt:(new Date).toISOString(),authProvider:"google"};await cy(rg(Bv,"users",t.uid),e)}return e},updateUserProfile:async e=>{if(n){e.displayName&&await zs(n,{displayName:e.displayName}),await uy(rg(Bv,"users",n.uid),l(l({},e),{},{updatedAt:(new Date).toISOString()}));const t=await ay(rg(Bv,"users",n.uid));t.exists()&&c(t.data())}},logout:async()=>{try{c(null),await function(e){return tn(e).signOut()}(Mv)}catch(e){throw console.error("Error during logout:",e),i(null),c(null),e}},resetPassword:e=>async function(e,t,n){const r=Qi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Us(r,i,n),await ss(r,i,"getOobCode",ps,"EMAIL_PASSWORD_PROVIDER")}(Mv,e),loading:s};return(0,qv.jsx)(Vv.Provider,{value:u,children:!s&&t})};var Gv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kv=r.createContext&&r.createContext(Gv),Yv=["attr","size","title"];function Qv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(this,arguments)}function Xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xv(Object(n),!0).forEach(function(t){Zv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eb(e){return e&&e.map((e,t)=>r.createElement(e.tag,$v({key:t},e.attr),eb(e.child)))}function tb(e){return t=>r.createElement(nb,Jv({attr:$v({},e.attr)},t),eb(e.child))}function nb(e){var t=t=>{var n,{attr:i,size:s,title:a}=e,o=Qv(e,Yv),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Jv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:n,style:$v($v({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==Kv?r.createElement(Kv.Consumer,null,e=>t(e)):t(Gv)}function rb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function ib(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function sb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function ab(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function ob(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function lb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(e)}function cb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function ub(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function db(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function hb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function fb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function pb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function mb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function gb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function yb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function vb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function bb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function xb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function wb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Nb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function _b(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function kb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(e)}function Sb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function jb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function Ab(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Eb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Cb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Lb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function Ib(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function Tb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function Pb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(e)}function Rb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Db(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function Ob(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Fb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function Mb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Ub(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function Bb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function zb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function qb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]}]})(e)}function Vb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function Hb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Wb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function Gb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function Kb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function Yb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Qb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Jb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function Xb(e){return tb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const $b=()=>{const[e,t]=(0,r.useState)(!1),n=fe(),i=[{icon:cb,title:"Find Perfect Internships",description:"Discover thousands of internship opportunities from top companies worldwide."},{icon:Qb,title:"Connect with Mentors",description:"Get guidance from industry professionals and experienced mentors."},{icon:Wb,title:"Track Your Progress",description:"Monitor your application status and career development journey."}];return(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsxs)("nav",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-50",children:[(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,qv.jsx)("div",{className:"flex items-center",children:(0,qv.jsx)("div",{className:"flex-shrink-0",children:(0,qv.jsx)(mt,{to:"/",className:"text-2xl font-bold text-primary-600",children:"InternshipHub"})})}),(0,qv.jsx)("div",{className:"hidden md:block",children:(0,qv.jsxs)("div",{className:"ml-10 flex items-baseline space-x-8",children:[(0,qv.jsx)(mt,{to:"/",className:"text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-colors",children:"Home"}),(0,qv.jsx)(mt,{to:"/internships",className:"text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-colors",children:"Browse Internships"}),(0,qv.jsx)(mt,{to:"/about",className:"text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-colors",children:"About"}),(0,qv.jsx)(mt,{to:"/contact",className:"text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-colors",children:"Contact"})]})}),(0,qv.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,qv.jsx)(mt,{to:"/login",className:"text-gray-700 hover:text-primary-600 px-4 py-2 text-sm font-medium transition-colors",children:"Sign In"}),(0,qv.jsx)(mt,{to:"/register",className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Get Started"}),(0,qv.jsx)(mt,{to:"/admin/login",className:"bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Admin"})]}),(0,qv.jsx)("div",{className:"md:hidden",children:(0,qv.jsx)("button",{onClick:()=>t(!e),className:"text-gray-700 hover:text-primary-600 focus:outline-none focus:text-primary-600",children:e?(0,qv.jsx)(Xb,{size:24}):(0,qv.jsx)(Ib,{size:24})})})]})}),e&&(0,qv.jsx)("div",{className:"md:hidden",children:(0,qv.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t border-gray-100",children:[(0,qv.jsx)(mt,{to:"/",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600",children:"Home"}),(0,qv.jsx)(mt,{to:"/internships",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600",children:"Browse Internships"}),(0,qv.jsx)(mt,{to:"/about",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600",children:"About"}),(0,qv.jsx)(mt,{to:"/contact",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600",children:"Contact"}),(0,qv.jsxs)("div",{className:"px-3 py-2 space-y-2",children:[(0,qv.jsx)(mt,{to:"/login",className:"block w-full text-center px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary-600",children:"Sign In"}),(0,qv.jsx)(mt,{to:"/register",className:"block w-full text-center bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Get Started"}),(0,qv.jsx)(mt,{to:"/admin/login",className:"block w-full text-center bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Admin"})]})]})})]}),(0,qv.jsx)("section",{className:"bg-gradient-to-br from-primary-50 to-indigo-100 py-20",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Launch Your Career with",(0,qv.jsx)("span",{className:"text-primary-600",children:" Dream Internships"})]}),(0,qv.jsx)("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Connect with top companies, gain real-world experience, and build the skills you need to succeed in your chosen field."}),(0,qv.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,qv.jsxs)("button",{onClick:()=>n("/register"),className:"bg-primary-600 hover:bg-primary-700 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors inline-flex items-center justify-center",children:["Start Your Journey",(0,qv.jsx)(ab,{className:"ml-2"})]}),(0,qv.jsx)("button",{onClick:()=>n("/internships"),className:"border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Browse Internships"})]})]}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=600&h=400&fit=crop",alt:"Students collaborating",className:"rounded-2xl shadow-2xl"}),(0,qv.jsx)("div",{className:"absolute -bottom-6 -right-6 bg-white p-6 rounded-xl shadow-lg",children:(0,qv.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qv.jsxs)("div",{className:"flex -space-x-2",children:[(0,qv.jsx)("img",{className:"w-8 h-8 rounded-full border-2 border-white",src:"https://images.unsplash.com/photo-1494790108755-2616b2692788?w=50&h=50&fit=crop&crop=face",alt:""}),(0,qv.jsx)("img",{className:"w-8 h-8 rounded-full border-2 border-white",src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50&h=50&fit=crop&crop=face",alt:""}),(0,qv.jsx)("img",{className:"w-8 h-8 rounded-full border-2 border-white",src:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=50&h=50&fit=crop&crop=face",alt:""})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"text-sm font-semibold",children:"2,000+ students"}),(0,qv.jsx)("p",{className:"text-xs text-gray-600",children:"joined this week"})]})]})})]})]})})}),(0,qv.jsx)("section",{className:"py-16 bg-white",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qv.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{number:"10,000+",label:"Active Internships"},{number:"50,000+",label:"Students Placed"},{number:"1,500+",label:"Partner Companies"},{number:"95%",label:"Success Rate"}].map((e,t)=>(0,qv.jsxs)("div",{className:"text-center",children:[(0,qv.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-primary-600 mb-2",children:e.number}),(0,qv.jsx)("div",{className:"text-gray-600 font-medium",children:e.label})]},t))})})}),(0,qv.jsx)("section",{className:"py-20 bg-gray-50",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-16",children:[(0,qv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose InternshipHub?"}),(0,qv.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We provide everything you need to find, apply, and succeed in your internship journey."})]}),(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((e,t)=>(0,qv.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[(0,qv.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-6",children:(0,qv.jsx)(e.icon,{className:"w-6 h-6 text-primary-600"})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),(0,qv.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},t))})]})}),(0,qv.jsx)("section",{className:"py-20 bg-primary-600",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-12",children:[(0,qv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Find Your Perfect Internship"}),(0,qv.jsx)("p",{className:"text-xl text-primary-100 max-w-2xl mx-auto",children:"Search through thousands of opportunities from leading companies across various industries."})]}),(0,qv.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,qv.jsx)("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Mb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"text",placeholder:"Job title or keyword",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Lb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"text",placeholder:"Location",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsx)("button",{className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Search Internships"})]})})})]})}),(0,qv.jsx)("section",{className:"py-20 bg-white",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-16",children:[(0,qv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Success Stories"}),(0,qv.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Hear from students who've transformed their careers through our platform."})]}),(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Sarah Johnson",role:"Software Engineering Intern",company:"Tech Corp",avatar:"https://images.unsplash.com/photo-1494790108755-2616b2692788?w=150&h=150&fit=crop&crop=face",content:"This platform helped me land my dream internship at a Fortune 500 company. The application process was seamless!"},{name:"Michael Chen",role:"Marketing Intern",company:"StartupXYZ",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",content:"Amazing experience! The mentorship program connected me with industry leaders who guided my career path."},{name:"Emily Davis",role:"Data Science Intern",company:"AI Solutions",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",content:"The platform's resources and networking opportunities are unmatched. Highly recommend to all students!"}].map((e,t)=>(0,qv.jsxs)("div",{className:"bg-gray-50 p-8 rounded-xl",children:[(0,qv.jsx)("div",{className:"flex items-center mb-4",children:[...Array(5)].map((e,t)=>(0,qv.jsx)(zb,{className:"w-5 h-5 text-yellow-400 fill-current"},t))}),(0,qv.jsxs)("p",{className:"text-gray-700 mb-6 leading-relaxed",children:['"',e.content,'"']}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full mr-4"}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:[e.role," at ",e.company]})]})]})]},t))})]})}),(0,qv.jsx)("section",{className:"py-20 bg-gradient-to-r from-primary-600 to-indigo-600",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[(0,qv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Start Your Internship Journey?"}),(0,qv.jsx)("p",{className:"text-xl text-primary-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of students who have already found their dream internships through our platform."}),(0,qv.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,qv.jsx)("button",{onClick:()=>n("/register"),className:"bg-white text-primary-600 hover:bg-gray-100 px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Create Free Account"}),(0,qv.jsx)("button",{onClick:()=>n("/internships"),className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Explore Opportunities"})]})]})}),(0,qv.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,qv.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,qv.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"InternshipHub"}),(0,qv.jsx)("p",{className:"text-gray-400 mb-4 max-w-md",children:"Connecting talented students with amazing internship opportunities worldwide. Build your career, gain experience, and achieve your dreams."}),(0,qv.jsx)("div",{className:"flex space-x-4"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"For Students"}),(0,qv.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,qv.jsx)("li",{children:(0,qv.jsx)(mt,{to:"/internships",className:"hover:text-white transition-colors",children:"Browse Internships"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)(mt,{to:"/register",className:"hover:text-white transition-colors",children:"Create Account"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)(mt,{to:"/profile",className:"hover:text-white transition-colors",children:"Build Profile"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)(mt,{to:"/resources",className:"hover:text-white transition-colors",children:"Career Resources"})})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"For Companies"}),(0,qv.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,qv.jsx)("li",{children:(0,qv.jsx)(mt,{to:"/admin/login",className:"hover:text-white transition-colors",children:"Admin Login"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)(mt,{to:"/post-internship",className:"hover:text-white transition-colors",children:"Post Internship"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)(mt,{to:"/pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)(mt,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact Sales"})})]})]})]}),(0,qv.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:(0,qv.jsx)("p",{children:"\xa9 2025 InternshipHub. All rights reserved."})})]})})]})},Zb=()=>{const e=[{icon:Vb,title:"Mission",description:"To bridge the gap between students and industry by providing meaningful internship opportunities that foster professional growth and career development."},{icon:jb,title:"Vision",description:"To become the world's leading platform for internship connections, empowering the next generation of professionals with real-world experience."},{icon:ob,title:"Values",description:"Excellence, Innovation, Integrity, and Student Success drive everything we do. We believe in creating opportunities that transform careers."}];return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-100",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,qv.jsxs)(mt,{to:"/",className:"inline-flex items-center text-primary-600 hover:text-primary-700 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Home"]}),(0,qv.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"InternshipHub"})]})})}),(0,qv.jsx)("section",{className:"bg-primary-600 text-white py-20",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,qv.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"About InternshipHub"}),(0,qv.jsx)("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto",children:"Connecting ambitious students with exceptional internship opportunities worldwide"})]})}),(0,qv.jsx)("section",{className:"py-20",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-16",children:[(0,qv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Purpose"}),(0,qv.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"We're driven by a passion to transform how students discover and secure meaningful internship experiences."})]}),(0,qv.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((e,t)=>(0,qv.jsxs)("div",{className:"text-center p-8 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[(0,qv.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,qv.jsx)(e.icon,{className:"w-8 h-8 text-primary-600"})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),(0,qv.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})]})}),(0,qv.jsx)("section",{className:"py-20 bg-white",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Story"}),(0,qv.jsxs)("div",{className:"space-y-4 text-gray-600",children:[(0,qv.jsx)("p",{children:"Founded in 2020, InternshipHub emerged from a simple observation: talented students were struggling to find meaningful internship opportunities, while companies were missing out on fresh talent and perspectives."}),(0,qv.jsx)("p",{children:"Our founders, a team of former industry executives and education professionals, recognized the need for a platform that could effectively bridge this gap. They envisioned a space where students could not only find internships but also receive mentorship, track their progress, and build lasting professional relationships."}),(0,qv.jsx)("p",{children:"Today, we're proud to have facilitated over 50,000 successful internship placements, working with more than 1,500 partner companies across various industries. Our commitment to student success remains at the heart of everything we do."})]})]}),(0,qv.jsx)("div",{className:"lg:text-right",children:(0,qv.jsx)("img",{src:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=600&h=400&fit=crop",alt:"Team collaboration",className:"rounded-xl shadow-lg"})})]})})}),(0,qv.jsx)("section",{className:"py-20 bg-gray-50",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-16",children:[(0,qv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Meet Our Team"}),(0,qv.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Our diverse team of professionals is dedicated to your success"})]}),(0,qv.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Dr. Sarah Wilson",role:"Platform Director",image:"https://images.unsplash.com/photo-1494790108755-2616b2692788?w=300&h=300&fit=crop&crop=face",description:"Former Google HR with 15+ years in talent acquisition"},{name:"Michael Chen",role:"Technology Lead",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=face",description:"Ex-Microsoft engineer specializing in education technology"},{name:"Emily Rodriguez",role:"Student Success Manager",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=300&fit=crop&crop=face",description:"Career counselor with expertise in student development"}].map((e,t)=>(0,qv.jsxs)("div",{className:"text-center bg-white p-8 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[(0,qv.jsx)("img",{src:e.image,alt:e.name,className:"w-24 h-24 rounded-full mx-auto mb-4 object-cover"}),(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:e.name}),(0,qv.jsx)("p",{className:"text-primary-600 font-medium mb-3",children:e.role}),(0,qv.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))})]})}),(0,qv.jsx)("section",{className:"py-20 bg-primary-600 text-white",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-12",children:[(0,qv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"By the Numbers"}),(0,qv.jsx)("p",{className:"text-xl",children:"Our impact speaks for itself"})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:"10,000+"}),(0,qv.jsx)("div",{className:"text-lg",children:"Active Internships"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:"50,000+"}),(0,qv.jsx)("div",{className:"text-lg",children:"Students Placed"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:"1,500+"}),(0,qv.jsx)("div",{className:"text-lg",children:"Partner Companies"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:"95%"}),(0,qv.jsx)("div",{className:"text-lg",children:"Success Rate"})]})]})]})}),(0,qv.jsx)("section",{className:"py-20 bg-white",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,qv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Ready to Start Your Journey?"}),(0,qv.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Join thousands of students who have found their perfect internship through our platform"}),(0,qv.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,qv.jsx)(mt,{to:"/register",className:"bg-primary-600 hover:bg-primary-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Get Started"}),(0,qv.jsx)(mt,{to:"/internships",className:"border border-primary-600 text-primary-600 hover:bg-primary-50 px-8 py-3 rounded-lg font-semibold transition-colors",children:"Browse Internships"})]})]})})]})},ex=()=>{const[e,t]=(0,r.useState)({name:"",email:"",subject:"",message:""}),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),o=n=>{t(l(l({},e),{},{[n.target.name]:n.target.value}))},c=[{icon:Cb,title:"Email",value:"support@internshiphub.com",link:"mailto:support@internshiphub.com"},{icon:Rb,title:"Phone",value:"+1 (555) 123-4567",link:"tel:+15551234567"},{icon:Lb,title:"Address",value:"123 Innovation Drive, Tech City, TC 12345",link:"https://maps.google.com"}];return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-100",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,qv.jsxs)(mt,{to:"/",className:"inline-flex items-center text-primary-600 hover:text-primary-700 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Home"]}),(0,qv.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"InternshipHub"})]})})}),(0,qv.jsx)("section",{className:"bg-primary-600 text-white py-20",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,qv.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Contact Us"}),(0,qv.jsx)("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto",children:"We're here to help! Get in touch with our team for any questions or support."})]})}),(0,qv.jsx)("section",{className:"py-20",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Get in Touch"}),(0,qv.jsx)("p",{className:"text-gray-600 mb-8",children:"Have questions about internships, our platform, or need technical support? We'd love to hear from you. Our team typically responds within 24 hours."}),(0,qv.jsx)("div",{className:"space-y-6",children:c.map((e,t)=>(0,qv.jsxs)("div",{className:"flex items-start",children:[(0,qv.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mr-4",children:(0,qv.jsx)(e.icon,{className:"w-6 h-6 text-primary-600"})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.title}),(0,qv.jsx)("a",{href:e.link,className:"text-gray-600 hover:text-primary-600 transition-colors",children:e.value})]})]},t))}),(0,qv.jsxs)("div",{className:"mt-8 p-6 bg-gray-100 rounded-lg",children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Office Hours"}),(0,qv.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,qv.jsx)("p",{children:"Monday - Friday: 9:00 AM - 6:00 PM EST"}),(0,qv.jsx)("p",{children:"Saturday: 10:00 AM - 4:00 PM EST"}),(0,qv.jsx)("p",{children:"Sunday: Closed"})]})]})]}),(0,qv.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-sm",children:[(0,qv.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),s?(0,qv.jsxs)("div",{className:"text-center py-8",children:[(0,qv.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,qv.jsx)(Ub,{className:"w-8 h-8 text-green-600"})}),(0,qv.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Message Sent!"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Thank you for contacting us. We'll get back to you soon."}),(0,qv.jsx)("button",{onClick:()=>a(!1),className:"mt-4 text-primary-600 hover:text-primary-700 font-medium",children:"Send Another Message"})]}):(0,qv.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(!0),setTimeout(()=>{i(!1),a(!0),t({name:"",email:"",subject:"",message:""})},1e3)},className:"space-y-6",children:[(0,qv.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Yb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"text",id:"name",name:"name",required:!0,value:e.name,onChange:o,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Your full name"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Cb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"email",id:"email",name:"email",required:!0,value:e.email,onChange:o,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"your@email.com"})]})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,qv.jsx)("input",{type:"text",id:"subject",name:"subject",required:!0,value:e.subject,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What's this about?"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Tb,{className:"absolute left-3 top-3 text-gray-400"}),(0,qv.jsx)("textarea",{id:"message",name:"message",required:!0,rows:6,value:e.message,onChange:o,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",placeholder:"Tell us more about your inquiry..."})]})]}),(0,qv.jsx)("button",{type:"submit",disabled:n,className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:n?"Sending...":(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)(Ub,{className:"mr-2"}),"Send Message"]})})]})]})]})})}),(0,qv.jsx)("section",{className:"py-20 bg-white",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-12",children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Quick answers to common questions"})]}),(0,qv.jsx)("div",{className:"space-y-6",children:[{question:"How do I apply for an internship?",answer:"Simply create an account, complete your profile, and browse available internships. Click 'Apply' on any position that interests you."},{question:"Is InternshipHub free for students?",answer:"Yes! Our platform is completely free for students. Companies pay to post internship opportunities."},{question:"How long does the application process take?",answer:"Most companies respond within 1-2 weeks. You'll receive notifications about your application status through our platform."},{question:"Can I apply to multiple internships?",answer:"Absolutely! You can apply to as many internships as you'd like. We recommend tailoring your application for each position."}].map((e,t)=>(0,qv.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:e.question}),(0,qv.jsx)("p",{className:"text-gray-600",children:e.answer})]},t))})]})}),(0,qv.jsx)("section",{className:"py-20 bg-primary-50",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Still Have Questions?"}),(0,qv.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Check out our comprehensive help center or schedule a call with our team"}),(0,qv.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,qv.jsx)(mt,{to:"/help",className:"bg-primary-600 hover:bg-primary-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Visit Help Center"}),(0,qv.jsx)("a",{href:"mailto:support@internshiphub.com",className:"border border-primary-600 text-primary-600 hover:bg-primary-50 px-8 py-3 rounded-lg font-semibold transition-colors",children:"Email Support"})]})]})})]})},tx=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),{signup:o}=Hv();return n&&s?(0,qv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center px-4",children:(0,qv.jsxs)("div",{className:"max-w-md w-full",children:[(0,qv.jsx)("div",{className:"text-left mb-6",children:(0,qv.jsxs)(mt,{to:"/",className:"inline-flex items-center text-green-600 hover:text-green-700 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Home"]})}),(0,qv.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,qv.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,qv.jsx)(Kb,{className:"w-8 h-8 text-white"})}),(0,qv.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin Account Ready!"}),(0,qv.jsx)("p",{className:"text-gray-600 mb-8",children:"Your test admin account has been created. Use these credentials to log in:"}),(0,qv.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-6 text-left",children:[(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email:"}),(0,qv.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[(0,qv.jsx)("span",{className:"font-mono text-sm",children:s.email}),(0,qv.jsx)("button",{onClick:()=>navigator.clipboard.writeText(s.email),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Copy"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password:"}),(0,qv.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[(0,qv.jsx)("span",{className:"font-mono text-sm",children:s.password}),(0,qv.jsx)("button",{onClick:()=>navigator.clipboard.writeText(s.password),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Copy"})]})]})]}),(0,qv.jsxs)("div",{className:"space-y-3",children:[(0,qv.jsx)(mt,{to:"/admin/login",className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-semibold transition-colors block",children:"Go to Admin Login"}),(0,qv.jsx)(mt,{to:"/admin/register",className:"w-full border border-gray-300 text-gray-700 hover:bg-gray-50 py-3 px-4 rounded-lg font-semibold transition-colors block",children:"Create Another Admin"})]}),(0,qv.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:(0,qv.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,qv.jsx)("strong",{children:"Note:"})," This is a development utility. In production, use the regular admin registration process."]})})]})]})}):(0,qv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:(0,qv.jsxs)("div",{className:"max-w-md w-full",children:[(0,qv.jsx)("div",{className:"text-left mb-6",children:(0,qv.jsxs)(mt,{to:"/",className:"inline-flex items-center text-indigo-600 hover:text-indigo-700 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Home"]})}),(0,qv.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,qv.jsx)("div",{className:"w-16 h-16 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,qv.jsx)(Kb,{className:"w-8 h-8 text-white"})}),(0,qv.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Quick Admin Setup"}),(0,qv.jsx)("p",{className:"text-gray-600 mb-8",children:"Create a test admin account instantly to get started with the admin panel."}),(0,qv.jsx)("button",{onClick:async()=>{t(!0);try{const e="admin@test.com",t="admin123",n={firstName:"Test",lastName:"Admin",company:"Test Company",jobTitle:"HR Manager",phoneNumber:"+1234567890",role:"admin",isApproved:!0};await o(e,t,n),a({email:e,password:t}),i(!0)}catch(e){console.error("Error creating test admin:",e),"auth/email-already-in-use"===e.code?(a({email:"admin@test.com",password:"admin123"}),i(!0)):alert("Error creating admin: "+e.message)}finally{t(!1)}},disabled:e,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 px-4 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:e?"Creating Admin Account...":"Create Test Admin Account"}),(0,qv.jsxs)("div",{className:"text-sm text-gray-500 space-y-2",children:[(0,qv.jsx)("p",{children:"This will create an admin account with:"}),(0,qv.jsxs)("ul",{className:"text-left list-disc list-inside space-y-1",children:[(0,qv.jsx)("li",{children:"Email: admin@test.com"}),(0,qv.jsx)("li",{children:"Password: admin123"}),(0,qv.jsx)("li",{children:"Full admin privileges"})]})]}),(0,qv.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,qv.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Already have an admin account?"}),(0,qv.jsxs)("div",{className:"space-y-2",children:[(0,qv.jsx)(mt,{to:"/admin/login",className:"w-full border border-indigo-600 text-indigo-600 hover:bg-indigo-50 py-2 px-4 rounded-lg font-medium transition-colors block",children:"Admin Login"}),(0,qv.jsx)(mt,{to:"/admin/register",className:"w-full text-gray-600 hover:text-gray-800 py-2 px-4 rounded-lg font-medium transition-colors block",children:"Create New Admin"})]})]})]})]})})};function nx(e){return tb({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}const rx=()=>{const[e,t]=(0,r.useState)({email:"",password:""}),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),{signin:u,signInWithGoogle:d}=Hv(),h=fe(),f=n=>{t(l(l({},e),{},{[n.target.name]:n.target.value}))};return(0,qv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-indigo-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,qv.jsx)("div",{className:"text-left",children:(0,qv.jsxs)(mt,{to:"/",className:"inline-flex items-center text-primary-600 hover:text-primary-700 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Home"]})}),(0,qv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-8",children:[(0,qv.jsx)("div",{className:"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,qv.jsx)(Ab,{className:"w-8 h-8 text-white"})}),(0,qv.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),(0,qv.jsx)("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),o&&(0,qv.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:o}),(0,qv.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),c(""),a(!0);try{await u(e.email,e.password),h("/dashboard")}catch(o){console.error("Login error:",o),"auth/operation-not-allowed"===o.code?c("Email/password sign-in is not enabled. Please contact support."):"auth/user-not-found"===o.code?c("No account found with this email address."):"auth/wrong-password"===o.code?c("Incorrect password. Please try again."):"auth/invalid-email"===o.code?c("Please enter a valid email address."):"auth/too-many-requests"===o.code?c("Too many failed attempts. Please try again later."):c("Failed to sign in. Please check your credentials.")}finally{a(!1)}},className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Cb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:f,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"your@email.com"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Ab,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:e.password,onChange:f,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"Enter your password"}),(0,qv.jsx)("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?(0,qv.jsx)(wb,{}):(0,qv.jsx)(Nb,{})})]})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),(0,qv.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 px-4 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})]}),(0,qv.jsxs)("div",{className:"mt-6",children:[(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,qv.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,qv.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,qv.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,qv.jsx)("div",{className:"mt-6",children:(0,qv.jsxs)("button",{onClick:async()=>{c(""),a(!0);try{await d(),h("/dashboard")}catch(o){console.error("Google sign-in error:",o),c("Failed to sign in with Google. Please try again.")}finally{a(!1)}},disabled:s,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,qv.jsx)(nx,{className:"w-5 h-5 text-red-500 mr-3"}),"Sign in with Google"]})})]}),(0,qv.jsx)("div",{className:"mt-8 text-center",children:(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,qv.jsx)(mt,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"Sign Up"})]})})]}),(0,qv.jsx)("div",{className:"text-center text-gray-500 text-sm",children:(0,qv.jsx)("p",{children:"\xa9 2025 InternshipHub. All rights reserved."})})]})})},ix=()=>{const[e,t]=(0,r.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phoneNumber:"",university:"",major:"",graduationYear:""}),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),{signup:h}=Hv(),f=fe(),p=n=>{t(l(l({},e),{},{[n.target.name]:n.target.value}))};return(0,qv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-indigo-100 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:(0,qv.jsxs)("div",{className:"max-w-2xl w-full space-y-8",children:[(0,qv.jsx)("div",{className:"text-left",children:(0,qv.jsxs)(mt,{to:"/",className:"inline-flex items-center text-primary-600 hover:text-primary-700 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Home"]})}),(0,qv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-8",children:[(0,qv.jsx)("div",{className:"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,qv.jsx)(Yb,{className:"w-8 h-8 text-white"})}),(0,qv.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Your Account"}),(0,qv.jsx)("p",{className:"text-gray-600 mt-2",children:"Join thousands of students finding their dream internships"})]}),u&&(0,qv.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:u}),(0,qv.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),d(""),e.password!==e.confirmPassword)return d("Passwords do not match");if(e.password.length<6)return d("Password must be at least 6 characters");c(!0);try{const t={firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,university:e.university,major:e.major,graduationYear:e.graduationYear,role:"student"};await h(e.email,e.password,t),f("/dashboard")}catch(u){console.error("Registration error:",u),"auth/operation-not-allowed"===u.code?d("Email/password accounts are not enabled. Please visit /setup-guide for instructions."):"auth/weak-password"===u.code?d("Password is too weak. Please choose a stronger password."):"auth/email-already-in-use"===u.code?d("An account with this email already exists."):"auth/invalid-email"===u.code?d("Please enter a valid email address."):d("Failed to create account. Please try again.")}finally{c(!1)}},className:"space-y-6",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Yb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"John"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Yb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"Doe"})]})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Cb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"john@student.university.edu"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Rb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",value:e.phoneNumber,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"+1 (555) 123-4567"})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"university",className:"block text-sm font-medium text-gray-700 mb-2",children:"University"}),(0,qv.jsx)("input",{id:"university",name:"university",type:"text",required:!0,value:e.university,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"University of Technology"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"major",className:"block text-sm font-medium text-gray-700 mb-2",children:"Major"}),(0,qv.jsx)("input",{id:"major",name:"major",type:"text",required:!0,value:e.major,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"Computer Science"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"graduationYear",className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Graduation Year"}),(0,qv.jsxs)("select",{id:"graduationYear",name:"graduationYear",required:!0,value:e.graduationYear,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",children:[(0,qv.jsx)("option",{value:"",children:"Select Year"}),Array.from({length:10},(e,t)=>{const n=(new Date).getFullYear()+t;return(0,qv.jsx)("option",{value:n,children:n},n)})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Ab,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:e.password,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"Enter password"}),(0,qv.jsx)("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?(0,qv.jsx)(wb,{}):(0,qv.jsx)(Nb,{})})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Ab,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",required:!0,value:e.confirmPassword,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",placeholder:"Confirm password"}),(0,qv.jsx)("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?(0,qv.jsx)(wb,{}):(0,qv.jsx)(Nb,{})})]})]})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,qv.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",(0,qv.jsx)(mt,{to:"/terms",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Terms of Service"})," ","and"," ",(0,qv.jsx)(mt,{to:"/privacy",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Privacy Policy"})]})]}),(0,qv.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 px-4 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Create Account"})]}),(0,qv.jsx)("div",{className:"mt-8 text-center",children:(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,qv.jsx)(mt,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"Sign In"})]})})]}),(0,qv.jsx)("div",{className:"text-center text-gray-500 text-sm",children:(0,qv.jsx)("p",{children:"\xa9 2025 InternshipHub. All rights reserved."})})]})})},sx=()=>{const e=fe(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)([]),{currentUser:a,userProfile:o,logout:c}=Hv();(0,r.useEffect)(()=>{a?u():e("/login")},[a,e]),(0,r.useEffect)(()=>{s(t)},[t]);const u=async()=>{try{const e=Vg(ng(Bv,"internships"),Wg("status","==","active"),Yg("createdAt","desc")),t=(await ly(e)).docs.map(e=>l({id:e.id},e.data()));n(t)}catch(e){console.error("Error fetching internships:",e)}};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold text-primary-600",children:"InternshipHub"}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome back, ",(null===o||void 0===o?void 0:o.firstName)||"Student"]})]}),(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,qv.jsx)(Yb,{className:"text-gray-400"}),(0,qv.jsx)("span",{className:"text-sm text-gray-700",children:null===a||void 0===a?void 0:a.email})]}),(0,qv.jsxs)(mt,{to:"/profile",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,qv.jsx)(Yb,{className:"mr-2"}),"My Profile"]}),(0,qv.jsxs)("button",{onClick:async()=>{try{e("/login",{replace:!0}),await c()}catch(t){console.error("Error logging out:",t),e("/login",{replace:!0})}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 transition-colors",children:[(0,qv.jsx)(Eb,{className:"mr-2"}),"Logout"]})]})]})})}),(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/internships"),children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qv.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,qv.jsx)(Mb,{className:"w-6 h-6 text-blue-600"})}),(0,qv.jsx)("span",{className:"text-sm text-gray-500",children:"Quick Action"})]}),(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Browse Internships"}),(0,qv.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Explore available internship opportunities and apply"}),(0,qv.jsx)("div",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg text-center hover:bg-blue-700 transition-colors",children:"Start Browsing"})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/my-applications"),children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qv.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,qv.jsx)(cb,{className:"w-6 h-6 text-green-600"})}),(0,qv.jsx)("span",{className:"text-sm text-gray-500",children:"My Activity"})]}),(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"My Applications"}),(0,qv.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Track your application status and manage submissions"}),(0,qv.jsx)("div",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg text-center hover:bg-green-700 transition-colors",children:"View Applications"})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/profile"),children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qv.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,qv.jsx)(Yb,{className:"w-6 h-6 text-purple-600"})}),(0,qv.jsx)("span",{className:"text-sm text-gray-500",children:"Account"})]}),(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Profile Settings"}),(0,qv.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Update your profile, upload resume and photo"}),(0,qv.jsx)("div",{className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg text-center hover:bg-purple-700 transition-colors",children:"Manage Profile"})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/submit-task"),children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qv.jsx)("div",{className:"p-3 bg-indigo-100 rounded-lg",children:(0,qv.jsx)(Ob,{className:"w-6 h-6 text-indigo-600"})}),(0,qv.jsx)("span",{className:"text-sm text-gray-500",children:"Tasks"})]}),(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Submit Task Update"}),(0,qv.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Send detailed task updates for your approved internship"}),(0,qv.jsx)("div",{className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg text-center hover:bg-indigo-700 transition-colors",children:"Submit Now"})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/my-tasks"),children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qv.jsx)("div",{className:"p-3 bg-teal-100 rounded-lg",children:(0,qv.jsx)(cb,{className:"w-6 h-6 text-teal-600"})}),(0,qv.jsx)("span",{className:"text-sm text-gray-500",children:"My Activity"})]}),(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"My Task Updates"}),(0,qv.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Track your task review status, timestamps, and feedback"}),(0,qv.jsx)("div",{className:"w-full bg-teal-600 text-white py-2 px-4 rounded-lg text-center hover:bg-teal-700 transition-colors",children:"View Tasks"})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/my-attendance"),children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qv.jsx)("div",{className:"p-3 bg-teal-100 rounded-lg",children:(0,qv.jsx)(pb,{className:"w-6 h-6 text-teal-600"})}),(0,qv.jsx)("span",{className:"text-sm text-gray-500",children:"Attendance"})]}),(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"My Attendance"}),(0,qv.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Punch in/out and track approvals for your sessions"}),(0,qv.jsx)("div",{className:"w-full bg-teal-600 text-white py-2 px-4 rounded-lg text-center hover:bg-teal-700 transition-colors",children:"Open Attendance"})]})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Welcome to Your Dashboard"}),(0,qv.jsx)("p",{className:"text-gray-600 mb-6",children:"Use the cards above to navigate to different sections of your internship portal."}),(0,qv.jsxs)("div",{className:"border-t pt-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Internship Opportunities"}),i.slice(0,3).length>0?(0,qv.jsx)("div",{className:"space-y-4",children:i.slice(0,3).map(t=>(0,qv.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:(0,qv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qv.jsxs)("div",{className:"flex-1",children:[(0,qv.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),(0,qv.jsxs)("div",{className:"flex items-center space-x-4 mb-2 text-sm text-gray-600",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(cb,{className:"w-4 h-4 mr-1"}),t.company]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Lb,{className:"w-4 h-4 mr-1"}),t.location]}),t.salary&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(mb,{className:"w-4 h-4 mr-1"}),t.salary]})]}),(0,qv.jsx)("p",{className:"text-gray-700 text-sm",children:t.description.length>150?"".concat(t.description.substring(0,150),"..."):t.description})]}),(0,qv.jsx)("div",{className:"ml-4",children:(0,qv.jsx)("button",{onClick:()=>e("/internships"),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm",children:"View All"})})]})},t.id))}):(0,qv.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,qv.jsx)(cb,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,qv.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No internships available"}),(0,qv.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Check back later for new opportunities."}),(0,qv.jsx)("button",{onClick:()=>e("/internships"),className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm",children:"Browse All Internships"})]})]})]})]})]})},ax=()=>(0,qv.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsx)("div",{className:"mb-8",children:(0,qv.jsxs)(mt,{to:"/",className:"inline-flex items-center text-primary-600 hover:text-primary-700 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Home"]})}),(0,qv.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,qv.jsxs)("div",{className:"bg-gradient-to-r from-primary-600 to-indigo-600 px-8 py-6",children:[(0,qv.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Firebase Setup Guide"}),(0,qv.jsx)("p",{className:"text-primary-100 mt-2",children:"Complete these steps to get your internship portal running"})]}),(0,qv.jsxs)("div",{className:"p-8",children:[(0,qv.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(rb,{className:"text-yellow-600 mr-3"}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Setup Required"}),(0,qv.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Some Firebase features need to be enabled before you can use the application."})]})]})}),(0,qv.jsx)("div",{className:"space-y-6",children:[{title:"Enable Email/Password Authentication",description:"Go to Firebase Console \u2192 Authentication \u2192 Sign-in method \u2192 Enable Email/Password",status:"required",link:"https://console.firebase.google.com/"},{title:"Configure Firestore Database",description:"Create a Firestore database in your Firebase project for storing user data and internships",status:"required",link:"https://console.firebase.google.com/"},{title:"Set up Security Rules",description:"Configure Firestore security rules to protect your data",status:"recommended",link:"https://firebase.google.com/docs/firestore/security/get-started"}].map((e,t)=>(0,qv.jsx)("div",{className:"border border-gray-200 rounded-lg p-6",children:(0,qv.jsxs)("div",{className:"flex items-start",children:[(0,qv.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat("required"===e.status?"bg-red-100":"bg-yellow-100"),children:"required"===e.status?(0,qv.jsx)(rb,{className:"w-5 h-5 text-red-600"}):(0,qv.jsx)(hb,{className:"w-5 h-5 text-yellow-600"})}),(0,qv.jsxs)("div",{className:"ml-4 flex-1",children:[(0,qv.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Step ",t+1,": ",e.title]}),(0,qv.jsx)("p",{className:"text-gray-700 mb-4",children:e.description}),(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("required"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"required"===e.status?"Required":"Recommended"}),(0,qv.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-primary-600 hover:text-primary-700 text-sm font-medium",children:["Open Firebase Console",(0,qv.jsx)(xb,{className:"ml-1 w-4 h-4"})]})]})]})]})},t))}),(0,qv.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Quick Setup Instructions"}),(0,qv.jsxs)("ol",{className:"space-y-2 text-sm text-blue-800",children:[(0,qv.jsxs)("li",{className:"flex items-start",children:[(0,qv.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium mr-3 mt-0.5",children:"1"}),(0,qv.jsxs)("span",{children:["Go to ",(0,qv.jsx)("a",{href:"https://console.firebase.google.com/",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"Firebase Console"})]})]}),(0,qv.jsxs)("li",{className:"flex items-start",children:[(0,qv.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium mr-3 mt-0.5",children:"2"}),(0,qv.jsxs)("span",{children:["Select your project: ",(0,qv.jsx)("strong",{children:"scontitech-286b2"})]})]}),(0,qv.jsxs)("li",{className:"flex items-start",children:[(0,qv.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium mr-3 mt-0.5",children:"3"}),(0,qv.jsxs)("span",{children:["Navigate to ",(0,qv.jsx)("strong",{children:"Authentication"})," \u2192 ",(0,qv.jsx)("strong",{children:"Sign-in method"})]})]}),(0,qv.jsxs)("li",{className:"flex items-start",children:[(0,qv.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium mr-3 mt-0.5",children:"4"}),(0,qv.jsxs)("span",{children:["Click on ",(0,qv.jsx)("strong",{children:"Email/Password"})," and toggle ",(0,qv.jsx)("strong",{children:"Enable"})]})]}),(0,qv.jsxs)("li",{className:"flex items-start",children:[(0,qv.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium mr-3 mt-0.5",children:"5"}),(0,qv.jsxs)("span",{children:["Click ",(0,qv.jsx)("strong",{children:"Save"})," and refresh this page"]})]})]})]}),(0,qv.jsx)("div",{className:"mt-8 text-center",children:(0,qv.jsx)(mt,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors",children:"Try Registration Again"})})]})]})]})}),ox=()=>{const[e,t]=(0,r.useState)({email:"",password:""}),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),{signin:u}=Hv(),d=fe(),h=n=>{t(l(l({},e),{},{[n.target.name]:n.target.value}))};return(0,qv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-indigo-900 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,qv.jsx)("div",{className:"text-left",children:(0,qv.jsxs)(mt,{to:"/",className:"inline-flex items-center text-gray-300 hover:text-white transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Home"]})}),(0,qv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-8",children:[(0,qv.jsx)("div",{className:"w-16 h-16 bg-gray-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,qv.jsx)(Ab,{className:"w-8 h-8 text-white"})}),(0,qv.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Admin Portal"}),(0,qv.jsx)("p",{className:"text-gray-600 mt-2",children:"Sign in to manage internships"})]}),o&&(0,qv.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:o}),(0,qv.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),c(""),a(!0);try{await u(e.email,e.password),d("/admin/dashboard")}catch(o){console.error("Login error:",o),"auth/operation-not-allowed"===o.code?c("Email/password sign-in is not enabled. Please contact support."):"auth/user-not-found"===o.code?c("No account found with this email address."):"auth/wrong-password"===o.code?c("Incorrect password. Please try again."):"auth/invalid-email"===o.code?c("Please enter a valid email address."):"auth/too-many-requests"===o.code?c("Too many failed attempts. Please try again later."):c("Failed to sign in. Please check your credentials.")}finally{a(!1)}},className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Cb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"admin@company.com"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Ab,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:e.password,onChange:h,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"Enter your password"}),(0,qv.jsx)("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?(0,qv.jsx)(wb,{}):(0,qv.jsx)(Nb,{})})]})]}),(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),(0,qv.jsx)(mt,{to:"/admin/forgot-password",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Forgot password?"})]}),(0,qv.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-gray-900 hover:bg-gray-800 text-white py-3 px-4 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})]}),(0,qv.jsxs)("div",{className:"mt-8 text-center space-y-4",children:[(0,qv.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,qv.jsxs)("p",{className:"text-sm text-blue-800 mb-2",children:[(0,qv.jsx)("strong",{children:"Development Mode:"})," Need quick access?"]}),(0,qv.jsx)(mt,{to:"/quick-admin-setup",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Quick Admin Setup"})]}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an admin account?"," ",(0,qv.jsx)(mt,{to:"/admin/register",className:"text-gray-900 hover:text-gray-700 font-medium transition-colors",children:"Register Here"})]})]})]}),(0,qv.jsx)("div",{className:"text-center text-gray-400 text-sm",children:(0,qv.jsx)("p",{children:"\xa9 2025 InternshipHub. All rights reserved."})})]})})},lx=()=>{const[e,t]=(0,r.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",company:"",jobTitle:"",phoneNumber:""}),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),{signup:h}=Hv(),f=fe(),p=n=>{t(l(l({},e),{},{[n.target.name]:n.target.value}))};return(0,qv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-indigo-900 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:(0,qv.jsxs)("div",{className:"max-w-2xl w-full space-y-8",children:[(0,qv.jsx)("div",{className:"text-left",children:(0,qv.jsxs)(mt,{to:"/",className:"inline-flex items-center text-gray-300 hover:text-white transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Home"]})}),(0,qv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,qv.jsxs)("div",{className:"text-center mb-8",children:[(0,qv.jsx)("div",{className:"w-16 h-16 bg-gray-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,qv.jsx)(cb,{className:"w-8 h-8 text-white"})}),(0,qv.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Admin Account"}),(0,qv.jsx)("p",{className:"text-gray-600 mt-2",children:"Join as a company to post internships"})]}),u&&(0,qv.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:u}),(0,qv.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),d(""),e.password!==e.confirmPassword)return d("Passwords do not match");if(e.password.length<6)return d("Password must be at least 6 characters");c(!0);try{const t={firstName:e.firstName,lastName:e.lastName,company:e.company,jobTitle:e.jobTitle,phoneNumber:e.phoneNumber,role:"admin",isApproved:!0};await h(e.email,e.password,t),f("/admin/dashboard")}catch(u){console.error("Registration error:",u),"auth/operation-not-allowed"===u.code?d("Email/password accounts are not enabled. Please visit /setup-guide for instructions."):"auth/weak-password"===u.code?d("Password is too weak. Please choose a stronger password."):"auth/email-already-in-use"===u.code?d("An account with this email already exists."):"auth/invalid-email"===u.code?d("Please enter a valid email address."):d("Failed to create account. Please try again.")}finally{c(!1)}},className:"space-y-6",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Yb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"John"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Yb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"Doe"})]})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Cb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"john@company.com"})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(cb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"company",name:"company",type:"text",required:!0,value:e.company,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"Tech Corp Inc."})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"jobTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),(0,qv.jsx)("input",{id:"jobTitle",name:"jobTitle",type:"text",required:!0,value:e.jobTitle,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"HR Manager"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,qv.jsx)("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",value:e.phoneNumber,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"+1 (555) 123-4567"})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Ab,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:e.password,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"Enter password"}),(0,qv.jsx)("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?(0,qv.jsx)(wb,{}):(0,qv.jsx)(Nb,{})})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Ab,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",required:!0,value:e.confirmPassword,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",placeholder:"Confirm password"}),(0,qv.jsx)("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?(0,qv.jsx)(wb,{}):(0,qv.jsx)(Nb,{})})]})]})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),(0,qv.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",(0,qv.jsx)(mt,{to:"/terms",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Terms of Service"})," ","and"," ",(0,qv.jsx)(mt,{to:"/privacy",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Privacy Policy"})]})]}),(0,qv.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-gray-900 hover:bg-gray-800 text-white py-3 px-4 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Create Admin Account"})]}),(0,qv.jsx)("div",{className:"mt-8 text-center",children:(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an admin account?"," ",(0,qv.jsx)(mt,{to:"/admin/login",className:"text-gray-900 hover:text-gray-700 font-medium transition-colors",children:"Sign In"})]})})]}),(0,qv.jsx)("div",{className:"text-center text-gray-400 text-sm",children:(0,qv.jsx)("p",{children:"\xa9 2025 InternshipHub. All rights reserved."})})]})})};var cx=n(2284),ux=Uint8Array,dx=Uint16Array,hx=Int32Array,fx=new ux([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),px=new ux([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mx=new ux([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gx=function(e,t){for(var n=new dx(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new hx(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},yx=gx(fx,2),vx=yx.b,bx=yx.r;vx[28]=258,bx[258]=28;for(var xx=gx(px,0),wx=(xx.b,xx.r),Nx=new dx(32768),_x=0;_x<32768;++_x){var kx=(43690&_x)>>1|(21845&_x)<<1;kx=(61680&(kx=(52428&kx)>>2|(13107&kx)<<2))>>4|(3855&kx)<<4,Nx[_x]=((65280&kx)>>8|(255&kx)<<8)>>1}var Sx=function(e,t,n){for(var r=e.length,i=0,s=new dx(t);i<r;++i)e[i]&&++s[e[i]-1];var a,o=new dx(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;if(n){a=new dx(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=o[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)a[Nx[d]>>l]=c}else for(a=new dx(r),i=0;i<r;++i)e[i]&&(a[i]=Nx[o[e[i]-1]++]>>15-e[i]);return a},jx=new ux(288);for(_x=0;_x<144;++_x)jx[_x]=8;for(_x=144;_x<256;++_x)jx[_x]=9;for(_x=256;_x<280;++_x)jx[_x]=7;for(_x=280;_x<288;++_x)jx[_x]=8;var Ax=new ux(32);for(_x=0;_x<32;++_x)Ax[_x]=5;var Ex=Sx(jx,9,0),Cx=Sx(Ax,5,0),Lx=function(e){return(e+7)/8|0},Ix=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new ux(e.subarray(t,n))},Tx=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Px=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Rx=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:zx,l:0};if(1==i){var a=new ux(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var f=new dx(h+1),p=Dx(n[u-1],f,0);if(p>t){r=0;var m=0,g=p-t,y=1<<g;for(s.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});r<i;++r){var v=s[r].s;if(!(f[v]>t))break;m+=y-(1<<p-f[v]),f[v]=t}for(m>>=g;m>0;){var b=s[r].s;f[b]<t?m-=1<<t-f[b]++-1:++r}for(;r>=0&&m;--r){var x=s[r].s;f[x]==t&&(--f[x],++m)}p=t}return{t:new ux(f),l:p}},Dx=function(e,t,n){return-1==e.s?Math.max(Dx(e.l,t,n+1),Dx(e.r,t,n+1)):t[e.s]=n},Ox=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new dx(++t),r=0,i=e[0],s=1,a=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:n.subarray(0,r),n:t}},Fx=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Mx=function(e,t,n){var r=n.length,i=Lx(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},Ux=function(e,t,n,r,i,s,a,o,l,c,u){Tx(t,u++,n),++i[256];for(var d=Rx(i,15),h=d.t,f=d.l,p=Rx(s,15),m=p.t,g=p.l,y=Ox(h),v=y.c,b=y.n,x=Ox(m),w=x.c,N=x.n,_=new dx(19),k=0;k<v.length;++k)++_[31&v[k]];for(k=0;k<w.length;++k)++_[31&w[k]];for(var S=Rx(_,7),j=S.t,A=S.l,E=19;E>4&&!j[mx[E-1]];--E);var C,L,I,T,P=c+5<<3,R=Fx(i,jx)+Fx(s,Ax)+a,D=Fx(i,h)+Fx(s,m)+a+14+3*E+Fx(_,j)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&P<=R&&P<=D)return Mx(t,u,e.subarray(l,l+c));if(Tx(t,u,1+(D<R)),u+=2,D<R){C=Sx(h,f,0),L=h,I=Sx(m,g,0),T=m;var O=Sx(j,A,0);Tx(t,u,b-257),Tx(t,u+5,N-1),Tx(t,u+10,E-4),u+=14;for(k=0;k<E;++k)Tx(t,u+3*k,j[mx[k]]);u+=3*E;for(var F=[v,w],M=0;M<2;++M){var U=F[M];for(k=0;k<U.length;++k){var B=31&U[k];Tx(t,u,O[B]),u+=j[B],B>15&&(Tx(t,u,U[k]>>5&127),u+=U[k]>>12)}}}else C=Ex,L=jx,I=Cx,T=Ax;for(k=0;k<o;++k){var z=r[k];if(z>255){Px(t,u,C[(B=z>>18&31)+257]),u+=L[B+257],B>7&&(Tx(t,u,z>>23&31),u+=fx[B]);var q=31&z;Px(t,u,I[q]),u+=T[q],q>3&&(Px(t,u,z>>5&8191),u+=px[q])}else Px(t,u,C[z]),u+=L[z]}return Px(t,u,C[256]),u+L[256]},Bx=new hx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zx=new ux(0),qx=function(e,t,n,r,i,s){var a=s.z||e.length,o=new ux(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=7&(s.r||0);if(t){u&&(l[0]=s.r>>3);for(var d=Bx[t-1],h=d>>13,f=8191&d,p=(1<<n)-1,m=s.p||new dx(32768),g=s.h||new dx(p+1),y=Math.ceil(n/3),v=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<v)&p},x=new hx(25e3),w=new dx(288),N=new dx(32),_=0,k=0,S=s.i||0,j=0,A=s.w||0,E=0;S+2<a;++S){var C=b(S),L=32767&S,I=g[C];if(m[L]=I,g[C]=L,A<=S){var T=a-S;if((_>7e3||j>24576)&&(T>423||!c)){u=Ux(e,l,0,x,w,N,k,j,E,S-E,u),j=_=k=0,E=S;for(var P=0;P<286;++P)w[P]=0;for(P=0;P<30;++P)N[P]=0}var R=2,D=0,O=f,F=L-I&32767;if(T>2&&C==b(S-F))for(var M=Math.min(h,T)-1,U=Math.min(32767,S),B=Math.min(258,T);F<=U&&--O&&L!=I;){if(e[S+R]==e[S+R-F]){for(var z=0;z<B&&e[S+z]==e[S+z-F];++z);if(z>R){if(R=z,D=F,z>M)break;var q=Math.min(F,z-2),V=0;for(P=0;P<q;++P){var H=S-F+P&32767,W=H-m[H]&32767;W>V&&(V=W,I=H)}}}F+=(L=I)-(I=m[L])&32767}if(D){x[j++]=268435456|bx[R]<<18|wx[D];var G=31&bx[R],K=31&wx[D];k+=fx[G]+px[K],++w[257+G],++N[K],A=S+R,++_}else x[j++]=e[S],++w[e[S]]}}for(S=Math.max(S,A);S<a;++S)x[j++]=e[S],++w[e[S]];u=Ux(e,l,c,x,w,N,k,j,E,S-E,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=g,s.p=m,s.i=S,s.w=A)}else{for(S=s.w||0;S<a+c;S+=65535){var Y=S+65535;Y>=a&&(l[u/8|0]=c,Y=a),u=Mx(l,u+1,e.subarray(S,Y))}s.i=a}return Ix(o,0,r+Lx(u)+i)},Vx=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=0|n.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Hx=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new ux(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return qx(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,i)},Wx=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Gx=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Vx();i.p(t.dictionary),Wx(e,2,i.d())}};function Kx(e,t){t||(t={});var n=Vx();n.p(e);var r=Hx(e,t,t.dictionary?6:2,4);return Gx(r,t),Wx(r,r.length-4,n.d()),r}var Yx="undefined"!=typeof TextDecoder&&new TextDecoder;try{Yx.decode(zx,{stream:!0})}catch(uE){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function Qx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xx(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const $x=new TextEncoder;const Zx=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),ew={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class tw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.A)(this,"buffer",void 0),(0,a.A)(this,"byteLength",void 0),(0,a.A)(this,"byteOffset",void 0),(0,a.A)(this,"length",void 0),(0,a.A)(this,"offset",void 0),(0,a.A)(this,"lastWrittenByte",void 0),(0,a.A)(this,"littleEndian",void 0),(0,a.A)(this,"_data",void 0),(0,a.A)(this,"_mark",void 0),(0,a.A)(this,"_marks",void 0);let n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,i=e.byteLength-r;let s=r;(ArrayBuffer.isView(e)||e instanceof tw)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=n?i:0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=ew[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,i=this.buffer.slice(r,r+n);if(this.littleEndian===Zx&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const i=new ew[t](e.buffer);return this.offset+=n,i.reverse(),i}const s=new ew[t](i);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Xx(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return Xx(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return $x.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function nw(e){let t=e.length;for(;--t>=0;)e[t]=0}const rw=256,iw=286,sw=30,aw=15,ow=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),lw=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cw=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),uw=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dw=new Array(576);nw(dw);const hw=new Array(60);nw(hw);const fw=new Array(512);nw(fw);const pw=new Array(256);nw(pw);const mw=new Array(29);nw(mw);const gw=new Array(sw);function yw(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let vw,bw,xw;function ww(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}nw(gw);const Nw=e=>e<256?fw[e]:fw[256+(e>>>7)],_w=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},kw=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Sw=(e,t,n)=>{kw(e,n[2*t],n[2*t+1])},jw=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Aw=(e,t,n)=>{const r=new Array(16);let i,s,a=0;for(i=1;i<=aw;i++)a=a+n[i-1]<<1,r[i]=a;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=jw(r[t]++,t))}},Ew=e=>{let t;for(t=0;t<iw;t++)e.dyn_ltree[2*t]=0;for(t=0;t<sw;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Cw=e=>{e.bi_valid>8?_w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Lw=(e,t,n,r)=>{const i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},Iw=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Lw(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Lw(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},Tw=(e,t,n)=>{let r,i,s,a,o=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,i=e.pending_buf[e.sym_buf+o++],0===r?Sw(e,i,t):(s=pw[i],Sw(e,s+rw+1,t),a=ow[s],0!==a&&(i-=mw[s],kw(e,i,a)),r--,s=Nw(r),Sw(e,s,n),a=lw[s],0!==a&&(r-=gw[s],kw(e,r,a)))}while(o<e.sym_next);Sw(e,256,t)},Pw=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,l,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<s;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)Iw(e,n,a);l=s;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Iw(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,n[2*l]=n[2*a]+n[2*o],e.depth[l]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,n[2*a+1]=n[2*o+1]=l,e.heap[1]=l++,Iw(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,h,f,p,m=0;for(h=0;h<=aw;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],h=n[2*n[2*u+1]+1]+1,h>l&&(h=l,m++),n[2*u+1]=h,u>r||(e.bl_count[h]++,f=0,u>=o&&(f=a[u-o]),p=n[2*u],e.opt_len+=p*(h+f),s&&(e.static_len+=p*(i[2*u+1]+f)));if(0!==m){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(h=l;0!==h;h--)for(u=e.bl_count[h];0!==u;)d=e.heap[--c],d>r||(n[2*d+1]!==h&&(e.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),u--)}})(e,t),Aw(n,c,e.bl_count)},Rw=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++o<l&&i===a||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},Dw=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++o<l&&i===a)){if(o<c)do{Sw(e,i,e.bl_tree)}while(0!==--o);else 0!==i?(i!==s&&(Sw(e,i,e.bl_tree),o--),Sw(e,16,e.bl_tree),kw(e,o-3,2)):o<=10?(Sw(e,17,e.bl_tree),kw(e,o-3,3)):(Sw(e,18,e.bl_tree),kw(e,o-11,7));o=0,s=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}};let Ow=!1;const Fw=(e,t,n,r)=>{kw(e,0+(r?1:0),3),Cw(e),_w(e,n),_w(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Mw=e=>{Ow||((()=>{let e,t,n,r,i;const s=new Array(16);for(n=0,r=0;r<28;r++)for(mw[r]=n,e=0;e<1<<ow[r];e++)pw[n++]=r;for(pw[n-1]=r,i=0,r=0;r<16;r++)for(gw[r]=i,e=0;e<1<<lw[r];e++)fw[i++]=r;for(i>>=7;r<sw;r++)for(gw[r]=i<<7,e=0;e<1<<lw[r]-7;e++)fw[256+i++]=r;for(t=0;t<=aw;t++)s[t]=0;for(e=0;e<=143;)dw[2*e+1]=8,e++,s[8]++;for(;e<=255;)dw[2*e+1]=9,e++,s[9]++;for(;e<=279;)dw[2*e+1]=7,e++,s[7]++;for(;e<=287;)dw[2*e+1]=8,e++,s[8]++;for(Aw(dw,287,s),e=0;e<sw;e++)hw[2*e+1]=5,hw[2*e]=jw(e,5);vw=new yw(dw,ow,257,iw,aw),bw=new yw(hw,lw,0,sw,aw),xw=new yw(new Array(0),cw,0,19,7)})(),Ow=!0),e.l_desc=new ww(e.dyn_ltree,vw),e.d_desc=new ww(e.dyn_dtree,bw),e.bl_desc=new ww(e.bl_tree,xw),e.bi_buf=0,e.bi_valid=0,Ew(e)},Uw=(e,t,n,r)=>{let i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<rw;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Pw(e,e.l_desc),Pw(e,e.d_desc),a=(e=>{let t;for(Rw(e,e.dyn_ltree,e.l_desc.max_code),Rw(e,e.dyn_dtree,e.d_desc.max_code),Pw(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*uw[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?Fw(e,t,n,r):4===e.strategy||s===i?(kw(e,2+(r?1:0),3),Tw(e,dw,hw)):(kw(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(kw(e,t-257,5),kw(e,n-1,5),kw(e,r-4,4),i=0;i<r;i++)kw(e,e.bl_tree[2*uw[i]+1],3);Dw(e,e.dyn_ltree,t-1),Dw(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Tw(e,e.dyn_ltree,e.dyn_dtree)),Ew(e),r&&Cw(e)},Bw=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(pw[n]+rw+1)]++,e.dyn_dtree[2*Nw(t)]++),e.sym_next===e.sym_end),zw=e=>{kw(e,2,3),Sw(e,256,dw),(e=>{16===e.bi_valid?(_w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},qw={_tr_init:Mw,_tr_stored_block:Fw,_tr_flush_block:Uw,_tr_tally:Bw,_tr_align:zw};var Vw=(e,t,n,r)=>{let i=65535&e,s=e>>>16&65535,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,s=s+i|0}while(--a);i%=65521,s%=65521}return i|s<<16};const Hw=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Ww=(e,t,n,r)=>{const i=Hw,s=r+n;e^=-1;for(let a=r;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},Gw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Kw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Yw,_tr_stored_block:Qw,_tr_flush_block:Jw,_tr_tally:Xw,_tr_align:$w}=qw,{Z_NO_FLUSH:Zw,Z_PARTIAL_FLUSH:eN,Z_FULL_FLUSH:tN,Z_FINISH:nN,Z_BLOCK:rN,Z_OK:iN,Z_STREAM_END:sN,Z_STREAM_ERROR:aN,Z_DATA_ERROR:oN,Z_BUF_ERROR:lN,Z_DEFAULT_COMPRESSION:cN,Z_FILTERED:uN,Z_HUFFMAN_ONLY:dN,Z_RLE:hN,Z_FIXED:fN,Z_DEFAULT_STRATEGY:pN,Z_UNKNOWN:mN,Z_DEFLATED:gN}=Kw,yN=258,vN=262,bN=42,xN=113,wN=666,NN=(e,t)=>(e.msg=Gw[t],t),_N=e=>2*e-(e>4?9:0),kN=e=>{let t=e.length;for(;--t>=0;)e[t]=0},SN=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)};let jN=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const AN=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},EN=(e,t)=>{Jw(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,AN(e.strm)},CN=(e,t)=>{e.pending_buf[e.pending++]=t},LN=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},IN=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=Vw(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Ww(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},TN=(e,t)=>{let n,r,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-vN?e.strstart-(e.w_size-vN):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+yN;let f=c[s+a-1],p=c[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,c[n+a]===p&&c[n+a-1]===f&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<h);if(r=yN-(h-s),s=h-yN,r>a){if(e.match_start=t,a=r,r>=o)break;f=c[s+a-1],p=c[s+a]}}}while((t=d[t&u])>l&&0!==--i);return a<=e.lookahead?a:e.lookahead},PN=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-vN)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),SN(e),r+=t),0===e.strm.avail_in)break;if(n=IN(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=jN(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=jN(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<vN&&0!==e.strm.avail_in)},RN=(e,t)=>{let n,r,i,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<s&&(0===n&&t!==nN||t===Zw||n!==r+e.strm.avail_in))break;a=t===nN&&n===r+e.strm.avail_in?1:0,Qw(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,AN(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(IN(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==Zw&&t!==nN&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(IN(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,s=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=s||(r||t===nN)&&t!==Zw&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===nN&&0===e.strm.avail_in&&n===r?1:0,Qw(e,e.block_start,n,a),e.block_start+=n,AN(e.strm)),a?3:1)},DN=(e,t)=>{let n,r;for(;;){if(e.lookahead<vN){if(PN(e),e.lookahead<vN&&t===Zw)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=jN(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-vN&&(e.match_length=TN(e,n)),e.match_length>=3)if(r=Xw(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=jN(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=jN(e,e.ins_h,e.window[e.strstart+1]);else r=Xw(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(EN(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===nN?(EN(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(EN(e,!1),0===e.strm.avail_out)?1:2},ON=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<vN){if(PN(e),e.lookahead<vN&&t===Zw)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=jN(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-vN&&(e.match_length=TN(e,n),e.match_length<=5&&(e.strategy===uN||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=Xw(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=jN(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(EN(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Xw(e,0,e.window[e.strstart-1]),r&&EN(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Xw(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===nN?(EN(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(EN(e,!1),0===e.strm.avail_out)?1:2};function FN(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const MN=[new FN(0,0,0,0,RN),new FN(4,4,8,4,DN),new FN(4,5,16,8,DN),new FN(4,6,32,32,DN),new FN(4,4,16,16,ON),new FN(8,16,32,32,ON),new FN(8,16,128,128,ON),new FN(8,32,128,256,ON),new FN(32,128,258,1024,ON),new FN(32,258,258,4096,ON)];function UN(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=gN,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),kN(this.dyn_ltree),kN(this.dyn_dtree),kN(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),kN(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),kN(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const BN=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==bN&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==xN&&t.status!==wN?1:0},zN=e=>{if(BN(e))return NN(e,aN);e.total_in=e.total_out=0,e.data_type=mN;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?bN:xN,e.adler=2===t.wrap?0:1,t.last_flush=-2,Yw(t),iN},qN=e=>{const t=zN(e);return t===iN&&(e=>{e.window_size=2*e.w_size,kN(e.head),e.max_lazy_match=MN[e.level].max_lazy,e.good_match=MN[e.level].good_length,e.nice_match=MN[e.level].nice_length,e.max_chain_length=MN[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},VN=(e,t,n,r,i,s)=>{if(!e)return aN;let a=1;if(t===cN&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==gN||r<8||r>15||t<0||t>9||s<0||s>fN||8===r&&1!==a)return NN(e,aN);8===r&&(r=9);const o=new UN;return e.state=o,o.strm=e,o.status=bN,o.wrap=a,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=s,o.method=n,qN(e)};var HN=(e,t)=>{if(BN(e)||t>rN||t<0)return e?NN(e,aN):aN;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===wN&&t!==nN)return NN(e,0===e.avail_out?lN:aN);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(AN(e),0===e.avail_out)return n.last_flush=-1,iN}else if(0===e.avail_in&&_N(t)<=_N(r)&&t!==nN)return NN(e,lN);if(n.status===wN&&0!==e.avail_in)return NN(e,lN);if(n.status===bN&&0===n.wrap&&(n.status=xN),n.status===bN){let t=gN+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=dN||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,LN(n,t),0!==n.strstart&&(LN(n,e.adler>>>16),LN(n,65535&e.adler)),e.adler=1,n.status=xN,AN(e),0!==n.pending)return n.last_flush=-1,iN}if(57===n.status)if(e.adler=0,CN(n,31),CN(n,139),CN(n,8),n.gzhead)CN(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),CN(n,255&n.gzhead.time),CN(n,n.gzhead.time>>8&255),CN(n,n.gzhead.time>>16&255),CN(n,n.gzhead.time>>24&255),CN(n,9===n.level?2:n.strategy>=dN||n.level<2?4:0),CN(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(CN(n,255&n.gzhead.extra.length),CN(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ww(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(CN(n,0),CN(n,0),CN(n,0),CN(n,0),CN(n,0),CN(n,9===n.level?2:n.strategy>=dN||n.level<2?4:0),CN(n,3),n.status=xN,AN(e),0!==n.pending)return n.last_flush=-1,iN;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=Ww(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,AN(e),0!==n.pending)return n.last_flush=-1,iN;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=Ww(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Ww(e.adler,n.pending_buf,n.pending-r,r)),AN(e),0!==n.pending)return n.last_flush=-1,iN;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,CN(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Ww(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Ww(e.adler,n.pending_buf,n.pending-r,r)),AN(e),0!==n.pending)return n.last_flush=-1,iN;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,CN(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Ww(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(AN(e),0!==n.pending))return n.last_flush=-1,iN;CN(n,255&e.adler),CN(n,e.adler>>8&255),e.adler=0}if(n.status=xN,AN(e),0!==n.pending)return n.last_flush=-1,iN}if(0!==e.avail_in||0!==n.lookahead||t!==Zw&&n.status!==wN){let r=0===n.level?RN(n,t):n.strategy===dN?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(PN(e),0===e.lookahead)){if(t===Zw)return 1;break}if(e.match_length=0,n=Xw(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(EN(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===nN?(EN(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(EN(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===hN?((e,t)=>{let n,r,i,s;const a=e.window;for(;;){if(e.lookahead<=yN){if(PN(e),e.lookahead<=yN&&t===Zw)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){s=e.strstart+yN;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=yN-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Xw(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Xw(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(EN(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===nN?(EN(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(EN(e,!1),0===e.strm.avail_out)?1:2})(n,t):MN[n.level].func(n,t);if(3!==r&&4!==r||(n.status=wN),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),iN;if(2===r&&(t===eN?$w(n):t!==rN&&(Qw(n,0,0,!1),t===tN&&(kN(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),AN(e),0===e.avail_out))return n.last_flush=-1,iN}return t!==nN?iN:n.wrap<=0?sN:(2===n.wrap?(CN(n,255&e.adler),CN(n,e.adler>>8&255),CN(n,e.adler>>16&255),CN(n,e.adler>>24&255),CN(n,255&e.total_in),CN(n,e.total_in>>8&255),CN(n,e.total_in>>16&255),CN(n,e.total_in>>24&255)):(LN(n,e.adler>>>16),LN(n,65535&e.adler)),AN(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?iN:sN)},WN=(e,t)=>{let n=t.length;if(BN(e))return aN;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==bN||r.lookahead)return aN;if(1===i&&(e.adler=Vw(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(kN(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,PN(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=jN(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,PN(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,r.wrap=i,iN},GN={deflateInit:(e,t)=>VN(e,t,gN,15,8,pN),deflateInit2:VN,deflateReset:qN,deflateResetKeep:zN,deflateSetHeader:(e,t)=>BN(e)||2!==e.state.wrap?aN:(e.state.gzhead=t,iN),deflate:HN,deflateEnd:e=>{if(BN(e))return aN;const t=e.state.status;return e.state=null,t===xN?NN(e,oN):iN},deflateSetDictionary:WN,deflateInfo:"pako deflate (from Nodeca project)"};const KN=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var YN=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)KN(n,t)&&(e[t]=n[t])}}return e},QN=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let t=e[r];n.set(t,i),i+=t.length}return n};let JN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(dE){JN=!1}const XN=new Uint8Array(256);for(let hE=0;hE<256;hE++)XN[hE]=hE>=252?6:hE>=248?5:hE>=240?4:hE>=224?3:hE>=192?2:1;XN[254]=XN[254]=1;var $N=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,s,a=e.length,o=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},ZN=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const s=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){s[i++]=t;continue}let a=XN[t];if(a>4)s[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?s[i++]=65533:t<65536?s[i++]=t:(t-=65536,s[i++]=55296|t>>10&1023,s[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&JN)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(s,i)},e_=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+XN[e[n]]>t?n:t};var t_=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const n_=Object.prototype.toString,{Z_NO_FLUSH:r_,Z_SYNC_FLUSH:i_,Z_FULL_FLUSH:s_,Z_FINISH:a_,Z_OK:o_,Z_STREAM_END:l_,Z_DEFAULT_COMPRESSION:c_,Z_DEFAULT_STRATEGY:u_,Z_DEFLATED:d_}=Kw;function h_(e){this.options=YN({level:c_,method:d_,chunkSize:16384,windowBits:15,memLevel:8,strategy:u_},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t_,this.strm.avail_out=0;let n=GN.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==o_)throw new Error(Gw[n]);if(t.header&&GN.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?$N(t.dictionary):"[object ArrayBuffer]"===n_.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=GN.deflateSetDictionary(this.strm,e),n!==o_)throw new Error(Gw[n]);this._dict_set=!0}}function f_(e,t){const n=new h_(t);if(n.push(e,!0),n.err)throw n.msg||Gw[n.err];return n.result}h_.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?a_:r_,"string"===typeof e?n.input=$N(e):"[object ArrayBuffer]"===n_.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===i_||s===s_)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=GN.deflate(n,s),i===l_)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=GN.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o_;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},h_.prototype.onData=function(e){this.chunks.push(e)},h_.prototype.onEnd=function(e){e===o_&&(this.result=QN(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var p_={Deflate:h_,deflate:f_,deflateRaw:function(e,t){return(t=t||{}).raw=!0,f_(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,f_(e,t)},constants:Kw};const m_=16209;var g_=function(e,t){let n,r,i,s,a,o,l,c,u,d,h,f,p,m,g,y,v,b,x,w,N,_,k,S;const j=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),i=e.next_out,S=e.output,s=i-(t-e.avail_out),a=i+(e.avail_out-257),o=j.dmax,l=j.wsize,c=j.whave,u=j.wnext,d=j.window,h=j.hold,f=j.bits,p=j.lencode,m=j.distcode,g=(1<<j.lenbits)-1,y=(1<<j.distbits)-1;e:do{f<15&&(h+=k[n++]<<f,f+=8,h+=k[n++]<<f,f+=8),v=p[h&g];t:for(;;){if(b=v>>>24,h>>>=b,f-=b,b=v>>>16&255,0===b)S[i++]=65535&v;else{if(!(16&b)){if(0===(64&b)){v=p[(65535&v)+(h&(1<<b)-1)];continue t}if(32&b){j.mode=16191;break e}e.msg="invalid literal/length code",j.mode=m_;break e}x=65535&v,b&=15,b&&(f<b&&(h+=k[n++]<<f,f+=8),x+=h&(1<<b)-1,h>>>=b,f-=b),f<15&&(h+=k[n++]<<f,f+=8,h+=k[n++]<<f,f+=8),v=m[h&y];n:for(;;){if(b=v>>>24,h>>>=b,f-=b,b=v>>>16&255,!(16&b)){if(0===(64&b)){v=m[(65535&v)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",j.mode=m_;break e}if(w=65535&v,b&=15,f<b&&(h+=k[n++]<<f,f+=8,f<b&&(h+=k[n++]<<f,f+=8)),w+=h&(1<<b)-1,w>o){e.msg="invalid distance too far back",j.mode=m_;break e}if(h>>>=b,f-=b,b=i-s,w>b){if(b=w-b,b>c&&j.sane){e.msg="invalid distance too far back",j.mode=m_;break e}if(N=0,_=d,0===u){if(N+=l-b,b<x){x-=b;do{S[i++]=d[N++]}while(--b);N=i-w,_=S}}else if(u<b){if(N+=l+u-b,b-=u,b<x){x-=b;do{S[i++]=d[N++]}while(--b);if(N=0,u<x){b=u,x-=b;do{S[i++]=d[N++]}while(--b);N=i-w,_=S}}}else if(N+=u-b,b<x){x-=b;do{S[i++]=d[N++]}while(--b);N=i-w,_=S}for(;x>2;)S[i++]=_[N++],S[i++]=_[N++],S[i++]=_[N++],x-=3;x&&(S[i++]=_[N++],x>1&&(S[i++]=_[N++]))}else{N=i-w;do{S[i++]=S[N++],S[i++]=S[N++],S[i++]=S[N++],x-=3}while(x>2);x&&(S[i++]=S[N++],x>1&&(S[i++]=S[N++]))}break}}break}}while(n<r&&i<a);x=f>>3,n-=x,f-=x<<3,h&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),j.hold=h,j.bits=f};const y_=15,v_=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),b_=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),x_=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),w_=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var N_=(e,t,n,r,i,s,a,o)=>{const l=o.bits;let c,u,d,h,f,p,m=0,g=0,y=0,v=0,b=0,x=0,w=0,N=0,_=0,k=0,S=null;const j=new Uint16Array(16),A=new Uint16Array(16);let E,C,L,I=null;for(m=0;m<=y_;m++)j[m]=0;for(g=0;g<r;g++)j[t[n+g]]++;for(b=l,v=y_;v>=1&&0===j[v];v--);if(b>v&&(b=v),0===v)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<v&&0===j[y];y++);for(b<y&&(b=y),N=1,m=1;m<=y_;m++)if(N<<=1,N-=j[m],N<0)return-1;if(N>0&&(0===e||1!==v))return-1;for(A[1]=0,m=1;m<y_;m++)A[m+1]=A[m]+j[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[A[t[n+g]]++]=g);if(0===e?(S=I=a,p=20):1===e?(S=v_,I=b_,p=257):(S=x_,I=w_,p=0),k=0,g=0,m=y,f=s,x=b,w=0,d=-1,_=1<<b,h=_-1,1===e&&_>852||2===e&&_>592)return 1;for(;;){E=m-w,a[g]+1<p?(C=0,L=a[g]):a[g]>=p?(C=I[a[g]-p],L=S[a[g]-p]):(C=96,L=0),c=1<<m-w,u=1<<x,y=u;do{u-=c,i[f+(k>>w)+u]=E<<24|C<<16|L}while(0!==u);for(c=1<<m-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0===--j[m]){if(m===v)break;m=t[n+a[g]]}if(m>b&&(k&h)!==d){for(0===w&&(w=b),f+=y,x=m-w,N=1<<x;x+w<v&&(N-=j[x+w],!(N<=0));)x++,N<<=1;if(_+=1<<x,1===e&&_>852||2===e&&_>592)return 1;d=k&h,i[d]=b<<24|x<<16|f-s}}return 0!==k&&(i[f+k]=m-w<<24|64<<16),o.bits=b,0};const{Z_FINISH:__,Z_BLOCK:k_,Z_TREES:S_,Z_OK:j_,Z_STREAM_END:A_,Z_NEED_DICT:E_,Z_STREAM_ERROR:C_,Z_DATA_ERROR:L_,Z_MEM_ERROR:I_,Z_BUF_ERROR:T_,Z_DEFLATED:P_}=Kw,R_=16180,D_=16190,O_=16191,F_=16192,M_=16194,U_=16199,B_=16200,z_=16206,q_=16209,V_=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function H_(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const W_=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<R_||t.mode>16211?1:0},G_=e=>{if(W_(e))return C_;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=R_,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,j_},K_=e=>{if(W_(e))return C_;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,G_(e)},Y_=(e,t)=>{let n;if(W_(e))return C_;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?C_:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,K_(e))},Q_=(e,t)=>{if(!e)return C_;const n=new H_;e.state=n,n.strm=e,n.window=null,n.mode=R_;const r=Y_(e,t);return r!==j_&&(e.state=null),r};let J_,X_,$_=!0;const Z_=e=>{if($_){J_=new Int32Array(512),X_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(N_(1,e.lens,0,288,J_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;N_(2,e.lens,0,32,X_,0,e.work,{bits:5}),$_=!1}e.lencode=J_,e.lenbits=9,e.distcode=X_,e.distbits=5},ek=(e,t,n,r)=>{let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),(r-=i)?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var tk=(e,t)=>{let n,r,i,s,a,o,l,c,u,d,h,f,p,m,g,y,v,b,x,w,N,_,k=0;const S=new Uint8Array(4);let j,A;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(W_(e)||!e.output||!e.input&&0!==e.avail_in)return C_;n=e.state,n.mode===O_&&(n.mode=F_),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,u=n.bits,d=o,h=l,_=j_;e:for(;;)switch(n.mode){case R_:if(0===n.wrap){n.mode=F_;break}for(;u<16;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&c,S[1]=c>>>8&255,n.check=Ww(n.check,S,2,0),c=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=q_;break}if((15&c)!==P_){e.msg="unknown compression method",n.mode=q_;break}if(c>>>=4,u-=4,N=8+(15&c),0===n.wbits&&(n.wbits=N),N>15||N>n.wbits){e.msg="invalid window size",n.mode=q_;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:O_,c=0,u=0;break;case 16181:for(;u<16;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==P_){e.msg="unknown compression method",n.mode=q_;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=q_;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=Ww(n.check,S,2,0)),c=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=Ww(n.check,S,4,0)),c=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=Ww(n.check,S,2,0)),c=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=Ww(n.check,S,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>o&&(f=o),f&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),N)),512&n.flags&&4&n.wrap&&(n.check=Ww(n.check,r,f,s)),o-=f,s+=f,n.length-=f),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;f=0;do{N=r[s+f++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N))}while(N&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=Ww(n.check,r,f,s)),o-=f,s+=f,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;f=0;do{N=r[s+f++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N))}while(N&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=Ww(n.check,r,f,s)),o-=f,s+=f,N)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=q_;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=O_;break;case 16189:for(;u<32;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}e.adler=n.check=V_(c),c=0,u=0,n.mode=D_;case D_:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=u,E_;e.adler=n.check=1,n.mode=O_;case O_:if(t===k_||t===S_)break e;case F_:if(n.last){c>>>=7&u,u-=7&u,n.mode=z_;break}for(;u<3;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=16193;break;case 1:if(Z_(n),n.mode=U_,t===S_){c>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=q_}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=q_;break}if(n.length=65535&c,c=0,u=0,n.mode=M_,t===S_)break e;case M_:n.mode=16195;case 16195:if(f=n.length,f){if(f>o&&(f=o),f>l&&(f=l),0===f)break e;i.set(r.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,n.length-=f;break}n.mode=O_;break;case 16196:for(;u<14;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=q_;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}n.lens[E[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},_=N_(0,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,_){e.msg="invalid code lengths set",n.mode=q_;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,y=k>>>16&255,v=65535&k,!(g<=u);){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if(v<16)c>>>=g,u-=g,n.lens[n.have++]=v;else{if(16===v){for(A=g+2;u<A;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=q_;break}N=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===v){for(A=g+3;u<A;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,N=0,f=3+(7&c),c>>>=3,u-=3}else{for(A=g+7;u<A;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,N=0,f=11+(127&c),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=q_;break}for(;f--;)n.lens[n.have++]=N}}if(n.mode===q_)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=q_;break}if(n.lenbits=9,j={bits:n.lenbits},_=N_(1,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,_){e.msg="invalid literal/lengths set",n.mode=q_;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},_=N_(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,_){e.msg="invalid distances set",n.mode=q_;break}if(n.mode=U_,t===S_)break e;case U_:n.mode=B_;case B_:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=u,g_(e,h),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,u=n.bits,n.mode===O_&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,y=k>>>16&255,v=65535&k,!(g<=u);){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if(y&&0===(240&y)){for(b=g,x=y,w=v;k=n.lencode[w+((c&(1<<b+x)-1)>>b)],g=k>>>24,y=k>>>16&255,v=65535&k,!(b+g<=u);){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=g,u-=g,n.back+=g,n.length=v,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=O_;break}if(64&y){e.msg="invalid literal/length code",n.mode=q_;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(A=n.extra;u<A;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;k=n.distcode[c&(1<<n.distbits)-1],g=k>>>24,y=k>>>16&255,v=65535&k,!(g<=u);){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if(0===(240&y)){for(b=g,x=y,w=v;k=n.distcode[w+((c&(1<<b+x)-1)>>b)],g=k>>>24,y=k>>>16&255,v=65535&k,!(b+g<=u);){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=g,u-=g,n.back+=g,64&y){e.msg="invalid distance code",n.mode=q_;break}n.offset=v,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(A=n.extra;u<A;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=q_;break}n.mode=16204;case 16204:if(0===l)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=q_;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=a-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{i[a++]=m[p++]}while(--f);0===n.length&&(n.mode=B_);break;case 16205:if(0===l)break e;i[a++]=n.length,l--,n.mode=B_;break;case z_:if(n.wrap){for(;u<32;){if(0===o)break e;o--,c|=r[s++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?Ww(n.check,i,h,a-h):Vw(n.check,i,h,a-h)),h=l,4&n.wrap&&(n.flags?c:V_(c))!==n.check){e.msg="incorrect data check",n.mode=q_;break}c=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===o)break e;o--,c+=r[s++]<<u,u+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=q_;break}c=0,u=0}n.mode=16208;case 16208:_=A_;break e;case q_:_=L_;break e;case 16210:return I_;default:return C_}return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<q_&&(n.mode<z_||t!==__))&&ek(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?Ww(n.check,i,h,e.next_out-h):Vw(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===O_?128:0)+(n.mode===U_||n.mode===M_?256:0),(0===d&&0===h||t===__)&&_===j_&&(_=T_),_},nk={inflateReset:K_,inflateReset2:Y_,inflateResetKeep:G_,inflateInit:e=>Q_(e,15),inflateInit2:Q_,inflate:tk,inflateEnd:e=>{if(W_(e))return C_;let t=e.state;return t.window&&(t.window=null),e.state=null,j_},inflateGetHeader:(e,t)=>{if(W_(e))return C_;const n=e.state;return 0===(2&n.wrap)?C_:(n.head=t,t.done=!1,j_)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,s;return W_(e)?C_:(r=e.state,0!==r.wrap&&r.mode!==D_?C_:r.mode===D_&&(i=1,i=Vw(i,t,n,0),i!==r.check)?L_:(s=ek(e,t,n,n),s?(r.mode=16210,I_):(r.havedict=1,j_)))},inflateInfo:"pako inflate (from Nodeca project)"};var rk=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ik=Object.prototype.toString,{Z_NO_FLUSH:sk,Z_FINISH:ak,Z_OK:ok,Z_STREAM_END:lk,Z_NEED_DICT:ck,Z_STREAM_ERROR:uk,Z_DATA_ERROR:dk,Z_MEM_ERROR:hk}=Kw;function fk(e){this.options=YN({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t_,this.strm.avail_out=0;let n=nk.inflateInit2(this.strm,t.windowBits);if(n!==ok)throw new Error(Gw[n]);if(this.header=new rk,nk.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=$N(t.dictionary):"[object ArrayBuffer]"===ik.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=nk.inflateSetDictionary(this.strm,t.dictionary),n!==ok)))throw new Error(Gw[n])}function pk(e,t){const n=new fk(t);if(n.push(e),n.err)throw n.msg||Gw[n.err];return n.result}fk.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(a=t===~~t?t:!0===t?ak:sk,"[object ArrayBuffer]"===ik.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=nk.inflate(n,a),s===ck&&i&&(s=nk.inflateSetDictionary(n,i),s===ok?s=nk.inflate(n,a):s===dk&&(s=ck));n.avail_in>0&&s===lk&&n.state.wrap>0&&0!==e[n.next_in];)nk.inflateReset(n),s=nk.inflate(n,a);switch(s){case uk:case dk:case ck:case hk:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||s===lk))if("string"===this.options.to){let e=e_(n.output,n.next_out),t=n.next_out-e,i=ZN(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==ok||0!==o){if(s===lk)return s=nk.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},fk.prototype.onData=function(e){this.chunks.push(e)},fk.prototype.onEnd=function(e){e===ok&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=QN(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var mk={Inflate:fk,inflate:pk,inflateRaw:function(e,t){return(t=t||{}).raw=!0,pk(e,t)},ungzip:pk,constants:Kw};const{Deflate:gk,deflate:yk,deflateRaw:vk,gzip:bk}=p_,{Inflate:xk,inflate:wk,inflateRaw:Nk,ungzip:_k}=mk;var kk=xk,Sk=wk;const jk=[];for(let hE=0;hE<256;hE++){let e=hE;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;jk[hE]=e}const Ak=4294967295;function Ek(e,t){return(function(e,t,n){let r=e;for(let i=0;i<n;i++)r=jk[255&(r^t[i])]^r>>>8;return r}(Ak,e,t)^Ak)>>>0}function Ck(e,t,n){const r=e.readUint32(),i=Ek(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(r,", found ").concat(i))}function Lk(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function Ik(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function Tk(e,t,n,r){let i=0;if(0===n.length)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function Pk(e,t,n,r,i){let s=0;if(0===n.length){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-i]+n[s]>>1)&255}}function Rk(e,t,n,r,i){let s=0;if(0===n.length){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+Dk(t[s-i],n[s],n[s-i])&255}}function Dk(e,t,n){const r=e+t-n,i=Math.abs(r-e),s=Math.abs(r-t),a=Math.abs(r-n);return i<=s&&i<=a?e:s<=a?t:n}function Ok(e,t,n,r,i,s){switch(e){case 0:Lk(t,n,i);break;case 1:Ik(t,n,i,s);break;case 2:Tk(t,n,r,i);break;case 3:Pk(t,n,r,i,s);break;case 4:Rk(t,n,r,i,s);break;default:throw new Error("Unsupported filter: ".concat(e))}}const Fk=new Uint16Array([255]),Mk=255===new Uint8Array(Fk.buffer)[0];function Uk(e){return(255&e)<<8|e>>8&255}const Bk=new Uint16Array([255]),zk=255===new Uint8Array(Bk.buffer)[0],qk=new Uint8Array(0);function Vk(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let c,u,d=qk,h=0;for(let f=0;f<r;f++){switch(c=t.subarray(h+1,h+1+o),u=l.subarray(f*o,(f+1)*o),t[h]){case 0:Lk(c,u,o);break;case 1:Ik(c,u,o,a);break;case 2:Tk(c,u,d,o);break;case 3:Pk(c,u,d,o,a);break;case 4:Rk(c,u,d,o,a);break;default:throw new Error("Unsupported filter: ".concat(t[h]))}d=u,h+=o+1}if(16===s){const e=new Uint16Array(l.buffer);if(zk)for(let t=0;t<e.length;t++)e[t]=Hk(e[t]);return e}return l}function Hk(e){return(255&e)<<8|e>>8&255}const Wk=Uint8Array.of(137,80,78,71,13,10,26,10);function Gk(e){if(!function(e){if(e.length<Wk.length)return!1;for(let t=0;t<Wk.length;t++)if(e[t]!==Wk[t])return!1;return!0}(e.readBytes(Wk.length)))throw new Error("wrong PNG signature")}const Kk="tEXt",Yk=new TextDecoder("latin1");function Qk(e){if(Xk(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Jk=/^[\u0000-\u00FF]*$/;function Xk(e){if(!Jk.test(e))throw new Error("invalid latin1 text")}function $k(e,t,n){const r=Zk(t);e[r]=function(e,t){return Yk.decode(e.readBytes(t))}(t,n-r.length-1)}function Zk(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=Yk.decode(e.readBytes(t-e.offset-1));return e.skip(1),Qk(n),n}const eS=-1,tS=0,nS=2,rS=3,iS=4,sS=6,aS=-1,oS=0,lS=-1,cS=0,uS=-1,dS=0,hS=1,fS=0,pS=1,mS=2,gS=0,yS=1;class vS extends tw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,a.A)(this,"_checkCrc",void 0),(0,a.A)(this,"_inflator",void 0),(0,a.A)(this,"_png",void 0),(0,a.A)(this,"_apng",void 0),(0,a.A)(this,"_end",void 0),(0,a.A)(this,"_hasPalette",void 0),(0,a.A)(this,"_palette",void 0),(0,a.A)(this,"_hasTransparency",void 0),(0,a.A)(this,"_transparency",void 0),(0,a.A)(this,"_compressionMethod",void 0),(0,a.A)(this,"_filterMethod",void 0),(0,a.A)(this,"_interlaceMethod",void 0),(0,a.A)(this,"_colorType",void 0),(0,a.A)(this,"_isAnimated",void 0),(0,a.A)(this,"_numberOfFrames",void 0),(0,a.A)(this,"_numberOfPlays",void 0),(0,a.A)(this,"_frames",void 0),(0,a.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new kk,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=aS,this._filterMethod=lS,this._interlaceMethod=uS,this._colorType=eS,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Gk(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Gk(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Kk:$k(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?Ck(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?Ck(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case tS:n=1;break;case nS:n=3;break;case rS:n=1;break;case iS:n=2;break;case sS:n=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==oS)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case tS:case nS:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case rS:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=Zk(this),n=this.readUint8();if(n!==oS)throw new Error("Unsupported iCCP compression method: ".concat(n));const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Sk(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Vk({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case fS:break;case pS:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const i=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[i+e]=0}break;case mS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case gS:for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){const{index:s,frameIndex:a}=r(n,i);for(let n=0;n<this._png.channels;n++)e.data[s+n]=t.data[a+n]}break;case yS:for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:o}=r(i,s);for(let r=0;r<this._png.channels;r++){const i=t.data[o+this._png.channels-1]/n,s=r%(this._png.channels-1)===0?1:t.data[o+r],l=Math.floor(i*s+(1-i)*e.data[a+r]);e.data[a+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==cS)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===dS)this._png.data=Vk({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==hS)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const e=a[u],i=Math.ceil((n-e.x)/e.xStep),s=Math.ceil((r-e.y)/e.yStep);if(i<=0||s<=0)continue;const d=i*o,h=new Uint8Array(d);for(let a=0;a<s;a++){const s=t[c++],u=t.subarray(c,c+d);c+=d;const f=new Uint8Array(d);Ok(s,u,f,h,d,o),h.set(f);for(let t=0;t<i;t++){const i=e.x+t*e.xStep,s=e.y+a*e.yStep;if(!(i>=n||s>=r))for(let e=0;e<o;e++)l[(s*n+i)*o+e]=f[t*o+e]}}}if(16===s){const e=new Uint16Array(l.buffer);if(Mk)for(let t=0;t<e.length;t++)e[t]=Uk(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fS,blendOp:gS,data:e}),this._inflator=new kk,this._writingDataChunks=!1}}var bS;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(bS||(bS={}));var xS=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function wS(){xS.console&&"function"==typeof xS.console.log&&xS.console.log.apply(xS.console,arguments)}var NS={log:wS,warn:function(e){xS.console&&("function"==typeof xS.console.warn?xS.console.warn.apply(xS.console,arguments):wS.call(null,arguments))},error:function(e){xS.console&&("function"==typeof xS.console.error?xS.console.error.apply(xS.console,arguments):wS(e))}};function _S(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){jS(r.response,t,n)},r.onerror=function(){NS.error("could not download file")},r.send()}function kS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function SS(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var jS=xS.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,cx.A)(window))||window!==xS?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=xS.URL||xS.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?kS(i.href)?_S(e,t,n):SS(i,i.target="_blank"):SS(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){SS(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(kS(e))_S(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){SS(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,cx.A)(t)&&(NS.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return _S(e,t,n);var i="application/octet-stream"===e.type,s=/constructor/i.test(xS.HTMLElement)||xS.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,cx.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=xS.URL||xS.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function AS(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var ES=xS.atob.bind(xS),CS=xS.btoa.bind(xS);function LS(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=TS(n,r,i,s,t[0],7,-680876936),s=TS(s,n,r,i,t[1],12,-389564586),i=TS(i,s,n,r,t[2],17,606105819),r=TS(r,i,s,n,t[3],22,-1044525330),n=TS(n,r,i,s,t[4],7,-176418897),s=TS(s,n,r,i,t[5],12,1200080426),i=TS(i,s,n,r,t[6],17,-1473231341),r=TS(r,i,s,n,t[7],22,-45705983),n=TS(n,r,i,s,t[8],7,1770035416),s=TS(s,n,r,i,t[9],12,-1958414417),i=TS(i,s,n,r,t[10],17,-42063),r=TS(r,i,s,n,t[11],22,-1990404162),n=TS(n,r,i,s,t[12],7,1804603682),s=TS(s,n,r,i,t[13],12,-40341101),i=TS(i,s,n,r,t[14],17,-1502002290),n=PS(n,r=TS(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=PS(s,n,r,i,t[6],9,-1069501632),i=PS(i,s,n,r,t[11],14,643717713),r=PS(r,i,s,n,t[0],20,-373897302),n=PS(n,r,i,s,t[5],5,-701558691),s=PS(s,n,r,i,t[10],9,38016083),i=PS(i,s,n,r,t[15],14,-660478335),r=PS(r,i,s,n,t[4],20,-405537848),n=PS(n,r,i,s,t[9],5,568446438),s=PS(s,n,r,i,t[14],9,-1019803690),i=PS(i,s,n,r,t[3],14,-187363961),r=PS(r,i,s,n,t[8],20,1163531501),n=PS(n,r,i,s,t[13],5,-1444681467),s=PS(s,n,r,i,t[2],9,-51403784),i=PS(i,s,n,r,t[7],14,1735328473),n=RS(n,r=PS(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=RS(s,n,r,i,t[8],11,-2022574463),i=RS(i,s,n,r,t[11],16,1839030562),r=RS(r,i,s,n,t[14],23,-35309556),n=RS(n,r,i,s,t[1],4,-1530992060),s=RS(s,n,r,i,t[4],11,1272893353),i=RS(i,s,n,r,t[7],16,-155497632),r=RS(r,i,s,n,t[10],23,-1094730640),n=RS(n,r,i,s,t[13],4,681279174),s=RS(s,n,r,i,t[0],11,-358537222),i=RS(i,s,n,r,t[3],16,-722521979),r=RS(r,i,s,n,t[6],23,76029189),n=RS(n,r,i,s,t[9],4,-640364487),s=RS(s,n,r,i,t[12],11,-421815835),i=RS(i,s,n,r,t[15],16,530742520),n=DS(n,r=RS(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=DS(s,n,r,i,t[7],10,1126891415),i=DS(i,s,n,r,t[14],15,-1416354905),r=DS(r,i,s,n,t[5],21,-57434055),n=DS(n,r,i,s,t[12],6,1700485571),s=DS(s,n,r,i,t[3],10,-1894986606),i=DS(i,s,n,r,t[10],15,-1051523),r=DS(r,i,s,n,t[1],21,-2054922799),n=DS(n,r,i,s,t[8],6,1873313359),s=DS(s,n,r,i,t[15],10,-30611744),i=DS(i,s,n,r,t[6],15,-1560198380),r=DS(r,i,s,n,t[13],21,1309151649),n=DS(n,r,i,s,t[4],6,-145523070),s=DS(s,n,r,i,t[11],10,-1120210379),i=DS(i,s,n,r,t[2],15,718787259),r=DS(r,i,s,n,t[9],21,-343485551),e[0]=VS(n,e[0]),e[1]=VS(r,e[1]),e[2]=VS(i,e[2]),e[3]=VS(s,e[3])}function IS(e,t,n,r,i,s){return t=VS(VS(t,e),VS(r,s)),VS(t<<i|t>>>32-i,n)}function TS(e,t,n,r,i,s,a){return IS(t&n|~t&r,e,t,i,s,a)}function PS(e,t,n,r,i,s,a){return IS(t&r|n&~r,e,t,i,s,a)}function RS(e,t,n,r,i,s,a){return IS(t^n^r,e,t,i,s,a)}function DS(e,t,n,r,i,s,a){return IS(n^(t|~r),e,t,i,s,a)}function OS(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)LS(r,FS(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(LS(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,LS(r,i),r}function FS(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var MS="0123456789abcdef".split("");function US(e){for(var t="",n=0;n<4;n++)t+=MS[e>>8*n+4&15]+MS[e>>8*n&15];return t}function BS(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function zS(e){return OS(e).map(BS).join("")}var qS="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=US(e[t]);return e.join("")}(OS("hello"));function VS(e,t){if(qS){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function HS(e,t){var n,r,i,s;if(e!==n){for(var a=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=e,r=o}else o=r;var d=t.length,h=0,f=0,p="";for(l=0;l<d;l++)f=(f+(u=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=u,a=o[(o[h]+o[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^a);return p}var WS={print:4,modify:8,copy:16,"annot-forms":32};function GS(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(e){if(void 0!==WS.perm)throw new Error("Invalid permission: "+e);i+=WS[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=zS(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=HS(this.encryptionKey,this.padding)}function KS(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function YS(e){if("object"!==(0,cx.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var a=t[n][s];try{a[0].apply(e,r)}catch(SS){xS.console&&NS.error("jsPDF PubSub Error",SS.message,SS)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function QS(e){if(!(this instanceof QS))return new QS(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function JS(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function XS(e,t,n,r,i){if(!(this instanceof XS))return new XS(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,JS.call(this,r,i)}function $S(e,t,n,r,i){if(!(this instanceof $S))return new $S(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,JS.call(this,r,i)}function ZS(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;"object"===(0,cx.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(!0===s?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=YS;var p="1.3",m=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(e){p=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var y=f.__private__.getPageFormat=function(e){return g[e]};i=i||"a4";var v="compat",b="advanced",x=v;function w(){this.saveGraphicsState(),X(new Ie(he,0,0,-he,0,cn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",x=b}function N(){this.restoreGraphicsState(),c="S",x=v}var _=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=x===v;return t&&w.call(this),"function"!=typeof e||(e(this),t&&N.call(this)),this},f.compatAPI=function(e){var t=x===b;return t&&N.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},f.isAdvancedAPI=function(){return x===b};var k,S=function(e){if(x!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=f.roundToPrecision=f.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return j(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return j(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return j(e,16)};var A=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return j(e,2)},E=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return j(e,3)},C=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return x===v?e*he:x===b?e:void 0},L=function(e){return C(function(e){return x===v?cn()-e:x===b?e:void 0}(e))};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var I,T="00000000000000000000000000000000",P=f.__private__.getFileId=function(){return T},R=f.__private__.setFileId=function(e){return T=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():T.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(vt=new GS(u.userPermissions,u.userPassword,u.ownerPassword,T)),T};f.setFileId=function(e){return R(e),this},f.getFileId=function(){return P()};var D=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),s=[n,B(r),"'",B(i),"'"].join("");return["D:",e.getFullYear(),B(e.getMonth()+1),B(e.getDate()),B(e.getHours()),B(e.getMinutes()),B(e.getSeconds()),s].join("")},O=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,s,a,0)},F=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=D(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return I=t},M=f.__private__.getCreationDate=function(e){var t=I;return"jsDate"===e&&(t=O(I)),t};f.setCreationDate=function(e){return F(e),this},f.getCreationDate=function(e){return M(e)};var U,B=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},z=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,V=[],H=[],W=0,G=[],K=[],Y=!1,Q=H;f.__private__.setCustomOutputDestination=function(e){Y=!0,Q=e};var J=function(e){Y||(Q=e)};f.__private__.resetCustomOutputDestination=function(){Y=!1,Q=H};var X=f.__private__.out=function(e){return e=e.toString(),W+=e.length+1,Q.push(e),Q},$=f.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=f.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return te=x===b?e/he:e,this};var ne,re=f.__private__.getFontSize=f.getFontSize=function(){return x===v?te:te*he},ie=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return ie=e,this},f.__private__.getR2L=f.getR2L=function(){return ie};var se,ae=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};f.__private__.getZoomMode=function(){return ne};var oe,le=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');se=e};f.__private__.getPageMode=function(){return se};var ce=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};f.__private__.getLayoutMode=function(){return oe},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,n){return ae(e),ce(t),le(n),this};var ue={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ue[e]},f.__private__.getDocumentProperties=function(){return ue},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in ue)ue.hasOwnProperty(t)&&e[t]&&(ue[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ue[e]=t};var de,he,fe,pe,me,ge={},ye={},ve=[],be={},xe={},we={},Ne={},_e=null,ke=0,Se=[],je=new YS(f),Ae=e.hotfixes||[],Ee={},Ce={},Le=[],Ie=function e(t,n,r,i,s,a){if(!(this instanceof e))return new e(t,n,r,i,s,a);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(s)&&(s=0),isNaN(a)&&(a=0),this._matrix=[t,n,r,i,s,a]};Object.defineProperty(Ie.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ie.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ie.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ie.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ie.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Ie.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,a=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ie(t,n,r,i,s,a)},Ie.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,a=Math.sqrt(e*e+t*t),o=(e/=a)*n+(t/=a)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,a=-a),{scale:new Ie(a,0,0,l,0,0),translate:new Ie(1,0,0,1,i,s),rotate:new Ie(e,t,-t,e,0,0),skew:new Ie(1,0,o,1,0,0)}},Ie.prototype.toString=function(e){return this.join(" ")},Ie.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,a=1/(e*r-t*n),o=r*a,l=-t*a,c=-n*a,u=e*a;return new Ie(o,l,c,u,-o*i-c*s,-l*i-u*s)},Ie.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Ie.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Ie.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty;return new Ie(e,t,n,r,i,s)},f.Matrix=Ie;var Te=f.matrixMult=function(e,t){return t.multiply(e)},Pe=new Ie(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Pe;var Re=function(e,t){if(!xe[e]){var n=(t instanceof XS?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=n,xe[e]=n,be[n]=t,je.publish("addPattern",t)}};f.ShadingPattern=XS,f.TilingPattern=$S,f.addShadingPattern=function(e,t){return S("addShadingPattern()"),Re(e,t),this},f.beginTilingPattern=function(e){S("beginTilingPattern()"),sn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=K[U].join("\n"),Re(e,t),je.publish("endTilingPattern",t),Le.pop().restore()};var De,Oe=f.__private__.newObject=function(){var e=Fe();return Me(e,!0),e},Fe=f.__private__.newObjectDeferred=function(){return q++,V[q]=function(){return W},q},Me=function(e,t){return t="boolean"==typeof t&&t,V[e]=W,t&&X(e+" 0 obj"),e},Ue=f.__private__.newAdditionalObject=function(){var e={objId:Fe(),content:""};return G.push(e),e},Be=Fe(),ze=Fe(),qe=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},Ve=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,s=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new AS(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===s&&n===r&&r===i)t="string"==typeof n?n+" "+a[0]:2===e.precision?A(n/255)+" "+a[0]:E(n/255)+" "+a[0];else if(void 0===s||"object"===(0,cx.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",a[1]].join(" ");t="string"==typeof n?[n,r,i,a[1]].join(" "):2===e.precision?[A(n/255),A(r/255),A(i/255),a[1]].join(" "):[E(n/255),E(r/255),E(i/255),a[1]].join(" ")}else t="string"==typeof n?[n,r,i,s,a[2]].join(" "):2===e.precision?[A(n),A(r),A(i),A(s),a[2]].join(" "):[E(n),E(r),E(i),E(s),a[2]].join(" ");return t},He=f.__private__.getFilters=function(){return a},We=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||He(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,s=t.length,a=e.objectId,o=function(e){return e};if(null!==u&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(o=vt.encryptor(a,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],d=(l=void 0!==ZS.API.processDataByFilters?ZS.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:s})),0!=d.length)if(d.split("/").length-1==1)c.push({key:"Filter",value:d});else{c.push({key:"Filter",value:"["+d+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[h].value),c[h].value="["+f.join(" ")+"]"}}X("<<");for(var m=0;m<c.length;m++)X("/"+c[m].key+" "+c[m].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},Ge=f.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Me(r,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),je.publish("putPage",{objId:r,pageContext:Se[t],pageNumber:t,page:n}),X("/Contents "+i+" 0 R"),X(">>"),X("endobj");var s=n.join("\n");return x===b&&(s+="\nQ"),Me(i,!0),We({data:s,filters:He(),objectId:i}),X("endobj"),r},Ke=f.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ke;e++)Se[e].objId=Fe(),Se[e].contentsObjId=Fe();for(e=1;e<=ke;e++)n.push(Ge({number:e,data:K[e],objId:Se[e].objId,contentsObjId:Se[e].contentsObjId,mediaBox:Se[e].mediaBox,cropBox:Se[e].cropBox,bleedBox:Se[e].bleedBox,trimBox:Se[e].trimBox,artBox:Se[e].artBox,userUnit:Se[e].userUnit,rootDictionaryObjId:Be,resourceDictionaryObjId:ze}));Me(Be,!0),X("<</Type /Pages");var r="/Kids [";for(t=0;t<ke;t++)r+=n[t]+" 0 R ";X(r+"]"),X("/Count "+ke),X(">>"),X("endobj"),je.publish("postPutPages")},Ye=function(e){je.publish("putFont",{font:e,out:X,newObject:Oe,putStream:We}),!0!==e.isAlreadyPutted&&(e.objectNumber=Oe(),X("<<"),X("/Type /Font"),X("/BaseFont /"+KS(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Qe=function(e){e.objectNumber=Oe();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");We({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Je=function(e,t){t||(t=21);var n=Oe(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var u=e[l].offset,d=(n-u)/(e[l+1].offset-u),h=e[l].color,f=e[l+1].color;o+=z(Math.round((1-d)*h[0]+d*f[0]).toString(16))+z(Math.round((1-d)*h[1]+d*f[1]).toString(16))+z(Math.round((1-d)*h[2]+d*f[2]).toString(16))}return o.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=Oe(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var s="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?s+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):s+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),X(s+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var n=Fe(),r=Oe();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),i.push({key:"XStep",value:k(e.xStep)}),i.push({key:"YStep",value:k(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),We({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),X("endobj")},$e=function(e){for(var t in e.objectNumber=Oe(),X("<<"),e)switch(t){case"opacity":X("/ca "+A(e[t]));break;case"stroke-opacity":X("/CA "+A(e[t]))}X(">>"),X("endobj")},Ze=function(e){Me(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===d||!0===d&&h.hasOwnProperty(e))&&X("/"+e+" "+ge[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(be).length>0){for(var e in X("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof XS&&be[e].objectNumber>=0&&X("/"+e+" "+be[e].objectNumber+" 0 R");je.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(be).length>0){for(var t in X("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof f.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&X("/"+t+" "+be[t].objectNumber+" 0 R");je.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in X("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&X("/"+e+" "+we[e].objectNumber+" 0 R");je.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Ee)Ee.hasOwnProperty(e)&&Ee[e].objectNumber>=0&&X("/"+e+" "+Ee[e].objectNumber+" 0 R");je.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(e){ye[e.fontName]=ye[e.fontName]||{},ye[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,i){var s={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return je.publish("addFont",{font:s,instance:this}),ge[s.id]=s,et(s),s.id},nt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return function(e,t){var n,r,i,s,a,o,l,c,u;if(i=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&ge[de].metadata&&ge[de].metadata[i]&&ge[de].metadata[i].encoding&&(s=ge[de].metadata[i].encoding,!a&&ge[de].encoding&&(a=ge[de].encoding),!a&&s.codePages&&(a=s.codePages[0]),"string"==typeof a&&(a=s[a]),a)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=a[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((u=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(u),o.push(c-(u<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=f.__private__.beginPage=function(e){K[++ke]=[],Se[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},at(ke),J(K[U])},it=function(e,t){var r,s,a;switch(n=t||n,"string"==typeof e&&(r=y(e.toLowerCase()),Array.isArray(r)&&(s=r[0],a=r[1])),Array.isArray(e)&&(s=e[0]*he,a=e[1]*he),isNaN(s)&&(s=i[0],a=i[1]),(s>14400||a>14400)&&(NS.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),a=Math.min(14400,a)),i=[s,a],n.substr(0,1)){case"l":a>s&&(i=[a,s]);break;case"p":s>a&&(i=[a,s])}rt(i),Mt(Ot),X(Gt),0!==$t&&X($t+" J"),0!==Zt&&X(Zt+" j"),je.publish("addPage",{pageNumber:ke})},st=function(e){e>0&&e<=ke&&(K.splice(e,1),Se.splice(e,1),ke--,U>ke&&(U=ke),this.setPage(U))},at=function(e){e>0&&e<=ke&&(U=e)},ot=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return K.length-1},lt=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:ge[de].fontName,t=void 0!==t?t:ge[de].fontStyle,r=e.toLowerCase(),void 0!==ye[r]&&void 0!==ye[r][t]?i=ye[r][t]:void 0!==ye[e]&&void 0!==ye[e][t]?i=ye[e][t]:!1===n.disableWarning&&NS.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=ye.times[t])&&(i=ye.times.normal),i},ct=f.__private__.putInfo=function(){var e=Oe(),t=function(e){return e};for(var n in null!==u&&(t=vt.encryptor(e,0)),X("<<"),X("/Producer ("+nt(t("jsPDF "+ZS.version))+")"),ue)ue.hasOwnProperty(n)&&ue[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(ue[n]))+")");X("/CreationDate ("+nt(t(I))+")"),X(">>"),X("endobj")},ut=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Be;switch(Oe(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&X("/OpenAction [3 0 R /XYZ null null "+A(ne)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}se&&X("/PageMode /"+se),je.publish("putCatalog"),X(">>"),X("endobj")},dt=f.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(q+1)),X("/Root "+q+" 0 R"),X("/Info "+(q-1)+" 0 R"),null!==u&&X("/Encrypt "+vt.oid+" 0 R"),X("/ID [ <"+T+"> <"+T+"> ]"),X(">>")},ht=f.__private__.putHeader=function(){X("%PDF-"+p),X("%\xba\xdf\xac\xe0")},ft=f.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(q+1)),X("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof V[t]?X((e+V[t]()).slice(-10)+" 00000 n "):void 0!==V[t]?X((e+V[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},pt=f.__private__.buildDocument=function(){var e;q=0,W=0,H=[],V=[],G=[],Be=Fe(),ze=Fe(),J(H),je.publish("buildDocument"),ht(),Ke(),function(){je.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];Me(t.objId,!0),X(t.content),X("endobj")}je.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===d||!0===d&&h.hasOwnProperty(e))&&Ye(ge[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&$e(we[e])}(),function(){for(var e in Ee)Ee.hasOwnProperty(e)&&Qe(Ee[e])}(),function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof XS?Je(be[t]):be[t]instanceof $S&&Xe(be[t],e))}(e),je.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:ze,objectOid:Number.MAX_SAFE_INTEGER}),je.publish("postPutResources"),null!==u&&(vt.oid=Oe(),X("<<"),X("/Filter /Standard"),X("/V "+vt.v),X("/R "+vt.r),X("/U <"+vt.toHexString(vt.U)+">"),X("/O <"+vt.toHexString(vt.O)+">"),X("/P "+vt.P),X(">>"),X("endobj")),ct(),ut();var t=W;return ft(),dt(),X("startxref"),X(""+t),X("%%EOF"),J(K[U]),H.join("\n")},mt=f.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},gt=f.output=f.__private__.output=(De=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return pt();case"save":f.save(t.filename);break;case"arraybuffer":return Z(pt());case"blob":return mt(pt());case"bloburi":case"bloburl":if(void 0!==xS.URL&&"function"==typeof xS.URL.createObjectURL)return xS.URL&&xS.URL.createObjectURL(mt(pt()))||void 0;NS.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=pt();try{n=CS(r)}catch(u){n=CS(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(xS)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,s="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=xS.open();return null!==o&&o.document.write(a),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(xS)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=xS.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(xS))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',p=xS.open();if(null!==p&&(p.document.write(h),p.document.title=t.filename),p||"undefined"==typeof safari)return p;break;case"datauri":case"dataurl":return xS.document.location.href=this.output("datauristring",t);default:return null}},De.foo=function(){try{return De.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!xS.console)throw new Error(n);xS.console.error(n,t),xS.alert&&alert(n)}},De.foo.bar=De,De.foo),yt=function(e){return!0===Array.isArray(Ae)&&Ae.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==yt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var vt=null;F(),R();var bt=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[e].objId,pageNumber:e,pageContext:Se[e]}},xt=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Se)if(Se[t].objId===e)break;return bt(t)},wt=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Se[U].objId,pageNumber:U,pageContext:Se[U]}};f.addPage=function(){return it.apply(this,arguments),this},f.setPage=function(){return at.apply(this,arguments),J.call(this,K[U]),this},f.insertPage=function(e){return this.addPage(),this.movePage(U,e),this},f.movePage=function(e,t){var n,r;if(e>t){n=K[e],r=Se[e];for(var i=e;i>t;i--)K[i]=K[i-1],Se[i]=Se[i-1];K[t]=n,Se[t]=r,this.setPage(t)}else if(e<t){n=K[e],r=Se[e];for(var s=e;s<t;s++)K[s]=K[s+1],Se[s]=Se[s+1];K[t]=n,Se[t]=r,this.setPage(t)}return this},f.deletePage=function(){return st.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,n,r,i){var s,a,o,l,c,u,d,f,p,m=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ie==0?(o=arguments[4],l=arguments[5],"object"===(0,cx.A)(d=arguments[3])&&null!==d||("string"==typeof o&&(l=o,o=null),"string"==typeof d&&(l=d,d=null),"number"==typeof d&&(o=d,d=null),r={flags:d,angle:o,align:l})):(S("The transform parameter of text() with a Matrix value"),p=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return m;var y,v="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Dt,N=m.internal.scaleFactor;function _(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,d)}function j(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function A(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,s=e.concat(),a=[],o=s.length;o--;)"string"==typeof(r=s.shift())?a.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var E=!1,L=!0;if("string"==typeof e)E=!0;else if(Array.isArray(e)){var I=e.concat();a=[];for(var T,P=I.length;P--;)("string"!=typeof(T=I.shift())||Array.isArray(T)&&"string"!=typeof T[0])&&(L=!1);E=L}if(!1===E)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var R=te/m.internal.scaleFactor,D=R*(w-1);switch(r.baseline){case"bottom":n-=D;break;case"top":n+=R-D;break;case"hanging":n+=R-2*D;break;case"middle":n+=R/2-D}if((u=r.maxWidth||0)>0&&("string"==typeof e?e=m.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(m.splitTextToSize(t,u))},[]))),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:de,fonts:ge,activeFontSize:te}},je.publish("preProcessText",s),e=s.text,o=(r=s.options).angle,p instanceof Ie==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),x===b&&(o=-o);var O=Math.cos(o),F=Math.sin(o);p=new Ie(O,F,-F,O,0,0)}else o&&o instanceof Ie&&(p=o);x!==b||p||(p=Pe),void 0!==(c=r.charSpace||Jt)&&(v+=k(C(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(v+=k(100*f)+" Tz\n"),r.lang;var M=-1,U=void 0!==r.renderingMode?r.renderingMode:r.stroke,B=m.internal.getCurrentPageInfo().pageContext;switch(U){case 0:case!1:case"fill":M=0;break;case 1:case!0:case"stroke":M=1;break;case 2:case"fillThenStroke":M=2;break;case 3:case"invisible":M=3;break;case 4:case"fillAndAddForClipping":M=4;break;case 5:case"strokeAndAddPathForClipping":M=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":M=6;break;case 7:case"addToPathForClipping":M=7}var z=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==M?v+=M+" Tr\n":-1!==z&&(v+="0 Tr\n"),-1!==M&&(B.usedRenderingMode=M),l=r.align||"left";var q,V=te*w,H=m.internal.pageSize.getWidth(),W=ge[de];c=r.charSpace||Jt,u=r.maxWidth||0,d=Object.assign({autoencode:!0,noBOM:!0},r.flags);var G=[],K=function(e){return m.getStringUnitWidth(e,{font:W,charSpace:c,fontSize:te,doKerning:!1})*te/N};if("[object Array]"===Object.prototype.toString.call(e)){var Y;a=j(e),"left"!==l&&(q=a.map(K));var Q,J=0;if("right"===l){t-=q[0],e=[],P=a.length;for(var $=0;$<P;$++)0===$?(Q=qt(t),Y=Vt(n)):(Q=C(J-q[$]),Y=-V),e.push([a[$],Q,Y]),J=q[$]}else if("center"===l){t-=q[0]/2,e=[],P=a.length;for(var Z=0;Z<P;Z++)0===Z?(Q=qt(t),Y=Vt(n)):(Q=C((J-q[Z])/2),Y=-V),e.push([a[Z],Q,Y]),J=q[Z]}else if("left"===l){e=[],P=a.length;for(var ee=0;ee<P;ee++)e.push(a[ee])}else if("justify"===l&&"Identity-H"===W.encoding){e=[],P=a.length,u=0!==u?u:H;for(var ne=0,re=0;re<P;re++)if(Y=0===re?Vt(n):-V,Q=0===re?qt(t):ne,re<P-1){var se=C((u-q[re])/(a[re].split(" ").length-1)),ae=a[re].split(" ");e.push([ae[0]+" ",Q,Y]),ne=0;for(var oe=1;oe<ae.length;oe++){var le=(K(ae[oe-1]+" "+ae[oe])-K(ae[oe]))*N+se;oe==ae.length-1?e.push([ae[oe],le,0]):e.push([ae[oe]+" ",le,0]),ne-=le}}else e.push([a[re],Q,Y]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],P=a.length,u=0!==u?u:H,re=0;re<P;re++)Y=0===re?Vt(n):-V,Q=0===re?qt(t):0,re<P-1?G.push(k(C((u-q[re])/(a[re].split(" ").length-1)))):G.push(0),e.push([a[re],Q,Y])}}!0===("boolean"==typeof r.R2L?r.R2L:ie)&&(e=A(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:de,fonts:ge,activeFontSize:te}},je.publish("postProcessText",s),e=s.text,y=s.mutex.isHex||!1;var ce=ge[de].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=A(e,function(e,t,n){return[_(e),t,n]})),a=j(e),e=[];for(var ue,he,fe,pe=Array.isArray(a[0])?1:0,me="",ye=function(e,t,n){var i="";return n instanceof Ie?(n="number"==typeof r.angle?Te(n,new Ie(1,0,0,1,e,t)):Te(new Ie(1,0,0,1,e,t),n),x===b&&(n=Te(new Ie(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=k(e)+" "+k(t)+" Td\n",i},ve=0;ve<a.length;ve++){switch(me="",pe){case 1:fe=(y?"<":"(")+a[ve][0]+(y?">":")"),ue=parseFloat(a[ve][1]),he=parseFloat(a[ve][2]);break;case 0:fe=(y?"<":"(")+a[ve]+(y?">":")"),ue=qt(t),he=Vt(n)}void 0!==G&&void 0!==G[ve]&&(me=G[ve]+" Tw\n"),0===ve?e.push(me+ye(ue,he,p)+fe):0===pe?e.push(me+fe):1===pe&&e.push(me+ye(ue,he,p)+fe)}e=0===pe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var be="BT\n/";return be+=de+" "+te+" Tf\n",be+=k(te*w)+" TL\n",be+=Yt+"\n",be+=v,be+=e,X(be+="ET"),h[de]=!0,m};var Nt=f.__private__.clip=f.clip=function(e){return X("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return Nt("evenodd")},f.__private__.discardPath=f.discardPath=function(){return X("n"),this};var _t=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return _t(e)&&(c=e),this};var kt=f.__private__.getStyle=f.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},St=f.close=function(){return X("h"),this};f.stroke=function(){return X("S"),this},f.fill=function(e){return jt("f",e),this},f.fillEvenOdd=function(e){return jt("f*",e),this},f.fillStroke=function(e){return jt("B",e),this},f.fillStrokeEvenOdd=function(e){return jt("B*",e),this};var jt=function(e,t){"object"===(0,cx.A)(t)?Ct(t,e):X(e)},At=function(e){null===e||x===b&&void 0===e||(e=kt(e),X(e))};function Et(e,t,n,r,i){var s=new $S(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);s.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return Re(a,s),s}var Ct=function(e,t){var n=xe[e.key],r=be[n];if(r instanceof XS)X("q"),X(Lt(t)),r.gState&&f.setGState(r.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(r instanceof $S){var i=new Ie(1,0,0,-1,0,cn());e.matrix&&(i=i.multiply(e.matrix||Pe),n=Et.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),r.gState&&f.setGState(r.gState),X(t),X("Q")}},Lt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},It=f.moveTo=function(e,t){return X(k(C(e))+" "+k(L(t))+" m"),this},Tt=f.lineTo=function(e,t){return X(k(C(e))+" "+k(L(t))+" l"),this},Pt=f.curveTo=function(e,t,n,r,i,s){return X([k(C(e)),k(L(t)),k(C(n)),k(L(r)),k(C(i)),k(L(s)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!_t(i))throw new Error("Invalid arguments passed to jsPDF.line");return x===v?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,n,r,i,s){var a,o,l,c,u,d,h,f,p,m,g,y;if("number"==typeof e&&(y=n,n=t,t=e,e=y),r=r||[1,1],s=s||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!_t(i)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(It(t,n),a=r[0],o=r[1],c=e.length,m=t,g=n,l=0;l<c;l++)2===(u=e[l]).length?(m=u[0]*a+m,g=u[1]*o+g,Tt(m,g)):(d=u[0]*a+m,h=u[1]*o+g,f=u[2]*a+m,p=u[3]*o+g,m=u[4]*a+m,g=u[5]*o+g,Pt(d,h,f,p,m,g));return s&&St(),At(i),this},f.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":It(r[0],r[1]);break;case"l":Tt(r[0],r[1]);break;case"c":Pt.apply(this,r);break;case"h":St()}}return this},f.__private__.rect=f.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!_t(i))throw new Error("Invalid arguments passed to jsPDF.rect");return x===v&&(r=-r),X([k(C(e)),k(L(t)),k(C(n)),k(C(r)),"re"].join(" ")),At(i),this},f.__private__.triangle=f.triangle=function(e,t,n,r,i,s,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!_t(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,s-r],[e-i,t-s]],e,t,[1,1],a,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,n,r,i,s,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!_t(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*i,0],[i*o,0,i,s-s*o,i,s],[0,r-2*s],[0,s*o,-i*o,s,-i,s],[2*i-n,0],[-i*o,0,-i,-s*o,-i,-s],[0,2*s-r],[0,-s*o,i*o,-s,i,-s]],e+i,t,[1,1],a,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!_t(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return It(e+n,t),Pt(e+n,t-a,e+s,t-r,e,t-r),Pt(e-s,t-r,e-n,t-a,e-n,t),Pt(e-n,t+a,e-s,t+r,e,t+r),Pt(e+s,t+r,e+n,t+a,e+n,t),At(i),this},f.__private__.circle=f.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!_t(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},f.setFont=function(e,t,n){return n&&(t=_(t,n)),de=lt(e,t,{disableWarning:!1}),this};var Rt=f.__private__.getFont=f.getFont=function(){return ge[lt.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,n={};for(e in ye)if(ye.hasOwnProperty(e))for(t in n[e]=[],ye[e])ye[e].hasOwnProperty(t)&&n[e].push(t);return n},f.addFont=function(e,t,n,r,i){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=_(n,r)),tt.call(this,e,t,n,i=i||"Identity-H")};var Dt,Ot=e.lineWidth||.200025,Ft=f.__private__.getLineWidth=f.getLineWidth=function(){return Ot},Mt=f.__private__.setLineWidth=f.setLineWidth=function(e){return Ot=e,X(k(C(e))+" w"),this};f.__private__.setLineDash=ZS.API.setLineDash=ZS.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(C(e))}).join(" "),t=k(C(t)),X("["+e+"] "+t+" d"),this};var Ut=f.__private__.getLineHeight=f.getLineHeight=function(){return te*Dt};f.__private__.getLineHeight=f.getLineHeight=function(){return te*Dt};var Bt=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Dt=e),this},zt=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Dt};Bt(e.lineHeight);var qt=f.__private__.getHorizontalCoordinate=function(e){return C(e)},Vt=f.__private__.getVerticalCoordinate=function(e){return x===b?e:Se[U].mediaBox.topRightY-Se[U].mediaBox.bottomLeftY-C(e)},Ht=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return k(qt(e))},Wt=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return k(Vt(e))},Gt=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return qe(Gt)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,n,r){return Gt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),X(Gt),this};var Kt=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return qe(Kt)},f.__private__.setFillColor=f.setFillColor=function(e,t,n,r){return Kt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),X(Kt),this};var Yt=e.textColor||"0 g",Qt=f.__private__.getTextColor=f.getTextColor=function(){return qe(Yt)};f.__private__.setTextColor=f.setTextColor=function(e,t,n,r){return Yt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Xt=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Jt||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var $t=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,X(t+" J"),this};var Zt=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(k(C(e))+" M"),this},f.GState=QS,f.setGState=function(e){(e="string"==typeof e?we[Ne[e]]:en(null,e)).equals(_e)||(X("/"+e.id+" gs"),_e=e)};var en=function(e,t){if(!e||!Ne[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var i="GS"+(Object.keys(we).length+1).toString(10);we[i]=t,t.id=i}return e&&(Ne[e]=t.id),je.publish("addGState",t),t}};f.addGState=function(e,t){return en(e,t),this},f.saveGraphicsState=function(){return X("q"),ve.push({key:de,size:te,color:Yt}),this},f.restoreGraphicsState=function(){X("Q");var e=ve.pop();return de=e.key,te=e.size,Yt=e.color,_e=null,this},f.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},f.comment=function(e){return X("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},rn=function(){this.page=ke,this.currentPage=U,this.pages=K.slice(0),this.pagesContext=Se.slice(0),this.x=fe,this.y=pe,this.matrix=me,this.width=on(U),this.height=cn(U),this.outputDestination=Q,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){ke=this.page,U=this.currentPage,Se=this.pagesContext,K=this.pages,fe=this.x,pe=this.y,me=this.matrix,ln(U,this.width),un(U,this.height),Q=this.outputDestination};var sn=function(e,t,n,r,i){Le.push(new rn),ke=U=0,K=[],fe=e,pe=t,me=i,rt([n,r])};for(var an in f.beginFormObject=function(e,t,n,r,i){return sn(e,t,n,r,i),this},f.endFormObject=function(e){return function(e){if(Ce[e])Le.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(Ee).length+1).toString(10);t.id=n,Ce[e]=n,Ee[n]=t,je.publish("addFormObject",t),Le.pop().restore()}}(e),this},f.doFormObject=function(e,t){var n=Ee[Ce[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},f.getFormObject=function(e){var t=Ee[Ce[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(jS(mt(pt()),e),"function"==typeof jS.unload&&xS.setTimeout&&setTimeout(jS.unload,911),this):new Promise(function(t,n){try{var i=jS(mt(pt()),e);"function"==typeof jS.unload&&xS.setTimeout&&setTimeout(jS.unload,911),t(i)}catch(r){n(r.message)}})},ZS.API)ZS.API.hasOwnProperty(an)&&("events"===an&&ZS.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(je,ZS.API.events):f[an]=ZS.API[an]);var on=f.getPageWidth=function(e){return(Se[e=e||U].mediaBox.topRightX-Se[e].mediaBox.bottomLeftX)/he},ln=f.setPageWidth=function(e,t){Se[e].mediaBox.topRightX=t*he+Se[e].mediaBox.bottomLeftX},cn=f.getPageHeight=function(e){return(Se[e=e||U].mediaBox.topRightY-Se[e].mediaBox.bottomLeftY)/he},un=f.setPageHeight=function(e,t){Se[e].mediaBox.topRightY=t*he+Se[e].mediaBox.bottomLeftY};return f.internal={pdfEscape:nt,getStyle:kt,getFont:Rt,getFontSize:re,getCharSpace:Xt,getTextColor:Qt,getLineHeight:Ut,getLineHeightFactor:zt,getLineWidth:Ft,write:$,getHorizontalCoordinate:qt,getVerticalCoordinate:Vt,getCoordinateString:Ht,getVerticalCoordinateString:Wt,collections:{},newObject:Oe,newAdditionalObject:Ue,newObjectDeferred:Fe,newObjectDeferredBegin:Me,getFilters:He,putStream:We,events:je,scaleFactor:he,pageSize:{getWidth:function(){return on(U)},setWidth:function(e){ln(U,e)},getHeight:function(){return cn(U)},setHeight:function(e){un(U,e)}},encryptionOptions:u,encryption:vt,getEncryptor:function(e){return null!==u?vt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:ot,pages:K,out:X,f2:A,f3:E,getPageInfo:bt,getPageInfoByObjId:xt,getCurrentPageInfo:wt,getPDFVersion:m,Point:tn,Rectangle:nn,Matrix:Ie,hasHotfix:yt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return on(U)},set:function(e){ln(U,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return cn(U)},set:function(e){un(U,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===d&&(h[r]=!0);var i=e[t][0].split("-");et({id:r,fontName:i[0],fontStyle:i[1]||""})}je.publish("addFonts",{fonts:ge,dictionary:ye})}.call(f,ee),de="F1",it(i,n),je.publish("initialized"),f}GS.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},GS.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},GS.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},GS.prototype.processOwnerPassword=function(e,t){return HS(zS(t).substr(0,5),e)},GS.prototype.encryptor=function(e,t){var n=zS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return HS(n,e)}},QS.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,cx.A)(e)!==(0,cx.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},ZS.API={events:[]},ZS.version="3.0.2";var ej=ZS.API,tj=1,nj=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rj=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ij=function(e){return e.toFixed(2)},sj=function(e){return e.toFixed(5)};ej.__acroform__={};var aj=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},oj=function(e){return e*tj},lj=function(e){var t=new kj,n=Mj.internal.getHeight(e)||0,r=Mj.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ij(r)),Number(ij(n))],t},cj=ej.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},uj=ej.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},dj=ej.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},hj=ej.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dj(e,t-1)},fj=ej.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cj(e,t-1)},pj=ej.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uj(e,t-1)},mj=ej.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(ij(l.lowerLeft_X)),Number(ij(l.lowerLeft_Y)),Number(ij(l.upperRight_X)),Number(ij(l.upperRight_Y))]},gj=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=yj(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ij(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=lj(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},yj=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(e){return e.split("\n")}):i.map(function(e){return[e]});var s=n,a=Mj.internal.getHeight(e)||0;a=a<0?-a:a;var o=Mj.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<i.length){var s=n+" "+i[t+1][0];return vj(s,e,r).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,d=vj("3",e,s).height,h=e.multiline?a-s:(a-d)/2,f=h+=2,p=0,m=0,g=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+vj(t,e,s=12).width+", FieldWidth:"+o+"\n";break}for(var y="",v=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var x=!1;if(1!==i[b].length&&g!==i[b].length-1){if((d+2)*(v+2)+2>a)continue e;y+=i[b][g],x=!0,m=b,b--}else{y=" "==(y+=i[b][g]+" ").substr(y.length-1)?y.substr(0,y.length-1):y;var w=parseInt(b),N=l(w,y,s),_=b>=i.length-1;if(N&&!_){y+=" ",g=0;continue}if(N||_){if(_)m=w;else if(e.multiline&&(d+2)*(v+2)+2>a)continue e}else{if(!e.multiline)continue e;if((d+2)*(v+2)+2>a)continue e;m=w}}for(var k="",S=p;S<=m;S++){var j=i[S];if(e.multiline){if(S===m){k+=j[g]+" ",g=(g+1)%j.length;continue}if(S===p){k+=j[j.length-1]+" ";continue}}k+=j[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,u=vj(k,e,s).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=ij(c)+" "+ij(f)+" Td\n",t+="("+nj(k)+") Tj\n",t+=-ij(c)+" 0 Td\n",f=-(s+2),u=0,p=x?m:m+1,v++,y=""}break}return r.text=t,r.fontSize=s,r},vj=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},bj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},xj=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},wj=ej.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(0!==s&&(i+=" "),(0,cx.A)(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+nj(r(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nj=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+nj(r(e))+")"},_j=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_j.prototype.toString=function(){return this.objId+" 0 R"},_j.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},_j.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:wj(i,this.objId,this.scope)}):i instanceof _j?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var kj=function(){_j.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};aj(kj,_j);var Sj=function(){_j.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+nj(t(e))+")"}},set:function(t){e=t}})};aj(Sj,_j);var jj=function e(){_j.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(t,3))},set:function(e){!0===Boolean(e)?this.F=fj(t,3):this.F=pj(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Rj)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+nj(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/tj:c},set:function(e){c=e}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Rj||this instanceof Oj))return Nj(d,this.objId,this.scope)},set:function(e){e=e.toString(),d=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ij==0?Nj(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Ij==0?"("===e.substr(0,1)?rj(e.substr(1,e.length-2)):rj(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ij==1?rj(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Ij==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ij==0?Nj(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof Ij==0?"("===e.substr(0,1)?rj(e.substr(1,e.length-2)):rj(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ij==1?rj(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof Ij==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,1):this.Ff=pj(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,2):this.Ff=pj(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,3):this.Ff=pj(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};aj(jj,_j);var Aj=function(){jj.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wj(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,18):this.Ff=pj(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=fj(this.Ff,19):this.Ff=pj(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=fj(this.Ff,20),t.sort()):this.Ff=pj(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,22):this.Ff=pj(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,23):this.Ff=pj(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,27):this.Ff=pj(this.Ff,27)}}),this.hasAppearanceStream=!1};aj(Aj,jj);var Ej=function(){Aj.call(this),this.fontName="helvetica",this.combo=!1};aj(Ej,Aj);var Cj=function(){Ej.call(this),this.combo=!0};aj(Cj,Ej);var Lj=function(){Cj.call(this),this.edit=!0};aj(Lj,Cj);var Ij=function(){jj.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,15):this.Ff=pj(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,16):this.Ff=pj(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,17):this.Ff=pj(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,26):this.Ff=pj(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+nj(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,cx.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};aj(Ij,jj);var Tj=function(){Ij.call(this),this.pushButton=!0};aj(Tj,Ij);var Pj=function(){Ij.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};aj(Pj,Ij);var Rj=function(){var e,t;jj.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+nj(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,cx.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mj.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};aj(Rj,jj),Pj.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Pj.prototype.createOption=function(e){var t=new Rj;return t.Parent=this,t.optionName=e,this.Kids.push(t),Uj.call(this.scope,t),t};var Dj=function(){Ij.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mj.CheckBox.createAppearanceStream()};aj(Dj,Ij);var Oj=function(){jj.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,13):this.Ff=pj(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,21):this.Ff=pj(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,23):this.Ff=pj(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,24):this.Ff=pj(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,25):this.Ff=pj(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,26):this.Ff=pj(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};aj(Oj,jj);var Fj=function(){Oj.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(hj(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=fj(this.Ff,14):this.Ff=pj(this.Ff,14)}}),this.password=!0};aj(Fj,Oj);var Mj={CheckBox:{createAppearanceStream:function(){return{N:{On:Mj.CheckBox.YesNormal},D:{On:Mj.CheckBox.YesPushDown,Off:Mj.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=lj(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=yj(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ij(Mj.internal.getWidth(e))+" "+ij(Mj.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ij(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=lj(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Mj.internal.getHeight(e),a=Mj.internal.getWidth(e),o=yj(e,e.caption);return i.push("1 g"),i.push("0 0 "+ij(a)+" "+ij(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ij(a-1)+" "+ij(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ij(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=lj(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ij(Mj.internal.getWidth(e))+" "+ij(Mj.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Mj.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Mj.RadioButton.Circle.YesNormal,t.D[e]=Mj.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=lj(e);t.scope=e.scope;var n=[],r=Mj.internal.getWidth(e)<=Mj.internal.getHeight(e)?Mj.internal.getWidth(e)/4:Mj.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Mj.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+sj(Mj.internal.getWidth(e)/2)+" "+sj(Mj.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=lj(e);t.scope=e.scope;var n=[],r=Mj.internal.getWidth(e)<=Mj.internal.getHeight(e)?Mj.internal.getWidth(e)/4:Mj.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Mj.internal.Bezier_C).toFixed(5)),a=Number((r*Mj.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+sj(Mj.internal.getWidth(e)/2)+" "+sj(Mj.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+sj(Mj.internal.getWidth(e)/2)+" "+sj(Mj.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=lj(e);t.scope=e.scope;var n=[],r=Mj.internal.getWidth(e)<=Mj.internal.getHeight(e)?Mj.internal.getWidth(e)/4:Mj.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Mj.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+sj(Mj.internal.getWidth(e)/2)+" "+sj(Mj.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Mj.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Mj.RadioButton.Cross.YesNormal,t.D[e]=Mj.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=lj(e);t.scope=e.scope;var n=[],r=Mj.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ij(Mj.internal.getWidth(e)-2)+" "+ij(Mj.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ij(r.x1.x)+" "+ij(r.x1.y)+" m"),n.push(ij(r.x2.x)+" "+ij(r.x2.y)+" l"),n.push(ij(r.x4.x)+" "+ij(r.x4.y)+" m"),n.push(ij(r.x3.x)+" "+ij(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=lj(e);t.scope=e.scope;var n=Mj.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ij(Mj.internal.getWidth(e))+" "+ij(Mj.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ij(Mj.internal.getWidth(e)-2)+" "+ij(Mj.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ij(n.x1.x)+" "+ij(n.x1.y)+" m"),r.push(ij(n.x2.x)+" "+ij(n.x2.y)+" l"),r.push(ij(n.x4.x)+" "+ij(n.x4.y)+" m"),r.push(ij(n.x3.x)+" "+ij(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=lj(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ij(Mj.internal.getWidth(e))+" "+ij(Mj.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Mj.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Mj.internal.getWidth(e),n=Mj.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Mj.internal.getWidth=function(e){var t=0;return"object"===(0,cx.A)(e)&&(t=oj(e.Rect[2])),t},Mj.internal.getHeight=function(e){var t=0;return"object"===(0,cx.A)(e)&&(t=oj(e.Rect[3])),t};var Uj=ej.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(jj.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(bj)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Sj,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&xj(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],s=[],a=i.Rect;if(i.Rect&&(i.Rect=mj(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=Mj.createDefaultAppearanceStream(i),"object"===(0,cx.A)(i)&&"function"==typeof i.getKeyValueListForStream&&(s=i.getKeyValueListForStream()),i.Rect=a,i.hasAppearanceStream&&!i.appearanceStreamContent){var o=gj(i);s.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var u=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var d=u[r];"function"==typeof d&&(d=d.call(t,i)),l+="/"+r+" "+d+" ",t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d)}}else"function"==typeof(d=u)&&(d=d.call(t,i)),l+="/"+r+" "+d,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,cx.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof jj))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ej.AcroFormChoiceField=Aj,ej.AcroFormListBox=Ej,ej.AcroFormComboBox=Cj,ej.AcroFormEditBox=Lj,ej.AcroFormButton=Ij,ej.AcroFormPushButton=Tj,ej.AcroFormRadioButton=Pj,ej.AcroFormCheckBox=Dj,ej.AcroFormTextField=Oj,ej.AcroFormPasswordField=Fj,ej.AcroFormAppearance=Mj,ej.AcroForm={ChoiceField:Aj,ListBox:Ej,ComboBox:Cj,EditBox:Lj,Button:Ij,PushButton:Tj,RadioButton:Pj,CheckBox:Dj,TextField:Oj,PasswordField:Fj,Appearance:Mj},ZS.AcroForm={ChoiceField:Aj,ListBox:Ej,ComboBox:Cj,EditBox:Lj,Button:Ij,PushButton:Tj,RadioButton:Pj,CheckBox:Dj,TextField:Oj,PasswordField:Fj,Appearance:Mj};ZS.AcroForm;function Bj(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,t){var i,s,a,o,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(N(e))for(l in r)for(a=r[l],i=0;i<a.length;i+=1){for(o=!0,s=0;s<a[i].length;s+=1)if(void 0!==a[i][s]&&a[i][s]!==e[s]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(a=r[l],i=0;i<a.length;i+=1){for(o=!0,s=0;s<a[i].length;s+=1)if(void 0!==a[i][s]&&a[i][s]!==e.charCodeAt(s)){o=!1;break}if(!0===o){c=l;break}}return c===n&&t!==n&&(c=t),c},s=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===y.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===y.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",o=0,l=t.transparency.length;o<l;o++)a+=t.transparency[o]+" "+t.transparency[o]+" ";s.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var u=(null!=t.predictor?"/Predictor "+t.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+t.width,d={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:u,data:t.sMask};"filter"in t&&(d.filter=t.filter),e.call(this,d)}if(t.colorSpace===y.INDEXED){var h=this.internal.newObject();r({data:k(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},a=function(){var e=this.internal.collections[t+"images"];for(var n in e)s.call(this,e[n])},o=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var i in n)r("/I"+(e=n[i]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,cx.A)(e)&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return ES(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return ES(t.toDataURL(s,1).split("base64,").pop())}},p=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,s){var a=m.call(this,n,r,i),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=c.call(this);if(n=a[0],r=a[1],u[i.index]=i,s){s*=Math.PI/180;var d=Math.cos(s),h=Math.sin(s),f=function(e){return e.toFixed(4)},p=[f(d),f(h),f(-1*h),f(d),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(N(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},x=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},_=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=N(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,i,s,a,o,c,u;if("number"==typeof arguments[1]?(t=n,r=arguments[1],i=arguments[2],s=arguments[3],a=arguments[4],o=arguments[5],c=arguments[6],u=arguments[7]):(t=arguments[1],r=arguments[2],i=arguments[3],s=arguments[4],a=arguments[5],o=arguments[6],c=arguments[7],u=arguments[8]),"object"===(0,cx.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var d=e;e=d.imageData,t=d.format||t||n,r=d.x||r||0,i=d.y||i||0,s=d.w||d.width||s,a=d.h||d.height||a,o=d.alias||o,c=d.compression||c,u=d.rotation||d.angle||u}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var p=S.call(this,e,t,o,c);return g.call(this,r,i,s,a,p,u),this};var S=function(t,r,s,a){var o,l,c;if("string"==typeof t&&i(t)===n){t=unescape(t);var m=j(t,!1);(""!==m||void 0!==(m=e.loadFile(t,!0)))&&(t=m)}if(h(t)&&(t=f(t,r)),r=i(t,r),!d(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=s)||0===c.length)&&(s=function(e){return"string"==typeof e||N(e)?b(e):N(e.data)?b(e.data):null}(t)),(o=p.call(this,s))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=_(t)),o=this["process"+r.toUpperCase()](t,u.call(this),s,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:v.NONE}(a),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},j=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var s;n=null!==(s=w(e))&&void 0!==s?s:e;try{r=ES(n)}catch(i){if(t)throw x(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+i.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,s,a="";if(h(t)&&(t=f(t)),"string"==typeof t&&i(t)===n&&(""===(a=j(t,!1))&&(a=e.loadFile(t)||""),t=a),s=i(t),!d(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(t instanceof Uint8Array||(t=_(t)),!(r=this["process"+s.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=s,r}}(ZS.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};ZS.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var d=0;d<l.length;d++){n=l[d];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+o.objId+" 0 R",i+=" /T ("+h(g(y))+") >>",p.content=i;var v=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(f(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var x=this.annotations._nameMap[n.options.name];n.options.pageNumber=x.page,n.options.top=x.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var w=a(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var s=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:a(e),y:o(t),w:a(e+n),h:o(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,s,a=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){s=r.maxWidth;var l=this.splitTextToSize(e,s).length;i=Math.ceil(o*l)}else s=a,i=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=a/2),"right"===r.align&&(t-=a),this.link(t,n-o,s,i,r),a},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(ZS.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&s(e)&&4==t[e.charCodeAt(0)].length},d=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",s=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(s++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,s=0),t===e.length-1&&(r=n,i+=e.charAt(t-(s-1)),t-=s-1,s=0)):(r=n,i+=e.charAt(t-s),t-=s,s=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return a(e)?!1===s(e)?-1:!c(e)||!a(t)&&!a(n)||!a(n)&&o(t)||o(e)&&!a(t)||o(e)&&l(t)||o(e)&&o(t)?0:u(e)&&a(t)&&!o(t)&&a(n)&&c(n)?3:o(e)||!a(n)?1:2:-1},f=function(e){var n=0,r=0,i=0,s="",o="",l="",c=(e=e||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),r=0;r<c[n].length;r+=1)s=c[n][r],o=c[n][r-1],l=c[n][r+1],a(s)?(i=h(s,o,l),u[n]+=-1!==i?String.fromCharCode(t[s.charCodeAt(0)][i]):s):u[n]+=s;u[n]=d(u[n])}return u.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([f(t[r][0]),t[r][1],t[r][2]]):n.push([f(t[r])]);e=n}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(ZS.API),ZS.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ZS.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,a=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var u=t.maxWidth;u>0?"string"==typeof e?e=this.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,u))},[])):e=Array.isArray(e)?e:[e];for(var d=0;d<e.length;d++)a<(l=this.getStringUnitWidth(e[d],{font:i})*n)&&(a=l);return 0!==a&&(o=e.length),{w:a/=s,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,u){if(r.call(this),!l)throw new Error("No data for PDF table.");var d,h,f,p,m=[],g=[],y=[],v={},b={},x=[],w=[],N=(u=u||{}).autoSize||!1,_=!1!==u.printHeaders,k=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,S=u.margins||Object.assign({width:this.getPageWidth()},t),j="number"==typeof u.padding?u.padding:3,A=u.headerBackgroundColor||"#c8c8c8",E=u.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=E,this.setFontSize(k),null==c)g=m=Object.keys(l[0]),y=m.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,cx.A)(c[0]))for(m=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),y=c.map(function(e){return e.align||"left"}),d=0;d<c.length;d+=1)b[c[d].name]=.7499990551181103*c[d].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=m=c,y=m.map(function(){return"left"}));if(N||Array.isArray(c)&&"string"==typeof c[0])for(d=0;d<m.length;d+=1){for(v[p=m[d]]=l.map(function(e){return e[p]}),this.setFont(void 0,"bold"),x.push(this.getTextDimensions(g[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=v[p],this.setFont(void 0,"normal"),f=0;f<h.length;f+=1)x.push(this.getTextDimensions(h[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[p]=Math.max.apply(null,x)+j+j,x=[]}if(_){var C={};for(d=0;d<m.length;d+=1)C[m[d]]={},C[m[d]].text=g[d],C[m[d]].align=y[d];var L=o.call(this,C,b);w=m.map(function(t){return new s(e,n,b[t],L,C[t].text,void 0,C[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var I=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(d=0;d<l.length;d+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:d,data:l[d]},this);var T=o.call(this,l[d],b);for(f=0;f<m.length;f+=1){var P=l[d][m[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:d,col:f,data:P},this),a.call(this,new s(e,n,b[m[f]],T,P,d+2,I[m[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var o=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map(function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/i+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=e;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,i),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(ZS.API);var zj={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qj=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Vj=Bj(qj),Hj=[100,200,300,400,500,600,700,800,900],Wj=Bj(Hj);function Gj(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return zj[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof Vj[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Kj(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Yj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Qj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Jj(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Xj(e){return e.trimLeft()}function $j(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Zj(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var eA,tA,nA,rA,iA,sA,aA,oA,lA,cA=["times"];function uA(e,t,n,r){var i=4,s=fA;switch(r){case ZS.API.image_compression.FAST:i=1,s=hA;break;case ZS.API.image_compression.MEDIUM:i=6,s=pA;break;case ZS.API.image_compression.SLOW:i=9,s=mA}e=function(e,t,n,r){for(var i,s=e.length/t,a=new Uint8Array(e.length+s),o=[dA,hA,fA,pA,mA],l=0;l<s;l+=1){var c=l*t,u=e.subarray(c,c+t);if(r)a.set(r(u,n,i),c+l);else{for(var d=o.length,h=[],f=0;f<d;f+=1)h[f]=o[f](u,n,i);var p=yA(h.concat());a.set(h[p],c+l)}i=u}return a}(e,t,n,s);var a=Kx(e,{level:i});return ZS.API.__addimage__.arrayBufferToBinaryString(a)}function dA(e){var t=Array.apply([],e);return t.unshift(0),t}function hA(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=e[i-t]||0;r[i+1]=e[i]-s+256&255}return r}function fA(e,t,n){var r=e.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=e[s]-a+256&255}return i}function pA(e,t,n){var r=e.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=e[s-t]||0,o=n&&n[s]||0;i[s+1]=e[s]+256-(a+o>>>1)&255}return i}function mA(e,t,n){var r=e.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=gA(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);i[s+1]=e[s]-a+256&255}return i}function gA(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=i&&r<=s?e:i<=s?t:n}function yA(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function vA(e,t,n){var r=t*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return xA(e,i)>>s&a}function bA(e,t,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(t&o)<<a;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,s,xA(e,s)&~(o<<a)&65535|l)}function xA(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function wA(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var c=!0,u=[],d=0,h=null,f=0,p=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],1&m||(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++],w=x>>6&1,N=1<<1+(7&x),_=o,k=l,S=!1;x>>7&&(S=!0,_=t,k=N,t+=3*N);var j=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}u.push({x:g,y:y,width:v,height:b,has_local_palette:S,palette_offset:_,palette_size:k,data_offset:j,data_length:t-j,transparent_index:h,interlaced:!!w,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=u.length)throw new Error("Frame index out of range.");return u[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),s=i.width*i.height,a=new Uint8Array(s);NA(e,i.data_offset,a,s);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,d=c,h=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=h,m=4*u;!0===i.interlaced&&(m+=4*n*7);for(var g=8,y=0,v=a.length;y<v;++y){var b=a[y];if(0===d&&(d=c,(p+=m)>=f&&(m=4*u+4*n*(g-1),p=h+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var x=e[o+3*b],w=e[o+3*b+1],N=e[o+3*b+2];r[p++]=N,r[p++]=w,r[p++]=x,r[p++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),s=i.width*i.height,a=new Uint8Array(s);NA(e,i.data_offset,a,s);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,d=c,h=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=h,m=4*u;!0===i.interlaced&&(m+=4*n*7);for(var g=8,y=0,v=a.length;y<v;++y){var b=a[y];if(0===d&&(d=c,(p+=m)>=f&&(m=4*u+4*n*(g-1),p=h+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var x=e[o+3*b],w=e[o+3*b+1],N=e[o+3*b+2];r[p++]=x,r[p++]=w,r[p++]=N,r[p++]=255}--d}}}function NA(e,t,n,r){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,d=0,h=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;u<16&&0!==f;)d|=e[t++]<<u,u+=8,1===f?f=e[t++]:--f;if(u<l)break;var g=d&c;if(d>>=l,u-=l,g!==s){if(g===a)break;for(var y=g<o?g:m,v=0,b=y;b>s;)b=p[b]>>8,++v;var x=b;if(h+v+(y!==g?1:0)>r)return void NS.log("Warning, gif stream longer than expected.");n[h++]=x;var w=h+=v;for(y!==g&&(n[h++]=x),b=y;v--;)b=p[b],n[--w]=255&b,b>>=8;null!==m&&o<4096&&(p[o++]=m<<8|x,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else o=a+1,c=(1<<(l=i+1))-1,m=null}return h!==r&&NS.log("Warning, gif stream shorter than expected."),n}function _A(e){var t,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,y=7,v=new Array(64),b=new Array(64),x=new Array(64),w=new Array(256),N=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var n=0,r=0,i=new Array,s=1;s<=16;s++){for(var a=1;a<=e[s];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=s,r++,n++;n*=2}return i}function P(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<y),n--,--y<0&&(255==g?(R(255),R(0)):R(g),y=7,g=0)}function R(e){m.push(e)}function D(e){R(e>>8&255),R(255&e)}function O(e,t,n,r,i){for(var s,a=i[0],o=i[240],l=function(e,t){var n,r,i,s,a,o,l,c,u,d,h=0;for(u=0;u<8;++u){n=e[h],r=e[h+1],i=e[h+2],s=e[h+3],a=e[h+4],o=e[h+5],l=e[h+6];var p=n+(c=e[h+7]),m=n-c,g=r+l,y=r-l,v=i+o,b=i-o,x=s+a,w=s-a,N=p+x,_=p-x,k=g+v,S=g-v;e[h]=N+k,e[h+4]=N-k;var j=.707106781*(S+_);e[h+2]=_+j,e[h+6]=_-j;var A=.382683433*((N=w+b)-(S=y+m)),E=.5411961*N+A,C=1.306562965*S+A,L=.707106781*(k=b+y),I=m+L,T=m-L;e[h+5]=T+E,e[h+3]=T-E,e[h+1]=I+C,e[h+7]=I-C,h+=8}for(h=0,u=0;u<8;++u){n=e[h],r=e[h+8],i=e[h+16],s=e[h+24],a=e[h+32],o=e[h+40],l=e[h+48];var P=n+(c=e[h+56]),R=n-c,D=r+l,O=r-l,F=i+o,M=i-o,U=s+a,B=s-a,z=P+U,q=P-U,V=D+F,H=D-F;e[h]=z+V,e[h+32]=z-V;var W=.707106781*(H+q);e[h+16]=q+W,e[h+48]=q-W;var G=.382683433*((z=B+M)-(H=O+R)),K=.5411961*z+G,Y=1.306562965*H+G,Q=.707106781*(V=M+O),J=R+Q,X=R-Q;e[h+40]=X+K,e[h+24]=X-K,e[h+8]=J+Y,e[h+56]=J-Y,h++}for(u=0;u<64;++u)d=e[u]*t[u],f[u]=d>0?d+.5|0:d-.5|0;return f}(e,t),c=0;c<64;++c)p[_[c]]=l[c];var u=p[0]-n;n=p[0],0==u?P(r[0]):(P(r[h[s=32767+u]]),P(d[s]));for(var m=63;m>0&&0==p[m];)m--;if(0==m)return P(a),n;for(var g,y=1;y<=m;){for(var v=y;0==p[y]&&y<=m;)++y;var b=y-v;if(b>=16){g=b>>4;for(var x=1;x<=g;++x)P(o);b&=15}s=32767+p[y],P(i[(b<<4)+h[s]]),P(d[s]),y++}return 63!=m&&P(a),n}function F(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[_[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var d=a((i[s]*e+50)/100);d=Math.min(Math.max(d,1),255),l[_[s]]=d}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)c[f]=1/(o[_[f]]*h[p]*h[m]*8),u[f]=1/(l[_[f]]*h[p]*h[m]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&F(s),m=new Array,g=0,y=7,D(65496),D(65504),D(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),D(1),D(1),R(0),R(0),function(){D(65499),D(132),R(0);for(var e=0;e<64;e++)R(o[e]);R(1);for(var t=0;t<64;t++)R(l[t])}(),function(e,t){D(65472),D(17),R(8),D(t),D(e),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(e.width,e.height),function(){D(65476),D(418),R(0);for(var e=0;e<16;e++)R(k[e+1]);for(var t=0;t<=11;t++)R(S[t]);R(16);for(var n=0;n<16;n++)R(j[n+1]);for(var r=0;r<=161;r++)R(A[r]);R(1);for(var i=0;i<16;i++)R(E[i+1]);for(var s=0;s<=11;s++)R(C[s]);R(17);for(var a=0;a<16;a++)R(L[a+1]);for(var o=0;o<=161;o++)R(I[o])}(),D(65498),D(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var a=0,d=0,h=0;g=0,y=7,this.encode.displayName="_encode_";for(var f,p,w,_,T,M,U,B,z,q=e.data,V=e.width,H=e.height,W=4*V,G=0;G<H;){for(f=0;f<W;){for(T=W*G+f,U=-1,B=0,z=0;z<64;z++)M=T+(B=z>>3)*W+(U=4*(7&z)),G+B>=H&&(M-=W*(G+1+B-H)),f+U>=W&&(M-=f+U-W+4),p=q[M++],w=q[M++],_=q[M++],v[z]=(N[p]+N[w+256|0]+N[_+512|0]>>16)-128,b[z]=(N[p+768|0]+N[w+1024|0]+N[_+1280|0]>>16)-128,x[z]=(N[p+1280|0]+N[w+1536|0]+N[_+1792|0]>>16)-128;a=O(v,c,a,t,r),d=O(b,u,d,n,i),h=O(x,u,h,n,i),f+=32}G+=8}if(y>=0){var K=[];K[1]=y+1,K[0]=(1<<y+1)-1,P(K)}return D(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=T(k,S),n=T(E,C),r=T(j,A),i=T(L,I),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)h[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)N[e]=19595*e,N[e+256|0]=38470*e,N[e+512|0]=7471*e+32768,N[e+768|0]=-11059*e,N[e+1024|0]=-21709*e,N[e+1280|0]=32768*e+8421375,N[e+1536|0]=-27439*e,N[e+1792|0]=-5329*e}(),F(e)}function kA(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function SA(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var s=0;s<i;s++)e[t+s]=n[r+s]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function s(e){return new Int32Array(e)}function a(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,i){for(var s=i[r],a=0;a<s&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));a++)e(n[a],r+1,i)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,i,s){t(!(i%r));do{e[n+(i-=r)]=s}while(0<i)}function u(e,n,r,i,a){if(t(2328>=a),512>=a)var o=s(512);else if(null==(o=s(a)))return 0;return function(e,n,r,i,a,o){var u,h,f=n,p=1<<r,m=s(16),g=s(16);for(t(0!=a),t(null!=i),t(null!=e),t(0<r),h=0;h<a;++h){if(15<i[h])return 0;++m[i[h]]}if(m[0]==a)return 0;for(g[1]=0,u=1;15>u;++u){if(m[u]>1<<u)return 0;g[u+1]=g[u]+m[u]}for(h=0;h<a;++h)u=i[h],0<i[h]&&(o[g[u]++]=h);if(1==g[15])return(i=new d).g=0,i.value=o[0],c(e,f,1,p,i),p;var y,v=-1,b=p-1,x=0,w=1,N=1,_=1<<r;for(h=0,u=1,a=2;u<=r;++u,a<<=1){if(w+=N<<=1,0>(N-=m[u]))return 0;for(;0<m[u];--m[u])(i=new d).g=u,i.value=o[h++],c(e,f+x,a,_,i),x=l(x,u)}for(u=r+1,a=2;15>=u;++u,a<<=1){if(w+=N<<=1,0>(N-=m[u]))return 0;for(;0<m[u];--m[u]){if(i=new d,(x&b)!=v){for(f+=_,y=1<<(v=u)-r;15>v&&!(0>=(y-=m[v]));)++v,y<<=1;p+=_=1<<(y=v-r),e[n+(v=x&b)].g=y+r,e[n+v].value=f-n-v}i.g=u-r,i.value=o[h++],c(e,f+(x>>r),a,_,i),x=l(x,u)}}return w!=2*g[15]-1?0:p}(e,n,r,i,a,o)}function d(){this.value=this.g=0}function h(){this.value=this.g=0}function f(){this.G=a(5,d),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Mn,h)}function p(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,j(e)}function m(e,t){for(var n=0;0<t--;)n|=E(e,128)<<t;return n}function g(e,t){var n=m(e,t);return A(e)?-n:n}function y(e,n,r,i){var s,a=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),s=0;s<i;++s)a+=n[r+s]<<8*s;e.Ra=a,e.bb=i,e.oa=n,e.pa=r}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<zn-8>>>0,++e.bb,e.u-=8;_(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=Bn){var r=N(e)&Un[n];return e.u+=n,v(e),r}return e.h=1,e.u=0}function x(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function N(e){return e.Ra>>>(e.u&zn-1)>>>0}function _(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>zn}function k(e,t){e.u=t,e.h=_(e)}function S(e){e.u>=qn&&(t(e.u>=qn),v(e))}function j(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return m(e,1)}function E(e,t){var n=e.Ca;0>e.b&&j(e);var r=e.b,i=n*t>>>8,s=(e.I>>>r>i)+0;for(s?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Vn[r],e.b-=r,e.Ca=(n<<r)-1,s}function C(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function L(e,t){return e[t+0]|e[t+1]<<8}function I(e,t){return L(e,t)|e[t+2]<<16}function T(e,t){return L(e,t)|L(e,t+2)<<16}function P(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=s(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function R(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function D(){this.X=[],this.Xa=this.Mb=0}function O(e,n,r,i){t(null!=r),t(null!=i);var s=r[0],a=i[0];return 0==s&&(s=(e*a+n/2)/n),0==a&&(a=(n*s+e/2)/e),0>=s||0>=a?0:(r[0]=s,i[0]=a,1)}function F(e,t){return e+(1<<t)-1>>>t}function M(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function U(t,n){e[n]=function(n,r,i,s,a,o,l){var c;for(c=0;c<a;++c){var u=e[t](o[l+c-1],i,s+c);o[l+c]=M(n[r+c],u)}}}function B(){this.ud=this.hd=this.jd=0}function z(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function V(e,t){return q(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function W(e,t,n,r,i,s,a){for(r=s[a-1],n=0;n<i;++n)s[a+n]=r=M(e[t+n],r)}function G(e,t,n,r,i){var s;for(s=0;s<n;++s){var a=e[t+s],o=a>>8&255,l=16711935&(l=(l=16711935&a)+((o<<16)+o));r[i+s]=(4278255360&a)+l>>>0}}function K(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,n,r,i,s){var a;for(a=0;a<r;++a){var o=t[n+a],l=o>>>8,c=o,u=255&(u=(u=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(u<<24>>24)>>>5)),i[s+a]=(4278255360&o)+(u<<16)+c}}function Q(t,n,r,i,s){e[n]=function(e,t,n,r,a,o,l,c,u){for(r=l;r<c;++r)for(l=0;l<u;++l)a[o++]=s(n[i(e[t++])])},e[t]=function(t,n,a,o,l,c,u){var d=8>>t.b,h=t.Ea,f=t.K[0],p=t.w;if(8>d)for(t=(1<<t.b)-1,p=(1<<d)-1;n<a;++n){var m,g=0;for(m=0;m<h;++m)m&t||(g=i(o[l++])),c[u++]=s(f[g&p]),g>>=d}else e["VP8LMapColor"+r](o,l,f,p,c,u,n,a,h)}}function J(e,t,n,r,i){for(n=t+n;t<n;){var s=e[t++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s}}function X(e,t,n,r,i){for(n=t+n;t<n;){var s=e[t++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s,r[i++]=s>>24&255}}function $(e,t,n,r,i){for(n=t+n;t<n;){var s=(a=e[t++])>>16&240|a>>12&15,a=240&a|a>>28&15;r[i++]=s,r[i++]=a}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var s=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[i++]=s,r[i++]=a}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var s=e[t++];r[i++]=255&s,r[i++]=s>>8&255,r[i++]=s>>16&255}}function te(e,t,n,i,s,a){if(0==a)for(n=t+n;t<n;)C(i,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),s+=32;else r(i,s,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==qr||e==Vr||e==Hr||e==Wr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new se,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ue(e,t){var n=e.T,i=t.ba.f.RGBA,s=i.eb,a=i.fb+e.ka*i.A,o=gi[t.ba.S],l=e.y,c=e.O,u=e.f,d=e.N,h=e.ea,f=e.W,p=t.cc,m=t.dc,g=t.Mc,y=t.Nc,v=e.ka,b=e.ka+e.T,x=e.U,w=x+1>>1;for(0==v?o(l,c,null,null,u,d,h,f,u,d,h,f,s,a,null,null,x):(o(t.ec,t.fc,l,c,p,m,g,y,u,d,h,f,s,a-i.A,s,a,x),++n);v+2<b;v+=2)p=u,m=d,g=h,y=f,d+=e.Rc,f+=e.Rc,a+=2*i.A,o(l,(c+=2*e.fa)-e.fa,l,c,p,m,g,y,u,d,h,f,s,a-i.A,s,a,x);return c+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,l,c,x),r(t.cc,t.dc,u,d,w),r(t.Mc,t.Nc,h,f,w),n--):1&b||o(l,c,null,null,u,d,h,f,u,d,h,f,s,a+i.A,null,null,x),n}function de(e,n,r){var i=e.F,s=[e.J];if(null!=i){var a=e.U,o=n.ba.S,l=o==Ur||o==Hr;n=n.ba.f.RGBA;var c=[0],u=e.ka;c[0]=e.T,e.Kb&&(0==u?--c[0]:(--u,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-u));var d=n.eb;u=n.fb+u*n.A,e=kr(i,s[0],e.width,a,c,d,u+(l?0:3),n.A),t(r==c),e&&re(o)&&Nr(d,u,l,a,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Or||n==Mr||n==Ur||n==Br||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Dn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=s(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ue,vn()}}else alert("todo:EmitYUV");i&&(t.Jb=de,r&&gn())}if(r&&!Li){for(e=0;256>e;++e)Ii[e]=89858*(e-128)+Si>>ki,Ri[e]=-22014*(e-128)+Si,Pi[e]=-45773*(e-128),Ti[e]=113618*(e-128)+Si>>ki;for(e=ji;e<Ai;++e)t=76283*(e-16)+Si>>ki,Di[e-ji]=We(t,255),Oi[e-ji]=We(t+8>>4,15);Li=1}return 1}function fe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function pe(e){e.ma.memory=null}function me(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ye(e,t){return 120<t?t-120:1<=(n=((n=Xr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ve(e,t,n){var r=N(n),i=e[t+=255&r].g-8;return 0<i&&(k(n,n.u+8),r=N(n),t+=e[t].value,t+=r&(1<<i)-1),k(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function xe(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function we(e,n,i,s){var a=e.ab,o=e.c*n,l=e.C;n=l+n;var c=i,u=s;for(s=e.Ta,i=e.Ua;0<a--;){var d=e.gc[a],h=l,f=n,p=c,m=u,g=(u=s,c=i,d.Ea);switch(t(h<f),t(f<=d.nc),d.hc){case 2:Gn(p,m,(f-h)*g,u,c);break;case 0:var y=h,v=f,b=u,x=c,w=(j=d).Ea;0==y&&(Hn(p,m,null,null,1,b,x),W(p,m+1,0,0,w-1,b,x+1),m+=w,x+=w,++y);for(var N=1<<j.b,_=N-1,k=F(w,j.b),S=j.K,j=j.w+(y>>j.b)*k;y<v;){var A=S,E=j,C=1;for(Wn(p,m,b,x-w,1,b,x);C<w;){var L=(C&~_)+N;L>w&&(L=w),(0,Xn[A[E++]>>8&15])(p,m+ +C,b,x+C-w,L-C,b,x+C),C=L}m+=w,x+=w,++y&_||(j+=k)}f!=d.nc&&r(u,c-g,u,c+(f-h-1)*g,g);break;case 1:for(g=p,v=m,w=(p=d.Ea)-(x=p&~(b=(m=1<<d.b)-1)),y=F(p,d.b),N=d.K,d=d.w+(h>>d.b)*y;h<f;){for(_=N,k=d,S=new B,j=v+x,A=v+p;v<j;)K(_[k++],S),$n(S,g,v,m,u,c),v+=m,c+=m;v<A&&(K(_[k++],S),$n(S,g,v,w,u,c),v+=w,c+=w),++h&b||(d+=y)}break;case 3:if(p==u&&m==c&&0<d.b){for(v=u,p=g=c+(f-h)*g-(x=(f-h)*F(d.Ea,d.b)),m=u,b=c,y=[],x=(w=x)-1;0<=x;--x)y[x]=m[b+x];for(x=w-1;0<=x;--x)v[p+x]=y[x];Kn(d,h,f,u,g,u,c)}else Kn(d,h,f,p,m,u,c)}c=s,u=i}u!=i&&r(s,i,c,u,o)}function Ne(e,n){var r=e.V,i=e.Ba+e.c*e.C,s=n-e.C;if(t(n<=e.l.o),t(16>=s),0<s){var a=e.l,o=e.Ta,l=e.Ua,c=a.width;if(we(e,s,r,i),s=l=[l],t((r=e.C)<(i=n)),t(a.v<a.va),i>a.o&&(i=a.o),r<a.j){var u=a.j-r;r=a.j,s[0]+=u*c}if(r>=i?r=0:(s[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var d=r.f.RGBA,h=(i=r.S,s=a.U,a=a.T,u=d.eb,d.A),f=a;for(d=d.fb+e.Ma*d.A;0<f--;){var p=o,m=l,g=s,y=u,v=d;switch(i){case Dr:Zn(p,m,g,y,v);break;case Or:er(p,m,g,y,v);break;case qr:er(p,m,g,y,v),Nr(y,v,0,g,1,0);break;case Fr:rr(p,m,g,y,v);break;case Mr:te(p,m,g,y,v,1);break;case Vr:te(p,m,g,y,v,1),Nr(y,v,0,g,1,0);break;case Ur:te(p,m,g,y,v,0);break;case Hr:te(p,m,g,y,v,0),Nr(y,v,1,g,1,0);break;case Br:tr(p,m,g,y,v);break;case Wr:tr(p,m,g,y,v),_r(y,v,g,1,0);break;case zr:nr(p,m,g,y,v);break;default:t(0)}l+=c,d+=h}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function _e(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function ke(e,n,r,i,s,a){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=mi[e.Z]);n<r;++n)mi[e.Z](o,l,i,s,i,s,a),o=i,l=s,s+=a;e.qd=o,e.rd=l}}function Se(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var s=e.l.width,a=r.ca,o=r.tb+s*i,l=e.V,c=e.Ba+e.c*i,u=e.gc;t(1==e.ab),t(3==u[0].hc),Qn(u[0],i,n,l,c,a,o),ke(r,i,n,a,o,s)}e.C=e.Ma=n}function je(e,n,r,i,s,a,o){var l=e.$/i,c=e.$%i,u=e.m,d=e.s,h=r+e.$,f=h;s=r+i*s;var p=r+i*a,m=280+d.ua,g=e.Pb?l:16777216,y=0<d.ua?d.Wa:null,v=d.wc,b=h<p?xe(d,c,l):null;t(e.C<a),t(p<=s);var x=!1;e:for(;;){for(;x||h<p;){var w=0;if(l>=g){var j=h-r;t((g=e).Pb),g.wd=g.m,g.xd=j,0<g.s.ua&&R(g.s.Wa,g.s.vb),g=l+Zr}if(c&v||(b=xe(d,c,l)),t(null!=b),b.Qb&&(n[h]=b.qb,x=!0),!x)if(S(u),b.jc){w=u,j=n;var A=h,E=b.pd[N(w)&Mn-1];t(b.jc),256>E.g?(k(w,w.u+E.g),j[A]=E.value,w=0):(k(w,w.u+E.g-256),t(256<=E.value),w=E.value),0==w&&(x=!0)}else w=ve(b.G[0],b.H[0],u);if(u.h)break;if(x||256>w){if(!x)if(b.nd)n[h]=(b.qb|w<<8)>>>0;else{if(S(u),x=ve(b.G[1],b.H[1],u),S(u),j=ve(b.G[2],b.H[2],u),A=ve(b.G[3],b.H[3],u),u.h)break;n[h]=(A<<24|x<<16|w<<8|j)>>>0}if(x=!1,++h,++c>=i&&(c=0,++l,null!=o&&l<=a&&!(l%16)&&o(e,l),null!=y))for(;f<h;)w=n[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w}else if(280>w){if(w=ge(w-256,u),j=ve(b.G[4],b.H[4],u),S(u),j=ye(i,j=ge(j,u)),u.h)break;if(h-r<j||s-h<w)break e;for(A=0;A<w;++A)n[h+A]=n[h+A-j];for(h+=w,c+=w;c>=i;)c-=i,++l,null!=o&&l<=a&&!(l%16)&&o(e,l);if(t(h<=s),c&v&&(b=xe(d,c,l)),null!=y)for(;f<h;)w=n[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w}else{if(!(w<m))break e;for(x=w-280,t(null!=y);f<h;)w=n[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w;w=h,t(!(x>>>(j=y).Xa)),n[w]=j.X[x],x=!0}x||t(u.h==_(u))}if(e.Pb&&u.h&&h<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&R(e.s.vb,e.s.Wa);else{if(u.h)break e;null!=o&&o(e,l>a?a:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Ae(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ee(){var t=new an;return null==t?null:(t.a=0,t.xb=pi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=G,$n=Y,Zn=J,er=X,tr=$,nr=Z,rr=ee,e.VP8LMapColor32b=Yn,e.VP8LMapColor8b=Jn,t)}function Ce(e,n,r,o,l){var c=1,h=[e],p=[n],m=o.m,g=o.s,y=null,v=0;e:for(;;){if(r)for(;c&&b(m,1);){var x=h,w=p,_=o,j=1,A=_.m,E=_.gc[_.ab],C=b(A,2);if(_.Oc&1<<C)c=0;else{switch(_.Oc|=1<<C,E.hc=C,E.Ea=x[0],E.nc=w[0],E.K=[null],++_.ab,t(4>=_.ab),C){case 0:case 1:E.b=b(A,3)+2,j=Ce(F(E.Ea,E.b),F(E.nc,E.b),0,_,E.K),E.K=E.K[0];break;case 3:var L,I=b(A,8)+1,T=16<I?0:4<I?1:2<I?2:3;if(x[0]=F(E.Ea,T),E.b=T,L=j=Ce(I,1,0,_,E.K)){var R,D=I,O=E,U=1<<(8>>O.b),B=s(U);if(null==B)L=0;else{var z=O.K[0],q=O.w;for(B[0]=O.K[0][0],R=1;R<1*D;++R)B[R]=M(z[q+R],B[R-1]);for(;R<4*U;++R)B[R]=0;O.K[0]=null,O.K[0]=B,L=1}}j=L;break;case 2:break;default:t(0)}c=j}}if(h=h[0],p=p[0],c&&b(m,1)&&!(c=1<=(v=b(m,4))&&11>=v)){o.a=3;break e}var V;if(V=c)t:{var H,W,G,K=o,Y=h,Q=p,J=v,X=r,$=K.m,Z=K.s,ee=[null],te=1,ne=0,re=$r[J];n:for(;;){if(X&&b($,1)){var ie=b($,3)+2,se=F(Y,ie),ae=F(Q,ie),oe=se*ae;if(!Ce(se,ae,0,K,ee))break n;for(ee=ee[0],Z.xc=ie,H=0;H<oe;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if($.h)break n;for(W=0;5>W;++W){var ce=Yr[W];!W&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var ue=a(te*re,d),de=te,he=a(de,f);if(null==he)var fe=null;else t(65536>=de),fe=he;var pe=s(ne);if(null==fe||null==pe||null==ue){K.a=1;break n}var me=ue;for(H=G=0;H<te;++H){var ge=fe[H],ye=ge.G,ve=ge.H,xe=0,we=1,Ne=0;for(W=0;5>W;++W){ce=Yr[W],ye[W]=me,ve[W]=G,!W&&0<J&&(ce+=1<<J);r:{var _e,ke=ce,Se=K,Ee=pe,Le=me,Ie=G,Te=0,Pe=Se.m,Re=b(Pe,1);if(i(Ee,0,0,ke),Re){var De=b(Pe,1)+1,Oe=b(Pe,1),Fe=b(Pe,0==Oe?1:8);Ee[Fe]=1,2==De&&(Ee[Fe=b(Pe,8)]=1);var Me=1}else{var Ue=s(19),Be=b(Pe,4)+4;if(19<Be){Se.a=3;var ze=0;break r}for(_e=0;_e<Be;++_e)Ue[Jr[_e]]=b(Pe,3);var qe=void 0,Ve=void 0,He=Se,We=Ue,Ge=ke,Ke=Ee,Ye=0,Qe=He.m,Je=8,Xe=a(128,d);i:for(;u(Xe,0,7,We,19);){if(b(Qe,1)){var $e=2+2*b(Qe,3);if((qe=2+b(Qe,$e))>Ge)break i}else qe=Ge;for(Ve=0;Ve<Ge&&qe--;){S(Qe);var Ze=Xe[0+(127&N(Qe))];k(Qe,Qe.u+Ze.g);var et=Ze.value;if(16>et)Ke[Ve++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Kr[nt],it=b(Qe,Gr[nt])+rt;if(Ve+it>Ge)break i;for(var st=tt?Je:0;0<it--;)Ke[Ve++]=st}}Ye=1;break i}Ye||(He.a=3),Me=Ye}(Me=Me&&!Pe.h)&&(Te=u(Le,Ie,8,Ee,ke)),Me&&0!=Te?ze=Te:(Se.a=3,ze=0)}if(0==ze)break n;if(we&&1==Qr[W]&&(we=0==me[G].g),xe+=me[G].g,G+=ze,3>=W){var at,ot=pe[0];for(at=1;at<ce;++at)pe[at]>ot&&(ot=pe[at]);Ne+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(ye[3][ve[3]+0].value<<24|ye[1][ve[1]+0].value<<16|ye[2][ve[2]+0].value)>>>0,0==xe&&256>ye[0][ve[0]+0].value&&(ge.Qb=1,ge.qb+=ye[0][ve[0]+0].value<<8)),ge.jc=!ge.Qb&&6>Ne,ge.jc){var lt,ct=ge;for(lt=0;lt<Mn;++lt){var ut=lt,dt=ct.pd[ut],ht=ct.G[0][ct.H[0]+ut];256<=ht.value?(dt.g=ht.g+256,dt.value=ht.value):(dt.g=0,dt.value=0,ut>>=be(ht,8,dt),ut>>=be(ct.G[1][ct.H[1]+ut],16,dt),ut>>=be(ct.G[2][ct.H[2]+ut],0,dt),be(ct.G[3][ct.H[3]+ut],24,dt))}}}Z.vc=ee,Z.Wb=te,Z.Ya=fe,Z.yc=ue,V=1;break t}V=0}if(!(c=V)){o.a=3;break e}if(0<v){if(g.ua=1<<v,!P(g.Wa,v)){o.a=1,c=0;break e}}else g.ua=0;var ft=o,pt=h,mt=p,gt=ft.s,yt=gt.xc;if(ft.c=pt,ft.i=mt,gt.md=F(pt,yt),gt.wc=0==yt?-1:(1<<yt)-1,r){o.xb=fi;break e}if(null==(y=s(h*p))){o.a=1,c=0;break e}c=(c=je(o,y,0,h,p,p,null))&&!m.h;break e}return c?(null!=l?l[0]=y:(t(null==y),t(r)),o.$=0,r||Ae(g)):Ae(g),c}function Le(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=s(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ie(e,n){var r=e.C,i=n-r,s=e.V,a=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var o=16<i?16:i,l=e.l.ma,c=e.l.width,u=c*o,d=l.ca,h=l.tb+c*r,f=e.Ta,p=e.Ua;we(e,o,s,a),Sr(f,p,d,h,u),ke(l,r,r+o,d,h,c),i-=o,s+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Te(){this.ub=this.yd=this.td=this.Rb=0}function Pe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Re(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function De(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],s=0;s<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));s++)e(t[s],n+1,r)}(e,0,[3,11]),e}()}function Oe(){this.jb=s(3),this.Wc=o([4,8],De),this.Xc=o([4,17],De)}function Fe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Me(){this.ld=this.La=this.dd=this.tc=0}function Ue(){this.Na=this.la=0}function Be(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ze(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Me),this.Y=0,this.ya=Array(new ze),this.aa=0,this.l=new Ge}function Ve(){this.y=s(16),this.f=s(8),this.ea=s(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new x,this.Od=new Te,this.Kc=new Pe,this.ed=new Fe,this.Qa=new Re,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,x),this.ia=0,this.pb=a(4,Be),this.Pa=new Oe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ve),this.Hd=0,this.rb=Array(new Ue),this.sb=0,this.wa=Array(new Me),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ze),this.L=this.aa=0,this.gd=o([4,2],Me),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function We(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ke(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ni||(ni=Xe)),e}function Ye(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Qe(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,a=n.ha;if(4>a)return Ye(e,7,"Truncated header.");var o=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ye(e,4,"Frame not displayable.");s+=3,a-=3;var c=e.Kc;if(l.Rb){if(7>a)return Ye(e,7,"cannot parse picture header");if(!Qe(r,s,a))return Ye(e,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,a-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,i(o.Zb,0,0,o.Zb.length),i(o.Lb,0,0,o.Lb)}if(l.ub>a)return Ye(e,7,"bad partition length");p(o=e.m,r,s,l.ub),s+=l.ub,a-=l.ub,l.Rb&&(c.Ld=A(o),c.Kd=A(o)),c=e.Qa;var u,d=e.Pa;if(t(null!=o),t(null!=c),c.Cb=A(o),c.Cb){if(c.Bb=A(o),A(o)){for(c.Fb=A(o),u=0;4>u;++u)c.Zb[u]=A(o)?g(o,7):0;for(u=0;4>u;++u)c.Lb[u]=A(o)?g(o,6):0}if(c.Bb)for(u=0;3>u;++u)d.jb[u]=A(o)?m(o,8):255}else c.Bb=0;if(o.Ka)return Ye(e,3,"cannot parse segment header");if((c=e.ed).zd=A(o),c.Tb=m(o,6),c.wb=m(o,3),c.Pc=A(o),c.Pc&&A(o)){for(d=0;4>d;++d)A(o)&&(c.vd[d]=g(o,6));for(d=0;4>d;++d)A(o)&&(c.od[d]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ye(e,3,"cannot parse filter header");var h=a;if(a=u=s,s=u+h,c=h,e.Xb=(1<<m(e.m,2))-1,h<3*(d=e.Xb))r=7;else{for(u+=3*d,c-=3*d,h=0;h<d;++h){var f=r[a+0]|r[a+1]<<8|r[a+2]<<16;f>c&&(f=c),p(e.Jc[+h],r,u,f),u+=f,c-=f,a+=3}p(e.Jc[+d],r,u,c),r=u<s?0:5}if(0!=r)return Ye(e,r,"cannot parse partitions");for(r=m(u=e.m,7),a=A(u)?g(u,4):0,s=A(u)?g(u,4):0,c=A(u)?g(u,4):0,d=A(u)?g(u,4):0,u=A(u)?g(u,4):0,h=e.Qa,f=0;4>f;++f){if(h.Cb){var y=h.Zb[f];h.Fb||(y+=r)}else{if(0<f){e.pb[f]=e.pb[0];continue}y=r}var v=e.pb[f];v.Sc[0]=ei[We(y+a,127)],v.Sc[1]=ti[We(y+0,127)],v.Eb[0]=2*ei[We(y+s,127)],v.Eb[1]=101581*ti[We(y+c,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=ei[We(y+d,117)],v.Qc[1]=ti[We(y+u,127)],v.lc=y+u}if(!l.Rb)return Ye(e,4,"Not a key frame.");for(A(o),l=e.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(s=0;3>s;++s)for(c=0;11>c;++c)d=E(o,li[r][a][s][c])?m(o,8):ai[r][a][s][c],l.Wc[r][a].Yb[s][c]=d;for(a=0;17>a;++a)l.Xc[r][a]=l.Wc[r][ci[a]]}return e.kc=A(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function Xe(e,t,n,r,i,s,a){var o=t[i].Yb[n];for(n=0;16>i;++i){if(!E(e,o[n+0]))return i;for(;!E(e,o[n+1]);)if(o=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(E(e,o[n+2])){var c=e,u=0;if(E(c,(h=o)[(d=n)+3]))if(E(c,h[d+6])){for(o=0,d=2*(u=E(c,h[d+8]))+(h=E(c,h[d+9+u])),u=0,h=ri[d];h[o];++o)u+=u+E(c,h[o]);u+=3+(8<<d)}else E(c,h[d+7])?(u=7+2*E(c,165),u+=E(c,145)):u=5+E(c,159);else u=E(c,h[d+4])?3+E(c,h[d+5]):2;o=l[2]}else u=1,o=l[1];l=a+ii[i],0>(c=e).b&&j(c);var d,h=c.b,f=(d=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(d+1&f)<<h,s[l]=((u^f)-f)*r[(0<i)+0]}return 16}function $e(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function et(e,t,n,r,i,s){Ze(e,t,0,n,r+i),Ze(e,t,1,n,r+s),Ze(e,t,2,n,r-s),Ze(e,t,3,n,r-i)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var i,a=0,o=s(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],u=(35468*e[t+4]>>16)-tt(e[t+12]),d=tt(e[t+4])+(35468*e[t+12]>>16);o[a+0]=l+d,o[a+1]=c+u,o[a+2]=c-u,o[a+3]=l-d,a+=4,t++}for(i=a=0;4>i;++i)l=(e=o[a+0]+4)+o[a+8],c=e-o[a+8],u=(35468*o[a+4]>>16)-tt(o[a+12]),Ze(n,r,0,0,l+(d=tt(o[a+4])+(35468*o[a+12]>>16))),Ze(n,r,1,0,c+u),Ze(n,r,2,0,c-u),Ze(n,r,3,0,l-d),a++,r+=32}function rt(e,t,n,r){var i=e[t+0]+4,s=35468*e[t+4]>>16,a=tt(e[t+4]),o=35468*e[t+1]>>16;et(n,r,0,i+a,e=tt(e[t+1]),o),et(n,r,1,i+s,e,o),et(n,r,2,i-s,e,o),et(n,r,3,i-a,e,o)}function it(e,t,n,r,i){nt(e,t,n,r),i&&nt(e,t+16,n,r+4)}function st(e,t,n,r){sr(e,t+0,n,r,1),sr(e,t+32,n,r+128,1)}function at(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)Ze(n,r,t,i,e)}function ot(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var i,a=s(16);for(i=0;4>i;++i){var o=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],u=e[t+0+i]-e[t+12+i];a[0+i]=o+l,a[8+i]=o-l,a[4+i]=u+c,a[12+i]=u-c}for(i=0;4>i;++i)o=(e=a[0+4*i]+3)+a[3+4*i],l=a[1+4*i]+a[2+4*i],c=a[1+4*i]-a[2+4*i],u=e-a[3+4*i],n[r+0]=o+l>>3,n[r+16]=u+c>>3,n[r+32]=o-l>>3,n[r+48]=u-c>>3,r+=64}function ct(e,t,n){var r,i=t-32,s=Pr,a=255-e[i-1];for(r=0;r<n;++r){var o,l=s,c=a+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[i+o]];t+=32}}function ut(e,t){ct(e,t,4)}function dt(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function pt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function mt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];mt(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];mt(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];mt(r>>4,e,t)}function bt(e,t){mt(128,e,t)}function xt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,i=t-32;for(i=new Uint8Array([xt(e[i-1],e[i+0],e[i+1]),xt(e[i+0],e[i+1],e[i+2]),xt(e[i+1],e[i+2],e[i+3]),xt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function Nt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],s=e[t-1+96];C(e,t+0,16843009*xt(e[t-1-32],n,r)),C(e,t+32,16843009*xt(n,r,i)),C(e,t+64,16843009*xt(r,i,s)),C(e,t+96,16843009*xt(i,s,s))}function _t(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=xt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=xt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=xt(s,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=xt(a,s,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=xt(o,a,s),e[t+3+32]=e[t+2+0]=xt(l,o,a),e[t+3+0]=xt(c,l,o)}function St(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],s=e[t+4-32],a=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=xt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=xt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=xt(r,i,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=xt(i,s,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=xt(s,a,o),e[t+3+64]=e[t+2+96]=xt(a,o,l),e[t+3+96]=xt(o,l,l)}function jt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=s+a+1>>1,e[t+1+0]=e[t+2+64]=a+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=xt(i,r,n),e[t+0+64]=xt(r,n,s),e[t+0+32]=e[t+1+96]=xt(n,s,a),e[t+1+32]=e[t+2+96]=xt(s,a,o),e[t+2+32]=e[t+3+96]=xt(a,o,l),e[t+3+32]=xt(o,l,c)}function At(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],s=e[t+3-32],a=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+s+1>>1,e[t+3+0]=e[t+2+64]=s+a+1>>1,e[t+0+32]=xt(n,r,i),e[t+1+32]=e[t+0+96]=xt(r,i,s),e[t+2+32]=e[t+1+96]=xt(i,s,a),e[t+3+32]=e[t+2+96]=xt(s,a,o),e[t+3+64]=xt(a,o,l),e[t+3+96]=xt(o,l,c)}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+s+1>>1,e[t+1+0]=xt(n,r,i),e[t+3+0]=e[t+1+32]=xt(r,i,s),e[t+3+32]=e[t+1+64]=xt(i,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1+96],a=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+a+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=s+i+1>>1,e[t+3+0]=xt(o,l,c),e[t+2+0]=xt(a,o,l),e[t+1+0]=e[t+3+32]=xt(n,a,o),e[t+1+32]=e[t+3+64]=xt(r,n,a),e[t+1+64]=e[t+3+96]=xt(i,r,n),e[t+1+96]=xt(s,i,r)}function Lt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function It(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Tt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Pt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Tt(r>>4,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Tt(r>>3,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Tt(r>>3,e,t)}function Ot(e,t){Tt(128,e,t)}function Ft(e,t,n){var r=e[t-n],i=e[t+0],s=3*(i-r)+Ir[1020+e[t-2*n]-e[t+n]],a=Tr[112+(s+4>>3)];e[t-n]=Pr[255+r+Tr[112+(s+3>>3)]],e[t+0]=Pr[255+i-a]}function Mt(e,t,n,r){var i=e[t+0],s=e[t+n];return Rr[255+e[t-2*n]-e[t-n]]>r||Rr[255+s-i]>r}function Ut(e,t,n,r){return 4*Rr[255+e[t-n]-e[t+0]]+Rr[255+e[t-2*n]-e[t+n]]<=r}function Bt(e,t,n,r,i){var s=e[t-3*n],a=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],u=e[t+2*n],d=e[t+3*n];return 4*Rr[255+o-l]+Rr[255+a-c]>r?0:Rr[255+e[t-4*n]-s]<=i&&Rr[255+s-a]<=i&&Rr[255+a-o]<=i&&Rr[255+d-u]<=i&&Rr[255+u-c]<=i&&Rr[255+c-l]<=i}function zt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Ut(e,t+r,n,i)&&Ft(e,t+r,n)}function qt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Ut(e,t+r*n,1,i)&&Ft(e,t+r*n,1)}function Vt(e,t,n,r){var i;for(i=3;0<i;--i)zt(e,t+=4*n,n,r)}function Ht(e,t,n,r){var i;for(i=3;0<i;--i)qt(e,t+=4,n,r)}function Wt(e,t,n,r,i,s,a,o){for(s=2*s+1;0<i--;){if(Bt(e,t,n,s,a))if(Mt(e,t,n,o))Ft(e,t,n);else{var l=e,c=t,u=n,d=l[c-2*u],h=l[c-u],f=l[c+0],p=l[c+u],m=l[c+2*u],g=27*(v=Ir[1020+3*(f-h)+Ir[1020+d-p]])+63>>7,y=18*v+63>>7,v=9*v+63>>7;l[c-3*u]=Pr[255+l[c-3*u]+v],l[c-2*u]=Pr[255+d+y],l[c-u]=Pr[255+h+g],l[c+0]=Pr[255+f-g],l[c+u]=Pr[255+p-y],l[c+2*u]=Pr[255+m-v]}t+=r}}function Gt(e,t,n,r,i,s,a,o){for(s=2*s+1;0<i--;){if(Bt(e,t,n,s,a))if(Mt(e,t,n,o))Ft(e,t,n);else{var l=e,c=t,u=n,d=l[c-u],h=l[c+0],f=l[c+u],p=Tr[112+(4+(m=3*(h-d))>>3)],m=Tr[112+(m+3>>3)],g=p+1>>1;l[c-2*u]=Pr[255+l[c-2*u]+g],l[c-u]=Pr[255+d+m],l[c+0]=Pr[255+h-p],l[c+u]=Pr[255+f-g]}t+=r}}function Kt(e,t,n,r,i,s){Wt(e,t,n,1,16,r,i,s)}function Yt(e,t,n,r,i,s){Wt(e,t,1,n,16,r,i,s)}function Qt(e,t,n,r,i,s){var a;for(a=3;0<a;--a)Gt(e,t+=4*n,n,1,16,r,i,s)}function Jt(e,t,n,r,i,s){var a;for(a=3;0<a;--a)Gt(e,t+=4,1,n,16,r,i,s)}function Xt(e,t,n,r,i,s,a,o){Wt(e,t,i,1,8,s,a,o),Wt(n,r,i,1,8,s,a,o)}function $t(e,t,n,r,i,s,a,o){Wt(e,t,1,i,8,s,a,o),Wt(n,r,1,i,8,s,a,o)}function Zt(e,t,n,r,i,s,a,o){Gt(e,t+4*i,i,1,8,s,a,o),Gt(n,r+4*i,i,1,8,s,a,o)}function en(e,t,n,r,i,s,a,o){Gt(e,t+4,1,i,8,s,a,o),Gt(n,r+4,1,i,8,s,a,o)}function tn(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new D,this.vb=new D,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new d}function an(){this.xb=this.a=0,this.l=new Ge,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=a(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,i,s,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)i[s+t]=e+n[r+t]&255,e=i[s+t]}function cn(e,t,n,r,i,s,a){var o;if(null==e)ln(null,null,n,r,i,s,a);else for(o=0;o<a;++o)i[s+o]=e[t+o]+n[r+o]&255}function un(e,t,n,r,i,s,a){if(null==e)ln(null,null,n,r,i,s,a);else{var o,l=e[t+0],c=l,u=l;for(o=0;o<a;++o)c=u+(l=e[t+o])-c,u=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,i[s+o]=u}}function dn(e,n,i,a){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=a||i+a>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new on,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=s(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var u=e.Fa,d=e.P,h=e.qc,f=e.mb,p=e.nb,m=d+1,g=h-1,v=c.l;if(t(null!=u&&null!=f&&null!=n),mi[0]=null,mi[1]=ln,mi[2]=cn,mi[3]=un,c.ca=f,c.tb=p,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&u[d+0],c.Z=u[d+0]>>2&3,c.Lc=u[d+0]>>4&3,d=u[d+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||d)n=0;else if(v.put=fe,v.ac=he,v.bc=pe,v.ma=c,v.width=n.width,v.height=n.height,v.Da=n.Da,v.v=n.v,v.va=n.va,v.j=n.j,v.o=n.o,c.$a)e:{t(1==c.$a),n=Ee();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,y(n.m,u,m,g),!Ce(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&_e(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Le(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:a=l-i}t(null!=e.ga),t(i+a<=l);e:{if(n=(u=e.ga).c,l=u.l.o,0==u.$a){if(m=e.rc,g=e.Vc,v=e.Fa,d=e.P+1+i*n,h=e.mb,f=e.nb+i*n,t(d<=e.P+e.qc),0!=u.Z)for(t(null!=mi[u.Z]),c=0;c<a;++c)mi[u.Z](m,g,v,d,h,f,n),m=h,g=f,f+=n,d+=n;else for(c=0;c<a;++c)r(h,f,v,d,n),m=h,g=f,f+=n,d+=n;e.rc=m,e.Vc=g}else{if(t(null!=u.mc),n=i+a,t(null!=(c=u.mc)),t(n<=c.i),c.C>=n)n=1;else if(u.ic||gn(),u.ic){u=c.V,m=c.Ba,g=c.c;var b=c.i,x=(v=1,d=c.$/g,h=c.$%g,f=c.m,p=c.s,c.$),w=g*b,N=g*n,k=p.wc,j=x<N?xe(p,h,d):null;t(x<=w),t(n<=b),t(_e(p));t:for(;;){for(;!f.h&&x<N;){if(h&k||(j=xe(p,h,d)),t(null!=j),S(f),256>(b=ve(j.G[0],j.H[0],f)))u[m+x]=b,++x,++h>=g&&(h=0,++d<=n&&!(d%16)&&Se(c,d));else{if(!(280>b)){v=0;break t}b=ge(b-256,f);var A,E=ve(j.G[4],j.H[4],f);if(S(f),!(x>=(E=ye(g,E=ge(E,f)))&&w-x>=b)){v=0;break t}for(A=0;A<b;++A)u[m+x+A]=u[m+x+A-E];for(x+=b,h+=b;h>=g;)h-=g,++d<=n&&!(d%16)&&Se(c,d);x<N&&h&k&&(j=xe(p,h,d))}t(f.h==_(f))}Se(c,d>n?n:d);break t}!v||f.h&&x<w?(v=0,c.a=f.h?5:3):c.$=x,n=v}else n=je(c,c.V,c.Ba,c.c,c.i,n,Ie);if(!n){a=0;break e}}i+a>=l&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*o}function hn(e,t,n,r,i,s){for(;0<i--;){var a,o=e,l=t+(n?1:0),c=e,u=t+(n?0:3);for(a=0;a<r;++a){var d=c[u+4*a];255!=d&&(d*=32897,o[l+4*a+0]=o[l+4*a+0]*d>>23,o[l+4*a+1]=o[l+4*a+1]*d>>23,o[l+4*a+2]=o[l+4*a+2]*d>>23)}t+=s}}function fn(e,t,n,r,i){for(;0<r--;){var s;for(s=0;s<n;++s){var a=e[t+2*s+0],o=15&(c=e[t+2*s+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*s+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,e[t+2*s+1]=240&c|o}t+=i}}function pn(e,t,n,r,i,s,a,o){var l,c,u=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var d=e[t+l];s[a+4*l]=d,u&=d}t+=n,a+=o}return 255!=u}function mn(e,t,n,r,i){var s;for(s=0;s<i;++s)n[r+s]=e[t+s]>>8}function gn(){Nr=hn,_r=fn,kr=pn,Sr=mn}function yn(n,r,i){e[n]=function(e,n,s,a,o,l,c,u,d,h,f,p,m,g,y,v,b){var x,w=b-1>>1,N=o[l+0]|c[u+0]<<16,_=d[h+0]|f[p+0]<<16;t(null!=e);var k=3*N+_+131074>>2;for(r(e[n+0],255&k,k>>16,m,g),null!=s&&(k=3*_+N+131074>>2,r(s[a+0],255&k,k>>16,y,v)),x=1;x<=w;++x){var S=o[l+x]|c[u+x]<<16,j=d[h+x]|f[p+x]<<16,A=N+S+_+j+524296,E=A+2*(S+_)>>3;k=E+N>>1,N=(A=A+2*(N+j)>>3)+S>>1,r(e[n+2*x-1],255&k,k>>16,m,g+(2*x-1)*i),r(e[n+2*x-0],255&N,N>>16,m,g+(2*x-0)*i),null!=s&&(k=A+_>>1,N=E+j>>1,r(s[a+2*x-1],255&k,k>>16,y,v+(2*x-1)*i),r(s[a+2*x+0],255&N,N>>16,y,v+(2*x+0)*i)),N=S,_=j}1&b||(k=3*N+_+131074>>2,r(e[n+b-1],255&k,k>>16,m,g+(b-1)*i),null!=s&&(k=3*_+N+131074>>2,r(s[a+b-1],255&k,k>>16,y,v+(b-1)*i)))}}function vn(){gi[Dr]=yi,gi[Or]=bi,gi[Fr]=vi,gi[Mr]=xi,gi[Ur]=wi,gi[Br]=Ni,gi[zr]=_i,gi[qr]=bi,gi[Vr]=xi,gi[Hr]=wi,gi[Wr]=Ni}function bn(e){return e&~Ci?0>e?0:255:e>>Ei}function xn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Nn(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function _n(e,t,n,r,i){r[i+0]=xn(e,n),r[i+1]=wn(e,t,n),r[i+2]=Nn(e,t)}function kn(e,t,n,r,i){r[i+0]=Nn(e,t),r[i+1]=wn(e,t,n),r[i+2]=xn(e,n)}function Sn(e,t,n,r,i){var s=wn(e,t,n);t=s<<3&224|Nn(e,t)>>3,r[i+0]=248&xn(e,n)|s>>5,r[i+1]=t}function jn(e,t,n,r,i){var s=240&Nn(e,t)|15;r[i+0]=240&xn(e,n)|wn(e,t,n)>>4,r[i+1]=s}function An(e,t,n,r,i){r[i+0]=255,_n(e,t,n,r,i+1)}function En(e,t,n,r,i){kn(e,t,n,r,i),r[i+3]=255}function Cn(e,t,n,r,i){_n(e,t,n,r,i),r[i+3]=255}function We(e,t){return 0>e?0:e>t?t:e}function Ln(t,n,r){e[t]=function(e,t,i,s,a,o,l,c,u){for(var d=c+(-2&u)*r;c!=d;)n(e[t+0],i[s+0],a[o+0],l,c),n(e[t+1],i[s+0],a[o+0],l,c+r),t+=2,++s,++o,c+=2*r;1&u&&n(e[t+0],i[s+0],a[o+0],l,c)}}function In(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Tn(e,t,n,r,i){switch(e>>>30){case 3:sr(t,n,r,i,0);break;case 2:ar(t,n,r,i);break;case 1:lr(t,n,r,i)}}function Pn(e,t){var n,s,a=t.M,o=t.Nb,l=e.oc,c=e.pc+40,u=e.oc,d=e.pc+584,h=e.oc,f=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[d+32*n-1]=129,h[f+32*n-1]=129;for(0<a?l[c-1-32]=u[d-1-32]=h[f-1-32]=129:(i(l,c-32-1,127,21),i(u,d-32-1,127,9),i(h,f-32-1,127,9)),s=0;s<e.za;++s){var p=t.ya[t.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(u,d+32*n-4,u,d+32*n+4,4),r(h,f+32*n-4,h,f+32*n+4,4)}var m=e.Gd,g=e.Hd+s,y=p.ad,v=p.Hc;if(0<a&&(r(l,c-32,m[g].y,0,16),r(u,d-32,m[g].f,0,8),r(h,f-32,m[g].ea,0,8)),p.Za){var b=l,x=c-32+16;for(0<a&&(s>=e.za-1?i(b,x,m[g].y[15],4):r(b,x,m[g+1].y,0,4)),n=0;4>n;n++)b[x+128+n]=b[x+256+n]=b[x+384+n]=b[x+0+n];for(n=0;16>n;++n,v<<=2)b=l,x=c+Fi[n],di[p.Ob[n]](b,x),Tn(v,y,16*+n,b,x)}else if(b=In(s,a,p.Ob[0]),ui[b](l,c),0!=v)for(n=0;16>n;++n,v<<=2)Tn(v,y,16*+n,l,c+Fi[n]);for(n=p.Gc,b=In(s,a,p.Dd),hi[b](u,d),hi[b](h,f),v=y,b=u,x=d,255&(p=0|n)&&(170&p?or(v,256,b,x):cr(v,256,b,x)),p=h,v=f,255&(n>>=8)&&(170&n?or(y,320,p,v):cr(y,320,p,v)),a<e.Ub-1&&(r(m[g].y,0,l,c+480,16),r(m[g].f,0,u,d+224,8),r(m[g].ea,0,h,f+224,8)),n=8*o*e.B,m=e.sa,g=e.ta+16*s+16*o*e.R,y=e.qa,p=e.ra+8*s+n,v=e.Ha,b=e.Ia+8*s+n,n=0;16>n;++n)r(m,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(y,p+n*e.B,u,d+32*n,8),r(v,b+n*e.B,h,f+32*n,8)}}function Rn(e,r,i,s,a,o,l,c,u){var d=[0],h=[0],f=0,p=null!=u?u.kd:0,m=null!=u?u:new nn;if(null==e||12>i)return 7;m.data=e,m.w=r,m.ha=i,r=[r],i=[i],m.gb=[m.gb];e:{var g=r,v=i,b=m.gb;if(t(null!=e),t(null!=v),t(null!=b),b[0]=0,12<=v[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){b=3;break e}var x=T(e,g[0]+4);if(12>x||4294967286<x){b=3;break e}if(p&&x>v[0]-8){b=7;break e}b[0]=x,g[0]+=12,v[0]-=12}b=0}if(0!=b)return b;for(x=0<m.gb[0],i=i[0];;){e:{var N=e;v=r,b=i;var _=d,k=h,S=g=[0];if((E=f=[f])[0]=0,8>b[0])b=7;else{if(!n(N,v[0],"VP8X")){if(10!=T(N,v[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var j=T(N,v[0]+8),A=1+I(N,v[0]+12);if(2147483648<=A*(N=1+I(N,v[0]+15))){b=3;break e}null!=S&&(S[0]=j),null!=_&&(_[0]=A),null!=k&&(k[0]=N),v[0]+=18,b[0]-=18,E[0]=1}b=0}}if(f=f[0],g=g[0],0!=b)return b;if(v=!!(2&g),!x&&f)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=v),null!=c&&(c[0]=0),l=d[0],g=h[0],f&&v&&null==u){b=0;break}if(4>i){b=7;break}if(x&&f||!x&&!f&&!n(e,r[0],"ALPH")){i=[i],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{j=e,b=r,x=i;var E=m.gb;_=m.na,k=m.P,S=m.Sa,A=22,t(null!=j),t(null!=x),N=b[0];var C=x[0];for(t(null!=_),t(null!=S),_[0]=null,k[0]=null,S[0]=0;;){if(b[0]=N,x[0]=C,8>C){b=7;break e}var L=T(j,N+4);if(4294967286<L){b=3;break e}var P=8+L+1&-2;if(A+=P,0<E&&A>E){b=3;break e}if(!n(j,N,"VP8 ")||!n(j,N,"VP8L")){b=0;break e}if(C[0]<P){b=7;break e}n(j,N,"ALPH")||(_[0]=j,k[0]=N+8,S[0]=L),N+=P,C-=P}}if(i=i[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}i=[i],m.Ja=[m.Ja],m.xa=[m.xa];e:if(E=e,b=r,x=i,_=m.gb[0],k=m.Ja,S=m.xa,j=b[0],N=!n(E,j,"VP8 "),A=!n(E,j,"VP8L"),t(null!=E),t(null!=x),t(null!=k),t(null!=S),8>x[0])b=7;else{if(N||A){if(E=T(E,j+4),12<=_&&E>_-12){b=3;break e}if(p&&E>x[0]-8){b=7;break e}k[0]=E,b[0]+=8,x[0]-=8,S[0]=A}else S[0]=5<=x[0]&&47==E[j+0]&&!(E[j+4]>>5),k[0]=x[0];b=0}if(i=i[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==c||v||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>i){b=7;break}c=l,p=g,v=o,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(x=[0],E=[0],_=[0],y(k=new w,e,r,i),me(k,x,E,_)?(null!=c&&(c[0]=x[0]),null!=p&&(p[0]=E[0]),null!=v&&(v[0]=_[0]),e=1):e=0):e=0}else{if(10>i){b=7;break}c=g,null==e||10>i||!Qe(e,r+3,i-3)?e=0:(p=e[r+0]|e[r+1]<<8|e[r+2]<<16,v=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=m.Ja||!v||!e?e=0:(l&&(l[0]=v),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],f&&(d[0]!=l||h[0]!=g))return 3;null!=u&&(u[0]=m,u.offset=r-u.w,t(4294967286>r-u.w),t(u.offset==u.ha-i));break}return 0==b||7==b&&f&&null==u?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=s&&(s[0]=l),null!=a&&(a[0]=g),0):b}function Dn(e,t,n){var r=t.width,i=t.height,s=0,a=0,o=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,s=e.v,a=e.j,11>n||(s&=-2,a&=-2),0>s||0>a||0>=o||0>=l||s+o>r||a+l>i))return 0;if(t.v=s,t.j=a,t.va=s+o,t.o=a+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!O(o,l,n=[e.ib],s=[e.hb]))return 0;t.ib=n[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function On(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Fn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,a=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=i||0>=a||o+i>e||l+a>t)return 2;e=i,t=a}if(n.da){if(!O(e,t,i=[n.ib],a=[n.hb]))return 2;e=i[0],t=a[0]}}r.width=e,r.height=t;e:{var c=r.width,u=r.height;if(e=r.S,0>=c||0>=u||!(e>=Dr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=a=i=t=0;var d=(l=c*Bi[e])*u;if(11>e||(a=(u+1)/2*(t=(c+1)/2),12==e&&(o=(i=c)*u)),null==(u=s(d+2*a+o))){e=1;break e}r.sd=u,11>e?((c=r.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=d):((c=r.f.kb).y=u,c.O=0,c.fa=l,c.Fd=d,c.f=u,c.N=0+d,c.Ab=t,c.Cd=a,c.ea=u,c.W=0+d+a,c.Db=t,c.Ed=a,12==e&&(c.F=u,c.J=0+d+2*a),c.Tc=o,c.lb=i)}if(t=1,i=r.S,a=r.width,o=r.height,i>=Dr&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+a<=e.size,t&=l>=a*Bi[i],t&=null!=e.eb;else{e=r.f.kb,l=(a+1)/2,d=(o+1)/2,c=Math.abs(e.fa),u=Math.abs(e.Ab);var h=Math.abs(e.Db),f=Math.abs(e.lb),p=f*(o-1)+a;t&=c*(o-1)+a<=e.Fd,t&=u*(d-1)+l<=e.Cd,t=(t&=h*(d-1)+l<=e.Ed)&c>=a&u>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=f>=a,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=On(r)),e}var Mn=64,Un=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bn=24,zn=32,qn=8,Vn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];U("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return z(z(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return z(e,t[n-1])},e.Predictor7=function(e,t,n){return z(e,t[n+0])},e.Predictor8=function(e,t,n){return z(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return z(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return z(z(e,t[n-1]),z(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=H(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(r>>16&255,e>>16&255,t>>16&255)+H(r>>8&255,e>>8&255,t>>8&255)+H(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(q((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|q((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|q((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(V((e=z(e,t[n+0]))>>24&255,r>>24&255)<<24|V(e>>16&255,r>>16&255)<<16|V(e>>8&255,r>>8&255)<<8|V(255&e,255&r))>>>0};var Hn=e.PredictorAdd0;e.PredictorAdd1=W,U("Predictor2","PredictorAdd2"),U("Predictor3","PredictorAdd3"),U("Predictor4","PredictorAdd4"),U("Predictor5","PredictorAdd5"),U("Predictor6","PredictorAdd6"),U("Predictor7","PredictorAdd7"),U("Predictor8","PredictorAdd8"),U("Predictor9","PredictorAdd9"),U("Predictor10","PredictorAdd10"),U("Predictor11","PredictorAdd11"),U("Predictor12","PredictorAdd12"),U("Predictor13","PredictorAdd13");var Wn=e.PredictorAdd2;Q("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),Q("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Gn,Kn=e.ColorIndexInverseTransform,Yn=e.MapARGB,Qn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,Zn,er,tr,nr,rr,ir,sr,ar,or,lr,cr,ur,dr,hr,fr,pr,mr,gr,yr,vr,br,xr,wr,Nr,_r,kr,Sr,jr=s(511),Ar=s(2041),Er=s(225),Cr=s(767),Lr=0,Ir=Ar,Tr=Er,Pr=Cr,Rr=jr,Dr=0,Or=1,Fr=2,Mr=3,Ur=4,Br=5,zr=6,qr=7,Vr=8,Hr=9,Wr=10,Gr=[2,3,7],Kr=[3,3,11],Yr=[280,256,256,256,40],Qr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$r=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ti=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ri=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ii=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],si=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ci=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ui=[],di=[],hi=[],fi=1,pi=2,mi=[],gi=[];yn("UpsampleRgbLinePair",_n,3),yn("UpsampleBgrLinePair",kn,3),yn("UpsampleRgbaLinePair",Cn,4),yn("UpsampleBgraLinePair",En,4),yn("UpsampleArgbLinePair",An,4),yn("UpsampleRgba4444LinePair",jn,2),yn("UpsampleRgb565LinePair",Sn,2);var yi=e.UpsampleRgbLinePair,vi=e.UpsampleBgrLinePair,bi=e.UpsampleRgbaLinePair,xi=e.UpsampleBgraLinePair,wi=e.UpsampleArgbLinePair,Ni=e.UpsampleRgba4444LinePair,_i=e.UpsampleRgb565LinePair,ki=16,Si=1<<ki-1,ji=-227,Ai=482,Ei=6,Ci=(256<<Ei)-1,Li=0,Ii=s(256),Ti=s(256),Pi=s(256),Ri=s(256),Di=s(Ai-ji),Oi=s(Ai-ji);Ln("YuvToRgbRow",_n,3),Ln("YuvToBgrRow",kn,3),Ln("YuvToRgbaRow",Cn,4),Ln("YuvToBgraRow",En,4),Ln("YuvToArgbRow",An,4),Ln("YuvToRgba4444Row",jn,2),Ln("YuvToRgb565Row",Sn,2);var Fi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Mi=[0,2,8],Ui=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,o,l,c){var u=Or,d=new tn,h=new ae;d.ba=h,h.S=u,h.width=[h.width],h.height=[h.height];var f=h.width,p=h.height,m=new oe;if(null==m||null==e)var g=2;else t(null!=m),g=Rn(e,n,o,m.width,m.height,m.Pd,m.Qd,m.format,null);if(0!=g?f=0:(null!=f&&(f[0]=m.width[0]),null!=p&&(p[0]=m.height[0]),f=1),f){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new Ge,(c=new nn).data=e,c.w=n,c.ha=o,c.kd=1,n=[0],t(null!=c),(0==(e=Rn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=d),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=fe,l.ac=he,l.bc=pe,l.ma=d,c.xa){if(null==(e=Ee())){d=1;break e}if(function(e,n){var r=[0],i=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,y(e.m,n.data,n.w,n.ha),!me(e.m,r,i,s)){e.a=3;break t}if(e.xb=pi,n.width=r[0],n.height=i[0],!Ce(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Fn(l.width,l.height,d.Oa,d.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Dn(c.Oa,o,Mr)){l.a=2;break n}if(!Le(l,o.width))break n;if(o.da)break n;if((o.da||re(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!P(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!je(l,l.V,l.Ba,l.c,l.i,o.o,Ne))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ke)){d=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Je(e,l)){if(0==(n=Fn(l.width,l.height,d.Oa,d.ba))){if(e.Aa=0,o=d.Oa,t(null!=(c=e)),null!=o){if(0<(f=0>(f=o.Md)?0:100<f?255:255*f/100)){for(p=m=0;4>p;++p)12>(g=c.pb[p]).lc&&(g.ia=f*Ui[0>g.lc?0:g.lc]>>3),m|=g.ia;m&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Mi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var u=e.Qa.Lb[o];e.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var d=e.gd[o][c],h=u;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var f=h;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),d.dd=f,d.tc=2*h+f,d.ld=40<=h?2:15<=h?1:0}else d.tc=0;d.La=c}}}o=0}else Ye(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(f=e.za);var p=32*f,m=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,y=(2==e.Aa?2:1)*f;if((d=l+832+(c=3*(16*o+Mi[e.L])/2*p)+(u=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=d)o=0;else{if(d>e.Vb){if(e.Vb=0,e.Ec=s(d),e.Fc=0,null==e.Ec){o=Ye(e,1,"no memory during frame initialization.");break t}e.Vb=d}d=e.Ec,h=e.Fc,e.Ac=d,e.Bc=h,h+=l,e.Gd=a(p,Ve),e.Hd=0,e.rb=a(m+1,Ue),e.sb=1,e.wa=g?a(g,Me):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=d,e.pc=h,h+=832,e.ya=a(y,ze),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(p=Mi[e.L])*e.R,p=p/2*e.B,e.sa=d,e.ta=h+f,e.qa=e.sa,e.ra=e.ta+16*o*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+p,e.$c=0,h+=c,e.mb=u?d:null,e.nb=u?h:null,t(h+u<=e.Fc+e.Vb),$e(e),i(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Lr){for(o=-255;255>=o;++o)jr[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Ar[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Er[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Cr[255+o]=0>o?0:255<o?255:o;Lr=1}ir=lt,sr=it,or=st,lr=at,cr=ot,ar=rt,ur=Kt,dr=Yt,hr=Xt,fr=$t,pr=Qt,mr=Jt,gr=Zt,yr=en,vr=zt,br=qt,xr=Vt,wr=Ht,di[0]=_t,di[1]=ut,di[2]=wt,di[3]=Nt,di[4]=kt,di[5]=jt,di[6]=St,di[7]=At,di[8]=Ct,di[9]=Et,ui[0]=gt,ui[1]=ht,ui[2]=ft,ui[3]=pt,ui[4]=yt,ui[5]=vt,ui[6]=bt,hi[0]=Pt,hi[1]=dt,hi[2]=Lt,hi[3]=It,hi[4]=Dt,hi[5]=Rt,hi[6]=Ot,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var a,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(a=0;a<c.za;++a){var u=l,d=c,h=d.Ac,f=d.Bc+4*a,p=d.zc,m=d.ya[d.aa+a];if(d.Qa.Bb?m.$b=E(u,d.Pa.jb[0])?2+E(u,d.Pa.jb[2]):E(u,d.Pa.jb[1]):m.$b=0,d.kc&&(m.Ad=E(u,d.Bd)),m.Za=!E(u,145)+0,m.Za){var g=m.Ob,y=0;for(d=0;4>d;++d){var v,b=p[0+d];for(v=0;4>v;++v){b=oi[h[f+v]][b];for(var x=si[E(u,b[0])];0<x;)x=si[2*x+E(u,b[x])];b=-x,h[f+v]=b}r(g,y,h,f,4),y+=4,p[0+d]=b}}else b=E(u,156)?E(u,128)?1:3:E(u,163)?2:0,m.Ob[0]=b,i(h,f,b,4),i(p,0,b,4);m.Dd=E(u,142)?E(u,114)?E(u,183)?1:3:2:0}if(c.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,u=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],f=l.kc?a.Ad:0)u.la=h.la=0,a.Za||(u.Na=h.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var w,N;if(u=h,h=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],m=l.pb[p.$b],d=p.ad,g=0,y=l.rb[l.sb-1],b=v=0,i(d,g,0,384),p.Za)var _=0,k=f[3];else{x=s(16);var S=u.Na+y.Na;if(S=ni(h,f[1],S,m.Eb,0,x,0),u.Na=y.Na=(0<S)+0,1<S)ir(x,0,d,g);else{var j=x[0]+3>>3;for(x=0;256>x;x+=16)d[g+x]=j}_=1,k=f[0]}var A=15&u.la,C=15&y.la;for(x=0;4>x;++x){var L=1&C;for(j=N=0;4>j;++j)A=A>>1|(L=(S=ni(h,k,S=L+(1&A),m.Sc,_,d,g))>_)<<7,N=N<<2|(3<S?3:1<S?2:0!=d[g+0]),g+=16;A>>=4,C=C>>1|L<<7,v=(v<<8|N)>>>0}for(k=A,_=C>>4,w=0;4>w;w+=2){for(N=0,A=u.la>>4+w,C=y.la>>4+w,x=0;2>x;++x){for(L=1&C,j=0;2>j;++j)S=L+(1&A),A=A>>1|(L=0<(S=ni(h,f[2],S,m.Qc,0,d,g)))<<3,N=N<<2|(3<S?3:1<S?2:0!=d[g+0]),g+=16;A>>=2,C=C>>1|L<<5}b|=N<<4*w,k|=A<<4<<w,_|=(240&C)<<w}u.la=k,y.la=_,p.Hc=v,p.Gc=b,p.ia=43690&b?0:m.ia,f=!(v|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if($e(e),l=n,c=1,a=(o=e).D,u=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(a.M=o.M,a.uc=u,Pn(o,a),c=1,a=(N=o.D).Nb,u=(b=Mi[o.L])*o.R,h=b/2*o.B,x=16*a*o.R,j=8*a*o.B,f=o.sa,p=o.ta-u+x,m=o.qa,d=o.ra-h+j,g=o.Ha,y=o.Ia-h+j,C=0==(A=N.M),v=A>=o.Va-1,2==o.Aa&&Pn(o,N),N.uc)for(L=(S=o).D.M,t(S.D.uc),N=S.yb;N<S.Hb;++N){_=N,k=L;var I=(T=(z=S).D).Nb;w=z.R;var T=T.wa[T.Y+_],P=z.sa,R=z.ta+16*I*w+16*_,D=T.dd,O=T.tc;if(0!=O)if(t(3<=O),1==z.L)0<_&&br(P,R,w,O+4),T.La&&wr(P,R,w,O),0<k&&vr(P,R,w,O+4),T.La&&xr(P,R,w,O);else{var F=z.B,M=z.qa,U=z.ra+8*I*F+8*_,B=z.Ha,z=z.Ia+8*I*F+8*_;I=T.ld,0<_&&(dr(P,R,w,O+4,D,I),fr(M,U,B,z,F,O+4,D,I)),T.La&&(mr(P,R,w,O,D,I),yr(M,U,B,z,F,O,D,I)),0<k&&(ur(P,R,w,O+4,D,I),hr(M,U,B,z,F,O+4,D,I)),T.La&&(pr(P,R,w,O,D,I),gr(M,U,B,z,F,O,D,I))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(N=16*A,A=16*(A+1),C?(l.y=o.sa,l.O=o.ta+x,l.f=o.qa,l.N=o.ra+j,l.ea=o.Ha,l.W=o.Ia+j):(N-=b,l.y=f,l.O=p,l.f=m,l.N=d,l.ea=g,l.W=y),v||(A-=b),A>l.o&&(A=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&N<A&&(l.J=dn(o,l,N,A-N),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ye(o,3,"Could not decode alpha data.");break t}N<l.j&&(b=l.j-N,N=l.j,t(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),N<A&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=N-l.j,l.U=l.va-l.v,l.T=A-N,c=l.put(l))}a+1!=o.Ic||v||(r(o.sa,o.ta-u,f,p+16*o.R,u),r(o.qa,o.ra-h,m,d+8*o.B,h),r(o.Ha,o.Ia-h,g,y+8*o.B,h))}if(!c)return Ye(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=d.Oa&&d.Oa.fd&&(n=On(d.ba))}d=n}u=0!=d?null:11>u?h.f.RGBA.eb:h.f.kb.y}else u=null;return u};var Bi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function u(e,t){return e[t+0]|e[t+1]<<8}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var f=[0],p=[0],m=[],g=new l,y=e,v=function(e,t){var n={},r=0,i=!1,s=0,a=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=h(e,t+=4);t+=4;var f=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=i?a:t-8,g.src_size=s+l+8,r++,i&&(i=!1,s=0,a=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var p=t+4;g.canvas_width=1+d(e,p),p+=3,g.canvas_height=1+d(e,p),p+=3;break;case"ALPH":i=!0,s=f+8,a=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),p=t+4,g.loop_count=u(e,p),p+=2;break;case"ANMF":var m,g;(g=n.frames[r]={}).offset_x=2*d(e,t),t+=3,g.offset_y=2*d(e,t),t+=3,g.width=1+d(e,t),t+=3,g.height=1+d(e,t),t+=3,g.duration=d(e,t),t+=3,m=e[t++],g.dispose=1&m,g.blend=m>>1&1}"ANMF"!=o&&(t+=f)}return n}}(y,0);v.response=y,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,x=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],p=[b.canvas_width];for(var w=0;w<x.length&&0!=x[w].blend;w++);}var N=x[0],_=g.WebPDecodeRGBA(y,N.src_off,N.src_size,p,f);N.rgba=_,N.imgwidth=p[0],N.imgheight=f[0];for(var k=0;k<p[0]*f[0]*4;k++)m[k]=_[k];return this.width=p,this.height=f,this.data=m,this}!function(e){var t,n,r,i,s,a,o,l,c,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new a,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new a,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof u&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var d=[];Object.defineProperty(this,"ctxStack",{get:function(){return d},set:function(e){d=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var f=null,p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){f=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],i=t[4];t[5];var s=t[6],a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===a?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var o=function(e){var t,n,r=[],i=e.trim();if(""===i)return cA;if(i in Qj)return[Qj[i]];for(;""!==i;){switch(n=null,t=(i=Xj(i)).charAt(0)){case'"':case"'":n=$j(i.substring(1),t);break;default:n=Zj(i)}if(null===n)return cA;if(r.push(n[0]),""!==(i=Xj(n[1]))&&","!==i.charAt(0))return cA;i=i.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(e,t){if(null===f){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());f=function(e){for(var t={},n=0;n<e.length;++n){var r=Gj(e[n]),i=r.family,s=r.stretch,a=r.style,o=r.weight;t[i]=t[i]||{},t[i][s]=t[i][s]||{},t[i][s][a]=t[i][s][a]||{},t[i][s][a][o]=r}return t}(n.concat(t))}return f}(this.pdf,this.fontFaces),c=o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}),u=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Yj,n.genericFontFamilies||{}),s=null,a=null,o=0;o<t.length;++o)if(i[(s=Gj(t[o])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+Jj(s)+"' and default family '"+r+"'.");if(a=function(e,t){if(t[e])return t[e];var n=Vj[e],r=n<=Vj.normal?-1:1,i=Kj(t,qj,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(s.stretch,a),a=function(e,t){if(t[e])return t[e];for(var n=zj[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(s.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Wj[e],r=Kj(t,Hj,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Jj(s)+"'.");return a}(l,c);this.pdf.setFont(u.ref.name,u.ref.style)}else{var d="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(d="bold"),"italic"===n&&(d+="italic"),0===d.length&&(d="normal");for(var h="",p={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},m=0;m<o.length;m++){if(void 0!==this.pdf.internal.getFont(o[m],d,{noFallback:!0,disableWarning:!0})){h=o[m];break}if("bolditalic"===d&&void 0!==this.pdf.internal.getFont(o[m],"bold",{noFallback:!0,disableWarning:!0}))h=o[m],d="bold";else if(void 0!==this.pdf.internal.getFont(o[m],"normal",{noFallback:!0,disableWarning:!0})){h=o[m],d="normal";break}}if(""===h)for(var g=0;g<o.length;g++)if(p[o[g]]){h=p[o[g]];break}h=""===h?"Times":h,this.pdf.setFont(h,d)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};d.prototype.setLineDash=function(e){this.lineDash=e},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){x.call(this,"fill",!1)},d.prototype.stroke=function(){x.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw NS.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(e,t)},d.prototype.closePath=function(){var e=new a(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,cx.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new a(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(e.x,e.y)},d.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw NS.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},d.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw NS.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),s=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},d.prototype.bezierCurveTo=function(e,t,n,r,i,s){if(isNaN(i)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw NS.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new a(i,s)),l=this.ctx.transform.applyToPoint(new a(e,t)),c=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new a(o.x,o.y)},d.prototype.arc=function(e,t,n,r,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw NS.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new a(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new a(0,n)),c=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:s})},d.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},d.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw NS.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},d.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw NS.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},d.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw NS.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},d.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw NS.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},d.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},d.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=parseFloat(s[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new AS(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};d.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw NS.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var i=R(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:s,angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw NS.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var i=R(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:s,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.measureText=function(e){if("string"!=typeof e)throw NS.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},d.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw NS.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.rotate=function(e){if(isNaN(e))throw NS.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},d.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw NS.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.transform=function(e,t,n,r,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s))throw NS.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new l(e,t,n,r,i,s);this.ctx.transform=this.ctx.transform.multiply(a)},d.prototype.setTransform=function(e,t,n,r,i,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,s=isNaN(s)?0:s,this.ctx.transform=new l(e,t,n,r,i,s)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(e,t,n,r,i,s,a,c,u){var d=this.pdf.getImageProperties(e),h=1,f=1,p=1,y=1;void 0!==r&&void 0!==c&&(p=c/r,y=u/i,h=d.width/r*c/r,f=d.height/i*u/i),void 0===s&&(s=t,a=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,u=i),void 0===r&&void 0===c&&(c=d.width,u=d.height);for(var x,N=this.ctx.transform.decompose(),_=R(N.rotate.shx),k=new l,S=(k=(k=(k=k.multiply(N.translate)).multiply(N.skew)).multiply(N.scale)).applyToRectangle(new o(s-t*p,a-n*y,r*h,i*f)),j=g.call(this,S),A=[],E=0;E<j.length;E+=1)-1===A.indexOf(j[E])&&A.push(j[E]);if(b(A),this.autoPaging)for(var C=A[0],L=A[A.length-1],I=C;I<L+1;I++){this.pdf.setPage(I);var T=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],P=1===I?this.posY+this.margin[0]:this.margin[0],D=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===I?0:D+(I-2)*O;if(0!==this.ctx.clip_path.length){var M=this.path;x=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(x,this.posX+this.margin[3],-F+P+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=M}var U=JSON.parse(JSON.stringify(S));U=v([U],this.posX+this.margin[3],-F+P+this.ctx.prevPageLastElemOffset)[0];var B=(I>C||I<L)&&m.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],T,O,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",U.x,U.y,U.w,U.h,null,null,_),B&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",S.x,S.y,S.w,S.h,null,null,_)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var s=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"bct":var a=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)y.call(this);return r},y=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=s},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},b=function(e){return e.sort(function(e,t){return e-t})},x=function(e,t){for(var n,r,i=this.fillStyle,s=this.strokeStyle,a=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),d=JSON.parse(JSON.stringify(this.path)),h=[],f=0;f<d.length;f++)if(void 0!==d[f].x)for(var p=g.call(this,d[f]),x=0;x<p.length;x+=1)-1===h.indexOf(p[x])&&h.push(p[x]);for(var N=0;N<h.length;N++)for(;this.pdf.internal.getNumberOfPages()<h[N];)y.call(this);if(b(h),this.autoPaging)for(var _=h[0],k=h[h.length-1],S=_;S<k+1;S++){this.pdf.setPage(S),this.fillStyle=i,this.strokeStyle=s,this.lineCap=a,this.lineWidth=l,this.lineJoin=c;var j=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===S?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],C=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],L=1===S?0:E+(S-2)*C;if(0!==this.ctx.clip_path.length){var I=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-L+A+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=I}if(r=JSON.parse(JSON.stringify(u)),this.path=v(r,this.posX+this.margin[3],-L+A+this.ctx.prevPageLastElemOffset),!1===t||0===S){var T=(S>_||S<k)&&m.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],j,C,null).clip().discardPath()),w.call(this,e,t),T&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=o;this.path=u},w=function(e,t){if(("stroke"!==e||t||!p.call(this))&&("stroke"===e||t||!f.call(this))){for(var n,r,i=[],s=this.path,a=0;a<s.length;a++){var o=s[a];switch(o.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:o,deltas:[],abs:[]});break;case"lt":var l=i.length;if(s[a-1]&&!isNaN(s[a-1].x)&&(n=[o.x-s[a-1].x,o.y-s[a-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(o);break}break;case"bct":n=[o.x1-s[a-1].x,o.y1-s[a-1].y,o.x2-s[a-1].x,o.y2-s[a-1].y,o.x-s[a-1].x,o.y-s[a-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=s[a-1].x+2/3*(o.x1-s[a-1].x),u=s[a-1].y+2/3*(o.y1-s[a-1].y),d=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),m=o.x,g=o.y;n=[c-s[a-1].x,u-s[a-1].y,d-s[a-1].x,h-s[a-1].y,m-s[a-1].x,g-s[a-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var y=!1,v=0;v<i.length;v++)if(i[v].arc)for(var b=i[v].abs,x=0;x<b.length;x++){var w=b[x];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!y):C.call(this,w.x,w.y),y=!0}else if(!0===i[v].close)this.pdf.internal.out("h"),y=!1;else if(!0!==i[v].begin){var N=i[v].start.x,_=i[v].start.y;L.call(this,i[v].deltas,N,_),y=!0}r&&S.call(this,r),t&&j.call(this)}},N=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},_=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,n,r,i,s,a,o,l){for(var c=T.call(this,n,r,i,s),u=0;u<c.length;u++){var d=c[u];0===u&&(l?A.call(this,d.x1+e,d.y1+t):C.call(this,d.x1+e,d.y1+t)),I.call(this,e,t,d.x2,d.y2,d.x3,d.y3,d.x4,d.y4)}o?j.call(this):S.call(this,a)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},E=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=N.call(this,e.y),i=_.call(this,r)-n.h,s=this.ctx.transform.applyToPoint(new a(e.x,r)),c=this.ctx.transform.decompose(),u=new l;u=(u=(u=u.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var d,h,f,p=this.ctx.transform.applyToRectangle(new o(e.x,r,n.w,n.h)),y=u.applyToRectangle(new o(e.x,i,n.w,n.h)),x=g.call(this,y),k=[],S=0;S<x.length;S+=1)-1===k.indexOf(x[S])&&k.push(x[S]);if(b(k),this.autoPaging)for(var j=k[0],A=k[k.length-1],E=j;E<A+1;E++){this.pdf.setPage(E);var C=1===E?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[2],T=I-this.margin[0],P=this.pdf.internal.pageSize.width-this.margin[1],R=P-this.margin[3],D=1===E?0:L+(E-2)*T;if(0!==this.ctx.clip_path.length){var O=this.path;d=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(d,this.posX+this.margin[3],-1*D+C),w.call(this,"fill",!0),this.path=O}var F=v([JSON.parse(JSON.stringify(y))],this.posX+this.margin[3],-D+C+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var M="text"!==this.autoPaging;if(M||F.y+F.h<=I){if(M||F.y>=C&&F.x<=P){var U=M?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||P-F.x)[0],B=v([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-D+C+this.ctx.prevPageLastElemOffset)[0],z=M&&(E>j||E<A)&&m.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],R,T,null).clip().discardPath()),this.pdf.text(U,B.x,B.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),z&&this.pdf.restoreGraphicsState()}}else F.y<I&&(this.ctx.prevPageLastElemOffset+=I-F.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,s.x+this.posX,s.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)},C=function(e,t,i,s){i=i||0,s=s||0,this.pdf.internal.out(n(e+i)+" "+r(t+s)+" l")},L=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},I=function(e,n,r,a,o,l,c,u){this.pdf.internal.out([t(i(r+e)),t(s(a+n)),t(i(o+e)),t(s(l+n)),t(i(c+e)),t(s(u+n)),"c"].join(" "))},T=function(e,t,n,r){for(var i=2*Math.PI,s=Math.PI/2;t>n;)t-=i;var a=Math.abs(n-t);a<i&&r&&(a=i-a);for(var o=[],l=r?-1:1,c=t;a>1e-5;){var u=c+l*Math.min(a,s);o.push(P.call(this,e,c,u)),a-=Math.abs(u-c),c=u}return o},P=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),s=e*Math.sin(r),a=i,o=-s,l=a*a+o*o,c=l+a*i+o*s,u=4/3*(Math.sqrt(2*l*c)-c)/(a*s-o*i),d=a-u*o,h=o+u*a,f=d,p=-h,m=r+t,g=Math.cos(m),y=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*g-h*y,y2:d*y+h*g,x3:f*g-p*y,y3:f*y+p*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},R=function(e){return 180*e/Math.PI},D=function(e,t,n,r,i,s){var a=e+.5*(n-e),l=t+.5*(r-t),c=i+.5*(n-i),u=s+.5*(r-s),d=Math.min(e,i,a,c),h=Math.max(e,i,a,c),f=Math.min(t,s,l,u),p=Math.max(t,s,l,u);return new o(d,f,h-d,p-f)},O=function(e,t,n,r,i,s,a,l){var c,u,d,h,f,p,m,g,y,v,b,x,w,N,_=n-e,k=r-t,S=i-n,j=s-r,A=a-i,E=l-s;for(u=0;u<41;u++)y=(m=(d=e+(c=u/40)*_)+c*((f=n+c*S)-d))+c*(f+c*(i+c*A-f)-m),v=(g=(h=t+c*k)+c*((p=r+c*j)-h))+c*(p+c*(s+c*E-p)-g),0==u?(b=y,x=v,w=y,N=v):(b=Math.min(b,y),x=Math.min(x,v),w=Math.max(w,y),N=Math.max(N,v));return new o(Math.round(b),Math.round(x),Math.round(w-b),Math.round(N-x))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(ZS.API),function(e){var t=function(e){var t,n,r,i,s,a,o,l,c,u;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(s=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(a=(s=((s=((s=((s=(s-(u=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,n.push(a+33,o+33,l+33,c+33,u+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,s,a=String,o="length",l=255,c="charCodeAt",u="slice",d="replace";for(e[u](-2),e=e[u](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),r=[],i=0,s=(e+=t="uuuuu"[u](e[o]%5||5))[o];s>i;i+=5)n=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),a.fromCharCode.apply(a,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},s=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Kx(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,a){var o=0,l=e||"",c=[];for("string"==typeof(a=a||[])&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ZS.API),(lA=ZS.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,s=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(s(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return s(r.responseText)}(e,t,n)}catch(_x){}return r}(e,t,n)},lA.loadImageFile=lA.loadFile,function(e){function t(){return(xS.html2canvas?Promise.resolve(xS.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(xS.DOMPurify?Promise.resolve(xS.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var i=function(e){var t=(0,cx.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},a=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(i(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(r).then(function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var a=n[s],o=a.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,a.ref.name,a.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==i(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},o.prototype.setMargin=function(e){return this.then(function(){switch(i(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||ZS.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:o.convert(Object.assign({},r),Promise.prototype),s=n.call(i,e,t);return o.convert(s,r.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ZS.getPageSize=function(e,t,n){if("object"===(0,cx.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,s=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(a.hasOwnProperty(s))l=a[s][1]/i,c=a[s][0]/i;else try{l=n[1],c=n[0]}catch(AS){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Gj):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(ZS.API),ZS.API.addJS=function(e){return nA=e,this.internal.events.subscribe("postPutResources",function(){eA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(eA+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==eA&&void 0!==tA&&this.internal.out("/Names <</JavaScript "+eA+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var s=r[i],a=n.exec(s);if(null!=a){var o=a[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var u=e.internal.newObject();c.push(u);var d=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var s=this.count=this.count_r({count:0},i);if(s>0&&this.line("/Count "+s),i.options&&i.options.pageNumber){var a=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(ZS.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,s,a){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,s={width:0,height:0,numcomponents:1},a=4;a<i;a+=2){if(a+=r,-1!==t.indexOf(e.charCodeAt(a+1))){n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),s={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:n,numcomponents:e.charCodeAt(a+9)};break}r=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),o.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(ZS.API),ZS.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=function(e,t){return new vS(e,t).decode()}(e,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,i=e.palette,s=e.depth,a=!1,o=[],l=[],c=void 0,u=!1,d=0,h=0;h<i.length;h++){var f=Jx(i[h],4),p=f[0],m=f[1],g=f[2],y=f[3];o.push(p,m,g),null!=y&&(0===y?(d++,l.length<1&&l.push(h)):y<255&&(u=!0))}if(u||d>1){a=!0,l=void 0;var v=t*n;c=new Uint8Array(v);for(var b=new DataView(r.buffer),x=0;x<v;x++){var w=Jx(i[vA(b,x,s)],4)[3];c[x]=w}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:r,alphaBytes:c,needSMask:a,palette:o,mask:l}}(s):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,i=e.channels,s=e.depth,a=2===i?"DeviceGray":"DeviceRGB",o=i-1,l=n*r,c=o,u=l*c,d=1*l,h=Math.ceil(u*s/8),f=Math.ceil(d*s/8),p=new Uint8Array(h),m=new Uint8Array(f),g=new DataView(t.buffer),y=new DataView(p.buffer),v=new DataView(m.buffer),b=!1,x=0;x<l;x++){for(var w=x*i,N=0;N<c;N++)bA(y,vA(g,w+N,s),x*c+N,s);var _=vA(g,w+c,s);_<(1<<s)-1&&(b=!0),bA(v,_,1*x,s)}return{colorSpace:a,colorsPerPixel:o,colorBytes:p,alphaBytes:m,needSMask:b}}(s):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint8Array?t:new Uint8Array(t.buffer),needSMask:!1}}(s);var d,h,f,p=i,m=p.colorSpace,g=p.colorsPerPixel,y=p.colorBytes,v=p.alphaBytes,b=p.needSMask,x=p.palette,w=p.mask,N=null;return r!==ZS.API.image_compression.NONE?(N=function(e){var t;switch(e){case ZS.API.image_compression.FAST:t=11;break;case ZS.API.image_compression.MEDIUM:t=13;break;case ZS.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(N," "),e=uA(y,a*g,g,r),b&&(f=uA(v,a,1,r))):(d=void 0,h="",e=y,b&&(f=v)),h+="/Colors ".concat(g," /BitsPerComponent ").concat(u," /Columns ").concat(a),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:d,decodeParameters:h,transparency:w,palette:x,sMask:f,predictor:N,width:a,height:o,bitsPerComponent:u,colorSpace:m}}},function(e){e.processGIF89A=function(t,n,r,i){var s=new wA(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new _A(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(ZS.API),kA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},kA.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){NS.log("bit decode error:"+n)}},kA.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}0!==n&&(this.pos+=4-n)}},kA.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},kA.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},kA.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=e}},kA.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/t*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},kA.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},kA.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},kA.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new kA(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new _A(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(ZS.API),SA.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new SA(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new _A(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(ZS.API),ZS.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],h=r[c+2],f=r[c+3];s[o++]=u,s[o++]=d,s[o++]=h,a[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ZS.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rA=ZS.API,iA=rA.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=!1!==t.doKerning,h=0,f=e.length,p=0,m=o[0]||l,g=[];for(n=0;n<f;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(h=d&&"object"===(0,cx.A)(c[r])&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,g.push((o[r]||m)/l+h)),p=r;return g},sA=rA.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return rA.processArabic&&(e=rA.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:iA.apply(this,arguments).reduce(function(e,t){return e+t},0)},aA=function(e,t,n,r){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<n;)o+=t[s],s++;i.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>r&&(i.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},oA=function(e,t,n){n||(n={});var r,i,s,a,o,l,c,u=[],d=[u],h=n.textIndent||0,f=0,p=0,m=e.split(" "),g=iA.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),v=[];m.map(function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):v.push(e[0])}),m=v,l=sA.apply(this,[y,n])}for(s=0,a=m.length;s<a;s++){var b=0;if(r=m[s],l&&"\n"==r[0]&&(r=r.substr(1),b=1),h+f+(p=(i=iA.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||b){if(p>t){for(o=aA.apply(this,[r,i,t-(h+f),t]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);p=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(e,t){return e+t},0)}else u=[r];d.push(u),h=p+l,f=g}else u.push(r),h+=f+p,f=g}return c=l?function(e,t){return(t?y:"")+e.join(" ")}:function(e){return e.join(" ")},d.map(c)},rA.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(oA.apply(this,[r[o],a,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=t[s],i[t[s]]=n[s];var a=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,r,s,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=a(c).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof t)t<0?(r=a(t).slice(3),s="-"):(r=a(t).slice(2),s=""),r=s+r.slice(0,-1)+i[r.slice(-1)];else{if("object"!==(0,cx.A)(t))throw new Error("Don't know what to do with value type "+(0,cx.A)(t)+".");r=o(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,i,s,a={},o=1,l=a,c=[],u="",d="",h=e.length-1,f=1;f<h;f+=1)"'"==(s=e[f])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(c.push([l,i]),l={},i=void 0):"}"==s?((n=c.pop())[0][n[1]]=l,i=void 0,l=n[0]):"-"==s?o=-1:void 0===i?r.hasOwnProperty(s)?(u+=r[s],i=parseInt(u,16)*o,o=1,u=""):u+=s:r.hasOwnProperty(s)?(d+=r[s],l[i]=parseInt(d,16)*o,o=1,i=void 0,d=""):d+=s;return a},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=d.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=u.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(ZS.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(ES(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(ZS),ZS.API.addSvgAsImage=function(e,t,r,i,s,a,o,l){if(isNaN(t)||isNaN(r))throw NS.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw NS.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(xS.canvg?Promise.resolve(xS.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,i,s,o,l)})},ZS.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},ZS.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,d=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=o.length;for(d=0;d<f;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if("object"===(0,cx.A)(e))for(i in e)if(s=e[i],h(o,i)&&void 0!==s){if("boolean"===n[i].type&&"boolean"==typeof s)n[i].value=s;else if("name"===n[i].type&&h(n[i].valueSet,s))n[i].value=s;else if("integer"===n[i].type&&Number.isInteger(s))n[i].value=s;else if("array"===n[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ZS.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],s=[""],a=0,o=e.length;a<o;++a){if(n=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(i[4-n.length],n)}return s.join("")},r=function(e){var t,n,r,i,s,a,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;a<o;a++)t=n[a],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,s=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var d=s();a({data:c,addLength1:!0,objectId:d}),i("endobj");var h=s();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var f=s();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+KS(n.fontName)),i("/FontFile2 "+d+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=s();i("<<"),i("/Type /Font"),i("/BaseFont /"+KS(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(o)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=s(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+KS(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,s=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var u=s();a({data:l,addLength1:!0,objectId:u}),i("endobj");var d=s();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var h=s();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+u+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+KS(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=s();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+KS(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,s=e.y,a=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,u=o.fonts,d=c,h="",f=0,p="",m=u[d].encoding;if("Identity-H"!==u[d].encoding)return{text:r,x:i,y:s,options:a,mutex:o};for(p=r,d=c,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[d].metadata.hasOwnProperty("cmap")&&(t=u[d].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),t||p[f].charCodeAt(0)<256&&u[d].metadata.hasOwnProperty("Unicode")?h+=p[f]:h+="";var g="";return parseInt(d.slice(1))<14||"WinAnsiEncoding"===m?g=l(h,d).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(g=n(h,u[d])),o.isHex=!0,{text:g,x:i,y:s,options:a,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?n.push([i(Object.assign({},r,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(i(Object.assign({},r,{text:t[s]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(ZS),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(ZS.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,s,a,o,l,c=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,y=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,r=f[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=v(e.charAt(n))))return!1;if("R"===t)return!0}return!1},x=function(e,t,a,o){var l,c,u,d,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=a[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?a[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===a[o-1]){h="EN";break}if(g){h="N";break}for(u=o+1,d=t.length;u<d&&"ET"===t[u];)u++;h=u<d&&"EN"===t[u]?"EN":"N";break;case"NSM":if(i&&!s){for(d=t.length,u=o+1;u<d&&"NSM"===t[u];)u++;if(u<d){var f=e[o],p=f>=1425&&f<=2303||64286===f;if(l=t[u],p&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":a[o-1];break;case"B":g=!1,n=!0,h=y;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&N(r,n,{hiLevel:y}),r.reverse(),t&&t.reverse(),r.join("")},N=function(e,t,i){var s,a,o,l,c,f=-1,p=e.length,m=0,b=[],w=y?d:u,N=[];for(g=!1,n=!1,r=!1,a=0;a<p;a++)N[a]=v(e[a]);for(o=0;o<p;o++){if(c=m,b[o]=x(e,N,b,o),s=240&(m=w[c][h[b[o]]]),m&=15,t[o]=l=w[m][5],s>0)if(16===s){for(a=f;a<o;a++)t[a]=1;f=-1}else f=-1;if(w[m][6])-1===f&&(f=o);else if(f>-1){for(a=f;a<o;a++)t[a]=l;f=-1}"B"===N[o]&&(t[o]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=y;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=y}}(N,t,p)},_=function(e,t,r,i,s){if(!(s.hiLevel<e)){if(1===e&&1===y&&!n)return t.reverse(),void(r&&r.reverse());for(var a,o,l,c,u=t.length,d=0;d<u;){if(i[d]>=e){for(l=d+1;l<u&&i[l]>=e;)l++;for(c=d,o=l-1;c<o;c++,o--)a=t[c],t[c]=t[o],t[o]=a,r&&(a=r[c],r[c]=r[o],r[o]=a);d=l}d++}}},k=function(e,t,n){var r=e.split(""),i={hiLevel:y};return n||(n=[]),N(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=p.indexOf(e[i]))>=0&&(e[i]=p[r+1])}(r,n,i),_(2,r,t,n,i),_(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===s&&(s=b(e)),void 0===o&&(o=b(e))}(e,t),i||!a||o)if(i&&a&&s^o)y=s?1:0,e=w(e,t,n);else if(!i&&a&&o)y=s?1:0,e=k(e,t,n),e=w(e,t);else if(!i||s||a||o){if(i&&!a&&s^o)e=w(e,t),s?(y=0,e=k(e,t,n)):(y=1,e=k(e,t,n),e=w(e,t));else if(i&&s&&!a&&o)y=1,e=k(e,t,n),e=w(e,t);else if(!i&&!a&&s^o){var r=l;s?(y=1,e=k(e,t,n),y=0,l=!1,e=k(e,t,n),l=r):(y=0,e=k(e,t,n),e=w(e,t),y=1,l=!1,e=k(e,t,n),l=r,e=w(e,t))}}else y=0,e=k(e,t,n);else y=s?1:0,e=k(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,a=e.isOutputVisual,s=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(i=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?i.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):i.push([n.doBidiReorder(t[s])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(ZS),ZS.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new AA(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new GA(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new EA(this.contents),this.head=new IA(this),this.name=new MA(this),this.cmap=new PA(this),this.toUnicode={},this.hhea=new RA(this),this.maxp=new UA(this),this.hmtx=new BA(this),this.post=new OA(this),this.os2=new DA(this),this.loca=new WA(this),this.glyf=new qA(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,s,a;for(s=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)r=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var jA,AA=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,s,a,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^s)+256*(255^a)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*s+256*a+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),EA=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,s,a,o,l,c,u,d,h,f,p;for(p in h=Object.keys(t).length,o=Math.log(2),u=16*Math.floor(Math.log(h)/o),s=Math.floor(u/o),c=16*h-u,(r=new AA).writeInt(this.scalarType),r.writeShort(h),r.writeShort(u),r.writeShort(s),r.writeShort(c),i=16*h,l=r.pos+i,a=null,f=[],t)for(d=t[p],r.writeString(p),r.writeInt(e(d)),r.writeInt(l),r.writeInt(d.length),f=f.concat(d),"head"===p&&(a=l),l+=d.length;l%4;)f.push(0),l++;return r.write(f),n=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=zA.call(e);e.length%4;)e.push(0);for(r=new AA(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),CA={}.hasOwnProperty,LA=function(e,t){for(var n in t)CA.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};jA=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var IA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new AA).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),TA=function(){function e(e,t){var n,r,i,s,a,o,l,c,u,d,h,f,p,m,g,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,i=function(){var t,n;for(n=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,p=function(){var t,n;for(n=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,a=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=g=0,v=i.length;g<v;o=++g)for(m=i[o],n=y=f=p[o];f<=m?y<=m:y>=m;n=f<=m?++y:--y)0===c[o]?s=n+l[o]:0!==(s=a[c[o]/2+(n-f)-(d-o)]||0)&&(s+=l[o]),this.codeMap[n]=65535&s}e.pos=u}return e.encode=function(e,t){var n,r,i,s,a,o,l,c,u,d,h,f,p,m,g,y,v,b,x,w,N,_,k,S,j,A,E,C,L,I,T,P,R,D,O,F,M,U,B,z,q,V,H,W,G,K;switch(C=new AA,s=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(p=0,m=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),y={0:0},i={},L=0,R=s.length;L<R;L++)null==y[H=e[r=s[L]]]&&(y[H]=++p),i[r]={old:e[r],new:y[e[r]]},m[r]=y[e[r]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(m),{charMap:i,subtable:C.data,maxGlyphID:p+1};case"unicode":for(A=[],u=[],v=0,y={},n={},g=l=null,I=0,D=s.length;I<D;I++)null==y[x=e[r=s[I]]]&&(y[x]=++v),n[r]={old:x,new:y[x]},a=y[x]-r,null!=g&&a===l||(g&&u.push(g),A.push(r),l=a),g=r;for(g&&u.push(g),u.push(65535),A.push(65535),S=2*(k=A.length),_=2*Math.pow(Math.log(k)/Math.LN2,2),d=Math.log(_/2)/Math.LN2,N=2*k-_,o=[],w=[],h=[],f=T=0,O=A.length;T<O;f=++T){if(j=A[f],c=u[f],65535===j){o.push(0),w.push(0);break}if(j-(E=n[j].new)>=32768)for(o.push(0),w.push(2*(h.length+k-f)),r=P=j;j<=c?P<=c:P>=c;r=j<=c?++P:--P)h.push(n[r].new);else o.push(E-j),w.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*k+2*h.length),C.writeUInt16(0),C.writeUInt16(S),C.writeUInt16(_),C.writeUInt16(d),C.writeUInt16(N),q=0,F=u.length;q<F;q++)r=u[q],C.writeUInt16(r);for(C.writeUInt16(0),V=0,M=A.length;V<M;V++)r=A[V],C.writeUInt16(r);for(W=0,U=o.length;W<U;W++)a=o[W],C.writeUInt16(a);for(G=0,B=w.length;G<B;G++)b=w[G],C.writeUInt16(b);for(K=0,z=h.length;K<z;K++)p=h[K],C.writeUInt16(p);return{charMap:n,subtable:C.data,maxGlyphID:v+1}}},e}(),PA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new TA(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=TA.encode(e,t),(r=new AA).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),RA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),DA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),OA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),FA=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},MA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,i,s,a,o,l,c,u,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(o={},i=c=0,u=n.length;c<u;i=++c)r=n[i],e.pos=r.offset,l=e.readString(r.length),s=new FA(l,r),null==o[d=r.nameID]&&(o[d]=[]),o[r.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(ES){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),UA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),BA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,i,s,a,o;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=s=0;0<=r?s<r:s>r;t=0<=r?++s:--s)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),zA=[].slice,qA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,s,a,o,l,c,u;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,s=(a=new AA(t.read(r))).readShort(),l=a.readShort(),u=a.readShort(),o=a.readShort(),c=a.readShort(),this.cache[e]=-1===s?new HA(a,l,u,o,c):new VA(a,s,l,u,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,s,a,o;for(s=[],i=[],a=0,o=t.length;a<o;a++)r=e[t[a]],i.push(s.length),r&&(s=s.concat(r.encode(n)));return i.push(s.length),{table:s,offsets:i}},e}(),VA=function(){function e(e,t,n,r,i,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),HA=function(){function e(e,t,n,r,i){var s,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new AA(zA.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),WA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,jA),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,s=0;s<n.length;++s)if(n[s]=r,i<t.length&&t[i]==s){++i,n[s]=r;var a=this.offsets[s],o=this.offsets[s+1]-a;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),GA=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,s,a,o;for(r={},s=0,a=e.length;s<a;s++)r[i=e[s]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in o=this.glyphsFor(t))n=o[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,s,a,o,l,c,u,d,h,f,p,m,g;for(r in n=PA.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=n.charMap)h[(o=g[r]).old]=o.new;for(f in d=n.maxGlyphID,s)f in h||(h[f]=d++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),u=Object.keys(c).sort(function(e,t){return e-t}),p=function(){var e,t,n;for(n=[],e=0,t=u.length;e<t;e++)a=u[e],n.push(c[a]);return n}(),i=this.font.glyf.encode(s,p,h),l=this.font.loca.encode(i.offsets,p),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();ZS.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var e,i,s;for(s=[],e=0,i=n.length;e<i;e++)r=n[e],s.push(t.convert(r));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join("\n")}return""+n},t}();const KA=()=>{var e,t;const[n,i]=(0,r.useState)("overview"),[s,a]=(0,r.useState)(!0),[o,c]=(0,r.useState)([]),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(null),[x,w]=(0,r.useState)(!1),[N,_]=(0,r.useState)(""),{currentUser:k,userProfile:S,logout:j}=Hv(),A=fe(),[E,C]=(0,r.useState)({title:"",company:"",location:"",type:"Full-time",duration:"",salary:"",description:"",requirements:"",benefits:"",applicationDeadline:"",startDate:"",category:"Technology"});(0,r.useEffect)(()=>{k?(L(),I()):A("/admin/login")},[k,A]);const L=async()=>{f(!0);try{const e=Vg(ng(Bv,"internships"),Wg("createdBy","==",k.uid),Yg("createdAt","desc")),t=(await ly(e)).docs.map(e=>l({id:e.id},e.data()));c(t)}catch(e){console.error("Error fetching internships:",e)}finally{f(!1)}},I=async()=>{try{const e=Vg(ng(Bv,"applications"),Wg("companyId","==",k.uid),Yg("appliedAt","desc")),t=(await ly(e)).docs.map(e=>l({id:e.id},e.data()));d(t)}catch(e){console.error("Error fetching applications:",e)}},T=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r={status:t,updatedAt:(new Date).toISOString()};n&&(r.startDate=n),await uy(rg(Bv,"applications",e),r),I(),"approved"===t&&n&&P(v,n)}catch(r){console.error("Error updating application status:",r)}},P=(e,t)=>{const n=new ZS,r=n.internal.pageSize.width;n.setFontSize(20),n.setFont("helvetica","bold"),n.text("INTERNSHIP OFFER LETTER",r/2,30,{align:"center"}),n.setFontSize(12),n.setFont("helvetica","normal"),n.text("".concat((null===S||void 0===S?void 0:S.company)||"Company Name"),20,60),n.text("".concat(k.email),20,70),n.text("Date: ".concat((new Date).toLocaleDateString()),20,80),n.text("Dear ".concat(e.applicantName,","),20,100);const i="\nWe are pleased to offer you an internship position at ".concat((null===S||void 0===S?void 0:S.company)||"our company",".\n\nPosition: ").concat(e.internshipTitle,"\nStart Date: ").concat(new Date(t).toLocaleDateString(),"\nCompany: ").concat(e.companyName,"\n\nWe believe your skills and enthusiasm will be valuable additions to our team.\n\nPlease confirm your acceptance by replying to this offer.\n\nSincerely,\n").concat(null===S||void 0===S?void 0:S.firstName," ").concat(null===S||void 0===S?void 0:S.lastName,"\n").concat((null===S||void 0===S?void 0:S.jobTitle)||"HR Manager","\n").concat((null===S||void 0===S?void 0:S.company)||"Company Name","\n    "),s=n.splitTextToSize(i,r-40);n.text(s,20,120),n.save("offer-letter-".concat(e.applicantName.replace(/\s+/g,"-"),".pdf"))},R=e=>{const t=new ZS,n=t.internal.pageSize.width;t.setFontSize(20),t.setFont("helvetica","bold"),t.text("JOINING LETTER",n/2,30,{align:"center"}),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("".concat((null===S||void 0===S?void 0:S.company)||"Company Name"),20,60),t.text("".concat(k.email),20,70),t.text("Date: ".concat((new Date).toLocaleDateString()),20,80);const r="\nDear ".concat(e.applicantName,",\n\nWelcome to ").concat((null===S||void 0===S?void 0:S.company)||"our company","!\n\nWe are excited to have you join our team as an intern for the position of ").concat(e.internshipTitle,".\n\nJoining Details:\n- Position: ").concat(e.internshipTitle,"\n- Start Date: ").concat(new Date(e.startDate).toLocaleDateString(),"\n- Reporting Manager: ").concat(null===S||void 0===S?void 0:S.firstName," ").concat(null===S||void 0===S?void 0:S.lastName,"\n- Contact: ").concat(k.email,"\n\nPlease bring the following documents on your first day:\n1. Government-issued ID\n2. Educational certificates\n3. Resume\n4. Passport-size photographs\n\nWe look forward to working with you!\n\nBest regards,\n").concat(null===S||void 0===S?void 0:S.firstName," ").concat(null===S||void 0===S?void 0:S.lastName,"\n").concat((null===S||void 0===S?void 0:S.jobTitle)||"HR Manager","\n").concat((null===S||void 0===S?void 0:S.company)||"Company Name","\n    "),i=t.splitTextToSize(r,n-40);t.text(i,20,100),t.save("joining-letter-".concat(e.applicantName.replace(/\s+/g,"-"),".pdf"))},D=[{id:"overview",name:"Overview",icon:Wb},{id:"internships",name:"Manage Internships",icon:cb},{id:"applications",name:"Applications",icon:Qb},{id:"analytics",name:"Analytics",icon:Wb}],O=[{title:"Total Internships",value:o.length,icon:cb,color:"bg-blue-500",change:"+12%"},{title:"Total Applications",value:u.length,icon:Qb,color:"bg-green-500",change:"+8%"},{title:"Pending Reviews",value:u.filter(e=>"pending"===e.status).length,icon:pb,color:"bg-yellow-500",change:"+5%"},{title:"Approved",value:u.filter(e=>"approved"===e.status).length,icon:fb,color:"bg-purple-500",change:"+15%"}],F=u.filter(e=>e.applicantName.toLowerCase().includes(N.toLowerCase())||e.internshipTitle.toLowerCase().includes(N.toLowerCase()));return(0,qv.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,qv.jsxs)("div",{className:"".concat(s?"w-64":"w-16"," bg-white shadow-lg transition-all duration-300 ease-in-out"),children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s&&(0,qv.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"}),(0,qv.jsx)("button",{onClick:()=>a(!s),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s?(0,qv.jsx)(Xb,{}):(0,qv.jsx)(Ib,{})})]}),(0,qv.jsx)("nav",{className:"mt-8",children:D.map(e=>(0,qv.jsxs)("button",{onClick:()=>i(e.id),className:"w-full flex items-center px-4 py-3 text-left hover:bg-gray-50 transition-colors ".concat(n===e.id?"bg-primary-50 text-primary-600 border-r-2 border-primary-600":"text-gray-700"),children:[(0,qv.jsx)(e.icon,{className:"w-5 h-5 ".concat(s?"mr-3":"mx-auto")}),s&&(0,qv.jsx)("span",{className:"font-medium",children:e.name})]},e.id))}),s&&(0,qv.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,qv.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qv.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center",children:(0,qv.jsx)("span",{className:"text-white font-medium",children:(null===S||void 0===S||null===(e=S.firstName)||void 0===e?void 0:e.charAt(0))||"A"})}),(0,qv.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qv.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate",children:[null===S||void 0===S?void 0:S.firstName," ",null===S||void 0===S?void 0:S.lastName]}),(0,qv.jsx)("p",{className:"text-xs text-gray-500 truncate",children:null===S||void 0===S?void 0:S.company})]})]}),(0,qv.jsxs)("button",{onClick:async()=>{try{await j(),A("/")}catch(e){console.error("Error logging out:",e)}},className:"w-full mt-3 flex items-center justify-center px-3 py-2 text-sm text-gray-700 hover:text-red-600 transition-colors",children:[(0,qv.jsx)(Eb,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})]}),(0,qv.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,qv.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:(null===(t=D.find(e=>e.id===n))||void 0===t?void 0:t.name)||"Dashboard"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Manage your internship programs"})]}),"internships"===n&&(0,qv.jsxs)("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,qv.jsx)(Ob,{className:"w-4 h-4 mr-2"}),"Add Internship"]})]})}),(0,qv.jsxs)("main",{className:"p-6",children:["overview"===n&&(0,qv.jsxs)("div",{className:"space-y-6",children:[(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:O.map((e,t)=>(0,qv.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,qv.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.value}),(0,qv.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:[e.change," from last month"]})]}),(0,qv.jsx)("div",{className:"".concat(e.color," rounded-lg p-3"),children:(0,qv.jsx)(e.icon,{className:"w-6 h-6 text-white"})})]})},t))}),(0,qv.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Applications"}),(0,qv.jsx)("div",{className:"space-y-4",children:u.slice(0,5).map(e=>(0,qv.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,qv.jsx)(Yb,{className:"w-5 h-5 text-primary-600"})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"font-medium text-gray-900",children:e.applicantName}),(0,qv.jsx)("p",{className:"text-sm text-gray-600",children:e.internshipTitle})]})]}),(0,qv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qv.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.status}),(0,qv.jsx)("button",{onClick:()=>{b(e),w(!0)},className:"text-primary-600 hover:text-primary-700",children:(0,qv.jsx)(Nb,{className:"w-4 h-4"})})]})]},e.id))})]})]}),"internships"===n&&(0,qv.jsx)("div",{className:"space-y-6",children:(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>(0,qv.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[(0,qv.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,qv.jsxs)("div",{className:"flex-1",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.title}),(0,qv.jsx)("p",{className:"text-gray-600",children:e.company})]}),(0,qv.jsxs)("div",{className:"flex space-x-2",children:[(0,qv.jsx)("button",{onClick:()=>y(e),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",children:(0,qv.jsx)(vb,{className:"w-4 h-4"})}),(0,qv.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this internship?"))try{await dy(rg(Bv,"internships",e)),L()}catch(t){console.error("Error deleting internship:",t)}})(e.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:(0,qv.jsx)(Hb,{className:"w-4 h-4"})})]})]}),(0,qv.jsxs)("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Lb,{className:"w-4 h-4 mr-2"}),e.location]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(pb,{className:"w-4 h-4 mr-2"}),e.type]}),e.salary&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(mb,{className:"w-4 h-4 mr-2"}),e.salary]})]}),(0,qv.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,qv.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),(0,qv.jsxs)("span",{className:"text-sm text-gray-500",children:[u.filter(t=>t.internshipId===e.id).length," applications"]})]})]},e.id))})}),"applications"===n&&(0,qv.jsxs)("div",{className:"space-y-6",children:[(0,qv.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-200",children:(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Mb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"text",placeholder:"Search applications...",value:N,onChange:e=>_(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(0,qv.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,qv.jsx)("div",{className:"overflow-x-auto",children:(0,qv.jsxs)("table",{className:"w-full",children:[(0,qv.jsx)("thead",{className:"bg-gray-50",children:(0,qv.jsxs)("tr",{children:[(0,qv.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicant"}),(0,qv.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,qv.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applied Date"}),(0,qv.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,qv.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,qv.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(e=>(0,qv.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,qv.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center mr-4",children:(0,qv.jsx)("span",{className:"text-primary-600 font-medium",children:e.applicantName.charAt(0)})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.applicantName}),(0,qv.jsx)("div",{className:"text-sm text-gray-500",children:e.applicantEmail})]})]})}),(0,qv.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,qv.jsx)("div",{className:"text-sm text-gray-900",children:e.internshipTitle}),(0,qv.jsx)("div",{className:"text-sm text-gray-500",children:e.companyName})]}),(0,qv.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.appliedAt).toLocaleDateString()}),(0,qv.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qv.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.status})}),(0,qv.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,qv.jsx)("button",{onClick:()=>{b(e),w(!0)},className:"text-primary-600 hover:text-primary-900",children:(0,qv.jsx)(Nb,{className:"w-4 h-4"})}),"approved"===e.status&&(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("button",{onClick:()=>P(e,e.startDate),className:"text-green-600 hover:text-green-900",children:(0,qv.jsx)(gb,{className:"w-4 h-4"})}),(0,qv.jsx)("button",{onClick:()=>R(e),className:"text-blue-600 hover:text-blue-900",children:(0,qv.jsx)(_b,{className:"w-4 h-4"})})]})]})]},e.id))})]})})})]})]})]}),x&&v&&(0,qv.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,qv.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-xl bg-white",children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qv.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Application Details"}),(0,qv.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:(0,qv.jsx)(Xb,{className:"w-6 h-6"})})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Applicant Information"}),(0,qv.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Name"}),(0,qv.jsx)("p",{className:"text-gray-900",children:v.applicantName})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),(0,qv.jsx)("p",{className:"text-gray-900",children:v.applicantEmail})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),(0,qv.jsx)("p",{className:"text-gray-900",children:v.applicantPhone||"Not provided"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"University"}),(0,qv.jsx)("p",{className:"text-gray-900",children:v.university})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Major"}),(0,qv.jsx)("p",{className:"text-gray-900",children:v.major})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Graduation Year"}),(0,qv.jsx)("p",{className:"text-gray-900",children:v.graduationYear})]})]})]}),(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Application Details"}),(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Position"}),(0,qv.jsx)("p",{className:"text-gray-900",children:v.internshipTitle})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Applied Date"}),(0,qv.jsx)("p",{className:"text-gray-900",children:new Date(v.appliedAt).toLocaleDateString()})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Cover Letter"}),(0,qv.jsx)("p",{className:"text-gray-900 text-sm",children:v.coverLetter})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Skills"}),(0,qv.jsx)("p",{className:"text-gray-900 text-sm",children:v.skills})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Experience"}),(0,qv.jsx)("p",{className:"text-gray-900 text-sm",children:v.experience||"Not provided"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Availability"}),(0,qv.jsx)("p",{className:"text-gray-900 text-sm",children:v.availability})]}),v.portfolio&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Portfolio"}),(0,qv.jsx)("a",{href:v.portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm",children:"View Portfolio"})]}),v.resume&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Resume"}),(0,qv.jsx)("a",{href:v.resume,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm",children:"View Resume"})]})]})]})]}),(0,qv.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("span",{className:"text-sm font-medium text-gray-600 mr-3",children:"Current Status:"}),(0,qv.jsx)("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full ".concat("pending"===v.status?"bg-yellow-100 text-yellow-800":"approved"===v.status?"bg-green-100 text-green-800":"rejected"===v.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:v.status})]}),"pending"===v.status&&(0,qv.jsxs)("div",{className:"flex space-x-3",children:[(0,qv.jsx)("button",{onClick:()=>T(v.id,"rejected"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Reject"}),(0,qv.jsx)("button",{onClick:()=>{const e=prompt("Enter start date (YYYY-MM-DD):");e&&T(v.id,"approved",e)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Approve & Set Start Date"})]}),"approved"===v.status&&(0,qv.jsxs)("div",{className:"flex space-x-3",children:[(0,qv.jsxs)("button",{onClick:()=>P(v,v.startDate),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,qv.jsx)(gb,{className:"w-4 h-4 mr-2"}),"Download Offer Letter"]}),(0,qv.jsxs)("button",{onClick:()=>R(v),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center",children:[(0,qv.jsx)(_b,{className:"w-4 h-4 mr-2"}),"Download Joining Letter"]})]})]})})]})}),(p||g)&&(0,qv.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,qv.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-xl bg-white",children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qv.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:g?"Edit Internship":"Add New Internship"}),(0,qv.jsx)("button",{onClick:()=>{m(!1),y(null)},className:"text-gray-400 hover:text-gray-600",children:(0,qv.jsx)(Xb,{className:"w-6 h-6"})})]}),(0,qv.jsxs)("form",{onSubmit:g?async e=>{e.preventDefault(),f(!0);try{await uy(rg(Bv,"internships",g.id),l(l({},g),{},{updatedAt:(new Date).toISOString()})),y(null),L()}catch(t){console.error("Error updating internship:",t)}finally{f(!1)}}:async e=>{e.preventDefault(),f(!0);try{const e=l(l({},E),{},{createdBy:k.uid,createdAt:(new Date).toISOString(),status:"active",applicationsCount:0,companyInfo:{name:(null===S||void 0===S?void 0:S.company)||E.company,email:k.email}});await hy(ng(Bv,"internships"),e),C({title:"",company:"",location:"",type:"Full-time",duration:"",salary:"",description:"",requirements:"",benefits:"",applicationDeadline:"",startDate:"",category:"Technology"}),m(!1),L()}catch(t){console.error("Error adding internship:",t)}finally{f(!1)}},className:"space-y-6",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title *"}),(0,qv.jsx)("input",{type:"text",required:!0,value:g?g.title:E.title,onChange:e=>g?y(l(l({},g),{},{title:e.target.value})):C(l(l({},E),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Software Engineering Intern"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company *"}),(0,qv.jsx)("input",{type:"text",required:!0,value:g?g.company:E.company,onChange:e=>g?y(l(l({},g),{},{company:e.target.value})):C(l(l({},E),{},{company:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Company name"})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),(0,qv.jsx)("input",{type:"text",required:!0,value:g?g.location:E.location,onChange:e=>g?y(l(l({},g),{},{location:e.target.value})):C(l(l({},E),{},{location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., New York, NY"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),(0,qv.jsxs)("select",{value:g?g.type:E.type,onChange:e=>g?y(l(l({},g),{},{type:e.target.value})):C(l(l({},E),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,qv.jsx)("option",{value:"Full-time",children:"Full-time"}),(0,qv.jsx)("option",{value:"Part-time",children:"Part-time"}),(0,qv.jsx)("option",{value:"Remote",children:"Remote"}),(0,qv.jsx)("option",{value:"Hybrid",children:"Hybrid"})]})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),(0,qv.jsx)("input",{type:"text",value:g?g.duration:E.duration,onChange:e=>g?y(l(l({},g),{},{duration:e.target.value})):C(l(l({},E),{},{duration:e.target.value})),placeholder:"e.g., 3 months",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary"}),(0,qv.jsx)("input",{type:"text",value:g?g.salary:E.salary,onChange:e=>g?y(l(l({},g),{},{salary:e.target.value})):C(l(l({},E),{},{salary:e.target.value})),placeholder:"e.g., $1500/month",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,qv.jsx)("textarea",{required:!0,rows:4,value:g?g.description:E.description,onChange:e=>g?y(l(l({},g),{},{description:e.target.value})):C(l(l({},E),{},{description:e.target.value})),placeholder:"Describe the internship role, responsibilities, and what the intern will learn...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requirements"}),(0,qv.jsx)("textarea",{rows:3,value:g?g.requirements:E.requirements,onChange:e=>g?y(l(l({},g),{},{requirements:e.target.value})):C(l(l({},E),{},{requirements:e.target.value})),placeholder:"List the required skills, education, and experience...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Deadline"}),(0,qv.jsx)("input",{type:"date",value:g?g.applicationDeadline:E.applicationDeadline,onChange:e=>g?y(l(l({},g),{},{applicationDeadline:e.target.value})):C(l(l({},E),{},{applicationDeadline:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,qv.jsx)("input",{type:"date",value:g?g.startDate:E.startDate,onChange:e=>g?y(l(l({},g),{},{startDate:e.target.value})):C(l(l({},E),{},{startDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),(0,qv.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,qv.jsx)("button",{type:"button",onClick:()=>{m(!1),y(null)},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),(0,qv.jsx)("button",{type:"submit",disabled:h,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors font-medium flex items-center",children:h?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),g?"Updating...":"Adding..."]}):(0,qv.jsx)(qv.Fragment,{children:g?"Update Internship":"Add Internship"})})]})]})]})})]})},YA=()=>{var e;const[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)("all"),[m,g]=(0,r.useState)(null),[y,v]=(0,r.useState)(!1),{currentUser:b,logout:x}=Hv(),w=fe(),N=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{current:!0};if(e.current){o(!0);try{const t=Vg(ng(Bv,"internships"),Wg("createdBy","==",b.uid),Yg("createdAt","desc")),r=await ly(t);if(!e.current)return;const i=r.docs.map(e=>l({id:e.id},e.data()));n(i);const a=i.map(e=>e.id);if(a.length>0&&e.current){const t=Vg(ng(Bv,"applications"),Yg("appliedAt","desc")),n=await ly(t);if(!e.current)return;const r=n.docs.map(e=>l({id:e.id},e.data())).filter(e=>a.includes(e.internshipId));s(r)}}catch(t){console.error("Error fetching data:",t)}finally{e.current&&o(!1)}}},[b.uid]);(0,r.useEffect)(()=>{const e={current:!0};if(!b)return void w("/admin/login");return(async()=>{e.current&&await N(e)})(),()=>{e.current=!1}},[b,w,N]);const _=t.filter(e=>{const t=e.title.toLowerCase().includes(d.toLowerCase())||e.company.toLowerCase().includes(d.toLowerCase())||e.location.toLowerCase().includes(d.toLowerCase()),n="all"===f||e.status===f;return t&&n}),k=(()=>{const e=t.length,n=t.filter(e=>"active"===e.status).length,r=t.filter(e=>"closed"===e.status).length,i=t.filter(e=>"draft"===e.status).length;return{total:e,active:n,closed:r,draft:i}})(),S=(()=>{const e=i.length,t=i.filter(e=>"submitted"===e.status).length,n=i.filter(e=>"viewed"===e.status).length,r=i.filter(e=>"approved"===e.status).length,s=i.filter(e=>"rejected"===e.status).length;return{total:e,submitted:t,viewed:n,approved:r,rejected:s}})(),j=[{name:"Dashboard",icon:cb,path:"/admin/dashboard",active:!0},{name:"Manage Internships",icon:cb,path:"/admin/internships"},{name:"Applications",icon:Qb,path:"/admin/applications"},{name:"Task Reviews",icon:hb,path:"/admin/task-reviews"},{name:"Attendance Reviews",icon:hb,path:"/admin/attendance-reviews"},{name:"Settings",icon:Bb,path:"/admin/settings"}];return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,qv.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform ".concat(c?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0"),children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[(0,qv.jsx)("h1",{className:"text-xl font-bold text-primary-600",children:"Admin Portal"}),(0,qv.jsx)("button",{onClick:()=>u(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:(0,qv.jsx)(Xb,{className:"w-6 h-6"})})]}),(0,qv.jsx)("nav",{className:"mt-8",children:j.map(e=>{const t=e.icon;return(0,qv.jsxs)("button",{onClick:()=>"/admin/dashboard"!==e.path&&w(e.path),className:"w-full flex items-center px-6 py-3 text-left hover:bg-gray-50 transition-colors ".concat(e.active?"bg-primary-50 text-primary-600 border-r-2 border-primary-600":"text-gray-700"),children:[(0,qv.jsx)(t,{className:"w-5 h-5 mr-3"}),e.name]},e.name)})}),(0,qv.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-gray-200",children:[(0,qv.jsxs)("div",{className:"flex items-center mb-4",children:[(0,qv.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,qv.jsx)("span",{className:"text-primary-600 font-semibold",children:null===b||void 0===b||null===(e=b.email)||void 0===e?void 0:e.charAt(0).toUpperCase()})}),(0,qv.jsxs)("div",{className:"ml-3",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Admin"}),(0,qv.jsx)("p",{className:"text-xs text-gray-500",children:null===b||void 0===b?void 0:b.email})]})]}),(0,qv.jsxs)("button",{onClick:async()=>{try{w("/admin/login",{replace:!0}),await x()}catch(e){console.error("Error logging out:",e),w("/admin/login",{replace:!0})}},className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[(0,qv.jsx)(Eb,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),(0,qv.jsxs)("div",{className:"flex-1 lg:ml-0",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("button",{onClick:()=>u(!0),className:"lg:hidden text-gray-500 hover:text-gray-700 mr-4",children:(0,qv.jsx)(Ib,{className:"w-6 h-6"})}),(0,qv.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"})]}),(0,qv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qv.jsx)("button",{onClick:()=>w("/admin/attendance-reviews"),className:"flex items-center px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Attendance Reviews"}),(0,qv.jsxs)("button",{onClick:()=>w("/admin/task-reviews"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,qv.jsx)(hb,{className:"w-4 h-4 mr-2"}),"Review Tasks"]}),(0,qv.jsxs)("button",{onClick:()=>w("/admin/create-internship"),className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,qv.jsx)(Ob,{className:"w-4 h-4 mr-2"}),"Create Internship"]})]})]})})}),(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,qv.jsx)(cb,{className:"w-6 h-6 text-blue-600"})}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Internships"}),(0,qv.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:k.total})]})]})}),(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,qv.jsx)(Qb,{className:"w-6 h-6 text-green-600"})}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Applications"}),(0,qv.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:S.total})]})]})}),(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,qv.jsx)(pb,{className:"w-6 h-6 text-yellow-600"})}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Submitted"}),(0,qv.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:S.submitted})]})]})}),(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,qv.jsx)(Qb,{className:"w-6 h-6 text-green-600"})}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),(0,qv.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:S.approved})]})]})})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,qv.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Applications"})}),(0,qv.jsx)("div",{className:"p-6",children:0===i.slice(0,5).length?(0,qv.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No applications yet"}):(0,qv.jsx)("div",{className:"space-y-4",children:i.slice(0,5).map(e=>(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"font-medium text-gray-900",children:e.applicantName}),(0,qv.jsx)("p",{className:"text-sm text-gray-500",children:e.internshipTitle})]}),(0,qv.jsxs)("div",{className:"text-right",children:[(0,qv.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("submitted"===e.status?"bg-yellow-100 text-yellow-800":"viewed"===e.status?"bg-blue-100 text-blue-800":"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.status}),(0,qv.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.appliedAt).toLocaleDateString()})]})]},e.id))})})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,qv.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Internship Status"})}),(0,qv.jsx)("div",{className:"p-6",children:(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qv.jsx)("span",{className:"text-gray-600",children:"Active"}),(0,qv.jsx)("span",{className:"font-semibold text-green-600",children:k.active})]}),(0,qv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qv.jsx)("span",{className:"text-gray-600",children:"Draft"}),(0,qv.jsx)("span",{className:"font-semibold text-yellow-600",children:k.draft})]}),(0,qv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qv.jsx)("span",{className:"text-gray-600",children:"Closed"}),(0,qv.jsx)("span",{className:"font-semibold text-red-600",children:k.closed})]})]})})]})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,qv.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Internships"}),(0,qv.jsx)("button",{onClick:()=>w("/admin/applications"),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View All Applications \u2192"})]}),(0,qv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-4 space-y-3 sm:space-y-0",children:[(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Mb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"text",placeholder:"Search internships...",value:d,onChange:e=>h(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Sb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white",children:[(0,qv.jsx)("option",{value:"all",children:"All Status"}),(0,qv.jsx)("option",{value:"active",children:"Active"}),(0,qv.jsx)("option",{value:"draft",children:"Draft"}),(0,qv.jsx)("option",{value:"closed",children:"Closed"})]})]})]})]}),(0,qv.jsx)("div",{className:"p-6",children:a?(0,qv.jsxs)("div",{className:"text-center py-8",children:[(0,qv.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),(0,qv.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading internships..."})]}):0===_.length?(0,qv.jsxs)("div",{className:"text-center py-8",children:[(0,qv.jsx)(cb,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,qv.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No internships found"}),(0,qv.jsx)("p",{className:"mt-2 text-gray-600",children:0===t.length?"Get started by creating your first internship.":"Try adjusting your search criteria."}),0===t.length&&(0,qv.jsxs)("button",{onClick:()=>w("/admin/create-internship"),className:"mt-4 flex items-center mx-auto px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,qv.jsx)(Ob,{className:"w-4 h-4 mr-2"}),"Create First Internship"]})]}):(0,qv.jsx)("div",{className:"space-y-4",children:_.map(e=>{const t=i.filter(t=>t.internshipId===e.id);return(0,qv.jsx)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,qv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qv.jsxs)("div",{className:"flex-1",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,qv.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,qv.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"draft"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,qv.jsx)("p",{className:"text-gray-600 mb-3",children:e.company}),(0,qv.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-4",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Lb,{className:"w-4 h-4 mr-1"}),e.location]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(pb,{className:"w-4 h-4 mr-1"}),e.duration]}),e.salary&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(mb,{className:"w-4 h-4 mr-1"}),e.salary]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(ub,{className:"w-4 h-4 mr-1"}),"Created ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,qv.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,qv.jsx)(Qb,{className:"w-4 h-4 mr-1"}),t.length," applications",t.filter(e=>"submitted"===e.status).length>0&&(0,qv.jsxs)("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:[t.filter(e=>"submitted"===e.status).length," submitted"]})]})]}),(0,qv.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,qv.jsx)("button",{onClick:()=>w("/admin/internship/".concat(e.id)),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"View Details",children:(0,qv.jsx)(Nb,{className:"w-4 h-4"})}),(0,qv.jsx)("button",{onClick:()=>w("/admin/edit-internship/".concat(e.id)),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:(0,qv.jsx)(yb,{className:"w-4 h-4"})}),(0,qv.jsx)("button",{onClick:()=>{g(e),v(!0)},className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:(0,qv.jsx)(Hb,{className:"w-4 h-4"})})]})]})},e.id)})})})]})]})]}),y&&m&&(0,qv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,qv.jsx)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete Internship"}),(0,qv.jsxs)("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',m.title,'"? This action cannot be undone.']}),(0,qv.jsxs)("div",{className:"flex space-x-3",children:[(0,qv.jsx)("button",{onClick:()=>{v(!1),g(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,qv.jsx)("button",{onClick:()=>(async e=>{try{await dy(rg(Bv,"internships",e)),n(t=>t.filter(t=>t.id!==e)),v(!1),alert("Internship deleted successfully!")}catch(t){console.error("Error deleting internship:",t),alert("Failed to delete internship. Please try again.")}})(m.id),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})}),c&&(0,qv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>u(!1)})]})},QA=()=>{const e=fe(),{currentUser:t,userProfile:n,logout:i,updateUserProfile:s}=Hv(),[a,o]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",organization:"",position:""}),[c,u]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[d,h]=(0,r.useState)({current:!1,new:!1,confirm:!1}),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)({profile:!1,password:!1,delete:!1,logout:!1}),[b,x]=(0,r.useState)({}),[w,N]=(0,r.useState)("");(0,r.useEffect)(()=>{n&&o({firstName:n.firstName||"",lastName:n.lastName||"",email:n.email||"",phone:n.phone||"",organization:n.organization||"",position:n.position||""})},[n]);const _=e=>{const{name:t,value:n}=e.target;o(e=>l(l({},e),{},{[t]:n})),b[t]&&x(e=>l(l({},e),{},{[t]:""}))},k=e=>{const{name:t,value:n}=e.target;u(e=>l(l({},e),{},{[t]:n})),b[t]&&x(e=>l(l({},e),{},{[t]:""}))};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("button",{onClick:()=>e("/admin/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Dashboard"]}),(0,qv.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Settings"})]})})}),(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w&&(0,qv.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:w}),(0,qv.jsxs)("div",{className:"space-y-8",children:[(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsxs)("div",{className:"flex items-center mb-6",children:[(0,qv.jsx)(Yb,{className:"w-6 h-6 text-primary-600 mr-3"}),(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"})]}),b.profile&&(0,qv.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:b.profile}),(0,qv.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),v(e=>l(l({},e),{},{profile:!0})),x({}),N("");try{await s(a),N("Profile updated successfully!"),setTimeout(()=>N(""),3e3)}catch(t){console.error("Error updating profile:",t),x({profile:"Failed to update profile. Please try again."})}finally{v(e=>l(l({},e),{},{profile:!1}))}},children:[(0,qv.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,qv.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:a.firstName,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,qv.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:a.lastName,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,qv.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50",disabled:!0}),(0,qv.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,qv.jsx)("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization"}),(0,qv.jsx)("input",{type:"text",id:"organization",name:"organization",value:a.organization,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),(0,qv.jsx)("input",{type:"text",id:"position",name:"position",value:a.position,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,qv.jsx)("div",{className:"mt-6",children:(0,qv.jsx)("button",{type:"submit",disabled:y.profile,className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:y.profile?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)(Fb,{className:"mr-2"}),"Update Profile"]})})})]})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsxs)("div",{className:"flex items-center mb-6",children:[(0,qv.jsx)(Ab,{className:"w-6 h-6 text-primary-600 mr-3"}),(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"})]}),b.password&&(0,qv.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:b.password}),(0,qv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v(e=>l(l({},e),{},{password:!0})),x({}),N(""),c.newPassword.length<6)return x({password:"New password must be at least 6 characters long."}),void v(e=>l(l({},e),{},{password:!1}));if(c.newPassword!==c.confirmPassword)return x({password:"New passwords do not match."}),void v(e=>l(l({},e),{},{password:!1}));try{const e=Ns.credential(t.email,c.currentPassword);await Ms(t,e),await(n=t,r=c.newPassword,qs(tn(n),null,r)),N("Password updated successfully!"),u({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>N(""),3e3)}catch(i){console.error("Error updating password:",i),"auth/wrong-password"===i.code?x({password:"Current password is incorrect."}):"auth/weak-password"===i.code?x({password:"New password is too weak."}):x({password:"Failed to update password. Please try again."})}finally{v(e=>l(l({},e),{},{password:!1}))}var n,r},children:[(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("input",{type:d.current?"text":"password",id:"currentPassword",name:"currentPassword",value:c.currentPassword,onChange:k,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0}),(0,qv.jsx)("button",{type:"button",onClick:()=>h(e=>l(l({},e),{},{current:!e.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d.current?(0,qv.jsx)(wb,{}):(0,qv.jsx)(Nb,{})})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("input",{type:d.new?"text":"password",id:"newPassword",name:"newPassword",value:c.newPassword,onChange:k,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0}),(0,qv.jsx)("button",{type:"button",onClick:()=>h(e=>l(l({},e),{},{new:!e.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d.new?(0,qv.jsx)(wb,{}):(0,qv.jsx)(Nb,{})})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("input",{type:d.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:k,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0}),(0,qv.jsx)("button",{type:"button",onClick:()=>h(e=>l(l({},e),{},{confirm:!e.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d.confirm?(0,qv.jsx)(wb,{}):(0,qv.jsx)(Nb,{})})]})]})]}),(0,qv.jsx)("div",{className:"mt-6",children:(0,qv.jsx)("button",{type:"submit",disabled:y.password,className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:y.password?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)(Ab,{className:"mr-2"}),"Update Password"]})})})]})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Account Actions"}),(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Eb,{className:"w-5 h-5 text-blue-500 mr-3"}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-medium text-gray-900",children:"Logout"}),(0,qv.jsx)("p",{className:"text-sm text-gray-500",children:"Sign out of your account"})]})]}),(0,qv.jsx)("button",{onClick:async()=>{v(e=>l(l({},e),{},{logout:!0}));try{e("/admin/login",{replace:!0}),await i()}catch(t){console.error("Error logging out:",t),e("/admin/login",{replace:!0})}finally{v(e=>l(l({},e),{},{logout:!1}))}},disabled:y.logout,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.logout?"Logging out...":"Logout"})]}),(0,qv.jsxs)("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Hb,{className:"w-5 h-5 text-red-500 mr-3"}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-medium text-gray-900",children:"Delete Account"}),(0,qv.jsx)("p",{className:"text-sm text-gray-500",children:"Permanently delete your account and all data"})]})]}),(0,qv.jsx)("button",{onClick:()=>g(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Delete Account"})]})]})]})]})]}),m&&(0,qv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qv.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,qv.jsxs)("div",{className:"flex items-center mb-4",children:[(0,qv.jsx)(ib,{className:"w-6 h-6 text-red-500 mr-3"}),(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Account"})]}),(0,qv.jsx)("p",{className:"text-gray-600 mb-4",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),b.delete&&(0,qv.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:b.delete}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{htmlFor:"deleteConfirmation",className:"block text-sm font-medium text-gray-700 mb-2",children:'Type "DELETE MY ACCOUNT" to confirm:'}),(0,qv.jsx)("input",{type:"text",id:"deleteConfirmation",value:f,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"DELETE MY ACCOUNT"})]}),(0,qv.jsxs)("div",{className:"flex space-x-3",children:[(0,qv.jsx)("button",{onClick:()=>{g(!1),p(""),x(e=>l(l({},e),{},{delete:""}))},className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,qv.jsx)("button",{onClick:async()=>{if("DELETE MY ACCOUNT"===f){v(e=>l(l({},e),{},{delete:!0})),x({});try{await dy(rg(Bv,"users",t.uid)),await async function(e){return tn(e).delete()}(t),e("/admin/login")}catch(n){console.error("Error deleting account:",n),"auth/requires-recent-login"===n.code?x({delete:"Please log out and log back in before deleting your account."}):x({delete:"Failed to delete account. Please try again."})}finally{v(e=>l(l({},e),{},{delete:!1}))}}else x({delete:'Please type "DELETE MY ACCOUNT" to confirm.'})},disabled:y.delete,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.delete?"Deleting...":"Delete Account"})]})]})})]})},JA=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)("all"),[g,y]=(0,r.useState)(""),{currentUser:v}=Hv(),b=fe(),x=(0,r.useCallback)(async()=>{a(!0);try{const e=Vg(ng(Bv,"internships"),Wg("createdBy","==",v.uid)),n=(await ly(e)).docs.map(e=>e.id);if(0===n.length)return t([]),void a(!1);const r=Vg(ng(Bv,"applications"),Yg("appliedAt","desc")),i=(await ly(r)).docs.map(e=>l({id:e.id},e.data())).filter(e=>n.includes(e.internshipId));t(i)}catch(e){console.error("Error fetching applications:",e)}finally{a(!1)}},[v.uid]),w=(0,r.useCallback)(()=>{let t=e;"all"!==p&&(t=t.filter(e=>e.status===p)),g&&(t=t.filter(e=>e.applicantName.toLowerCase().includes(g.toLowerCase())||e.internshipTitle.toLowerCase().includes(g.toLowerCase())||e.applicantEmail.toLowerCase().includes(g.toLowerCase()))),i(t)},[e,p,g]);(0,r.useEffect)(()=>{v?x():b("/admin/login")},[v,b,x]),(0,r.useEffect)(()=>{w()},[w]);const N=async function(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=e.find(e=>e.id===n)||((null===u||void 0===u?void 0:u.id)===n?u:null),o=null===a||void 0===a?void 0:a.status;if("approved"!==o||"rejected"!==r)if("rejected"!==o||"approved"!==r){c(n);try{const e=l({status:r,statusUpdatedAt:(new Date).toISOString(),statusUpdatedBy:v.uid},s);i&&(e.rejectionReason=i),await uy(rg(Bv,"applications",n),e),t(t=>t.map(t=>t.id===n?l(l({},t),e):t)),(null===u||void 0===u?void 0:u.id)===n&&d(t=>l(l({},t),e));const a="approved"===r?"Application approved successfully.":"rejected"===r?"Application rejected successfully.":"viewed"===r?"Application marked as viewed.":"Application updated: ".concat(r,".");alert(a)}catch(h){console.error("Error updating application status:",h),alert("Failed to update application status. Please try again.")}finally{c(null)}}else alert("This application is already rejected and cannot be approved.");else alert("This application is already approved and cannot be rejected.")},_=async e=>{const t=prompt("Enter start date for the candidate (optional, e.g., 2025-10-01):");let n={};if(t){const e=new Date(t);isNaN(e.getTime())?alert("Invalid date. Approval will proceed without setting a start date."):n.startDate=e.toISOString()}await N(e,"approved","",n)},k=e=>{switch(e){case"submitted":return(0,qv.jsx)(ub,{className:"w-4 h-4 text-yellow-500"});case"approved":return(0,qv.jsx)(hb,{className:"w-4 h-4 text-green-500"});case"rejected":return(0,qv.jsx)(Jb,{className:"w-4 h-4 text-red-500"});case"viewed":return(0,qv.jsx)(Nb,{className:"w-4 h-4 text-blue-500"});default:return(0,qv.jsx)(ub,{className:"w-4 h-4 text-gray-500"})}},S=e=>{switch(e){case"submitted":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"viewed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=(()=>{const t={total:e.length,submitted:e.filter(e=>"submitted"===e.status).length,approved:e.filter(e=>"approved"===e.status).length,rejected:e.filter(e=>"rejected"===e.status).length,viewed:e.filter(e=>"viewed"===e.status).length};return t})(),A=e=>{if(!e)return null;try{if("function"===typeof e.toDate)return e.toDate();const t=new Date(e);return isNaN(t.getTime())?null:t}catch(t){return null}};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("button",{onClick:()=>b("/admin/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Dashboard"]}),(0,qv.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Applications"})]}),(0,qv.jsxs)("div",{className:"text-sm text-gray-600",children:[n.length," of ",e.length," applications"]})]})})}),(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Qb,{className:"w-8 h-8 text-blue-500"}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),(0,qv.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.total})]})]})}),(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(ub,{className:"w-8 h-8 text-yellow-500"}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Submitted"}),(0,qv.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.submitted})]})]})}),(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(hb,{className:"w-8 h-8 text-green-500"}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),(0,qv.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.approved})]})]})}),(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Jb,{className:"w-8 h-8 text-red-500"}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),(0,qv.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.rejected})]})]})}),(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Nb,{className:"w-8 h-8 text-blue-500"}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Viewed"}),(0,qv.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.viewed})]})]})})]}),(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Mb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"text",placeholder:"Search applications...",value:g,onChange:e=>y(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Sb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white",children:[(0,qv.jsx)("option",{value:"all",children:"All Status"}),(0,qv.jsx)("option",{value:"submitted",children:"Submitted"}),(0,qv.jsx)("option",{value:"approved",children:"Approved"}),(0,qv.jsx)("option",{value:"rejected",children:"Rejected"}),(0,qv.jsx)("option",{value:"viewed",children:"Viewed"})]})]})]}),(0,qv.jsx)("button",{onClick:()=>{y(""),m("all")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})]})}),s?(0,qv.jsxs)("div",{className:"text-center py-12",children:[(0,qv.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),(0,qv.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading applications..."})]}):0===n.length?(0,qv.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[(0,qv.jsx)(Qb,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,qv.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No applications found"}),(0,qv.jsx)("p",{className:"mt-2 text-gray-600",children:0===e.length?"No applications received yet.":"Try adjusting your search criteria."})]}):(0,qv.jsx)("div",{className:"space-y-6",children:n.map(e=>(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("div",{className:"flex items-start justify-between",children:(0,qv.jsxs)("div",{className:"flex-1",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.applicantName}),(0,qv.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(S(e.status)),children:(0,qv.jsxs)("div",{className:"flex items-center",children:[k(e.status),(0,qv.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})})]}),(0,qv.jsxs)("div",{className:"flex items-center space-x-6 mb-4 text-sm text-gray-600",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Cb,{className:"w-4 h-4 mr-1"}),e.applicantEmail]}),e.applicantPhone&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Rb,{className:"w-4 h-4 mr-1"}),e.applicantPhone]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(lb,{className:"w-4 h-4 mr-1"}),e.university||"Not provided"]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(ub,{className:"w-4 h-4 mr-1"}),"Applied: ",new Date(e.appliedAt).toLocaleDateString()]})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,qv.jsx)("strong",{children:"Position:"})," ",e.internshipTitle]}),e.major&&(0,qv.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,qv.jsx)("strong",{children:"Major:"})," ",e.major]}),e.graduationYear&&(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,qv.jsx)("strong",{children:"Graduation Year:"})," ",e.graduationYear]})]}),e.coverLetter&&(0,qv.jsx)("p",{className:"text-gray-700 mb-4 leading-relaxed",children:e.coverLetter.length>200?"".concat(e.coverLetter.substring(0,200),"..."):e.coverLetter})]})}),(0,qv.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,qv.jsxs)("button",{onClick:()=>(e=>{d(e),f(!0)})(e),className:"flex items-center px-4 py-2 text-primary-600 border border-primary-600 rounded-lg hover:bg-primary-50 transition-colors",children:[(0,qv.jsx)(Nb,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),(0,qv.jsx)("div",{className:"flex items-center space-x-2",children:"submitted"===e.status?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsxs)("button",{onClick:()=>N(e.id,"viewed"),disabled:o===e.id,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(Nb,{className:"w-4 h-4 mr-2"}),o===e.id?"Updating...":"Mark Viewed"]}),(0,qv.jsxs)("button",{onClick:()=>_(e.id),disabled:o===e.id,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(hb,{className:"w-4 h-4 mr-2"}),o===e.id?"Updating...":"Approve"]}),(0,qv.jsxs)("button",{onClick:()=>{const t=prompt("Please provide a reason for rejection (optional):");N(e.id,"rejected",t||"")},disabled:o===e.id,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(Jb,{className:"w-4 h-4 mr-2"}),o===e.id?"Updating...":"Reject"]})]}):"viewed"===e.status?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsxs)("button",{onClick:()=>_(e.id),disabled:o===e.id,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(hb,{className:"w-4 h-4 mr-2"}),o===e.id?"Updating...":"Approve"]}),(0,qv.jsxs)("button",{onClick:()=>{const t=prompt("Please provide a reason for rejection (optional):");N(e.id,"rejected",t||"")},disabled:o===e.id,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(Jb,{className:"w-4 h-4 mr-2"}),o===e.id?"Updating...":"Reject"]})]}):(0,qv.jsxs)("span",{className:"text-sm text-gray-500",children:["Status: ",e.status.charAt(0).toUpperCase()+e.status.slice(1),e.statusUpdatedAt&&(0,qv.jsxs)(qv.Fragment,{children:[" on ",new Date(e.statusUpdatedAt).toLocaleDateString()]})]})})]})]})},e.id))})]}),h&&u&&(0,qv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,qv.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,qv.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:u.applicantName}),(0,qv.jsxs)("p",{className:"text-gray-600 mt-1",children:["Application for ",u.internshipTitle]})]}),(0,qv.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(S(u.status)),children:(0,qv.jsxs)("div",{className:"flex items-center",children:[k(u.status),(0,qv.jsx)("span",{className:"ml-1 capitalize",children:u.status})]})})]})}),(0,qv.jsxs)("div",{className:"p-6 space-y-6",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Information"}),(0,qv.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Cb,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,qv.jsx)("a",{href:"mailto:".concat(u.applicantEmail),className:"text-primary-600 hover:text-primary-700",children:u.applicantEmail})]}),u.applicantPhone&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Rb,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,qv.jsx)("a",{href:"tel:".concat(u.applicantPhone),className:"text-primary-600 hover:text-primary-700",children:u.applicantPhone})]})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Education"}),(0,qv.jsxs)("div",{className:"space-y-2 text-sm",children:[u.university&&(0,qv.jsxs)("p",{children:[(0,qv.jsx)("strong",{children:"University:"})," ",u.university]}),u.major&&(0,qv.jsxs)("p",{children:[(0,qv.jsx)("strong",{children:"Major:"})," ",u.major]}),u.graduationYear&&(0,qv.jsxs)("p",{children:[(0,qv.jsx)("strong",{children:"Graduation Year:"})," ",u.graduationYear]})]})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Application Timeline"}),(0,qv.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,qv.jsxs)("p",{children:[(0,qv.jsx)("strong",{children:"Applied:"})," ",new Date(u.appliedAt).toLocaleString()]}),u.statusUpdatedAt&&(0,qv.jsxs)("p",{children:[(0,qv.jsx)("strong",{children:"Status Updated:"})," ",new Date(u.statusUpdatedAt).toLocaleString()]}),u.availableStartDate&&(0,qv.jsxs)("p",{children:[(0,qv.jsx)("strong",{children:"Available Start Date:"})," ",new Date(u.availableStartDate).toLocaleDateString()]}),u.startDate&&(0,qv.jsxs)("p",{children:[(0,qv.jsx)("strong",{children:"Confirmed Start Date:"})," ",new Date(u.startDate).toLocaleDateString()]})]})]}),u.coverLetter&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Cover Letter"}),(0,qv.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,qv.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:u.coverLetter})})]}),u.whyInterested&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Why Interested"}),(0,qv.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,qv.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:u.whyInterested})})]}),u.relevantExperience&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Relevant Experience"}),(0,qv.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,qv.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:u.relevantExperience})})]}),u.profile&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Additional Profile Information"}),(0,qv.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[u.profile.bio&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("strong",{className:"text-gray-900",children:"Bio:"}),(0,qv.jsx)("p",{className:"text-gray-700 mt-1",children:u.profile.bio})]}),u.profile.skills&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("strong",{className:"text-gray-900",children:"Skills:"}),(0,qv.jsx)("p",{className:"text-gray-700 mt-1",children:u.profile.skills})]}),u.profile.experience&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("strong",{className:"text-gray-900",children:"Experience:"}),(0,qv.jsx)("p",{className:"text-gray-700 mt-1",children:u.profile.experience})]}),u.profile.linkedinUrl&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("strong",{className:"text-gray-900",children:"LinkedIn:"}),(0,qv.jsx)("a",{href:u.profile.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 ml-2",children:u.profile.linkedinUrl})]}),u.profile.portfolioUrl&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("strong",{className:"text-gray-900",children:"Portfolio:"}),(0,qv.jsx)("a",{href:u.profile.portfolioUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 ml-2",children:u.profile.portfolioUrl})]})]})]}),u.rejectionReason&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Rejection Reason"}),(0,qv.jsx)("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg",children:(0,qv.jsx)("p",{className:"text-red-700",children:u.rejectionReason})})]})]}),(0,qv.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-between",children:[(0,qv.jsx)("button",{onClick:()=>{f(!1),d(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),"submitted"===u.status&&(0,qv.jsxs)("div",{className:"flex space-x-2",children:[(0,qv.jsxs)("button",{onClick:()=>N(u.id,"viewed"),disabled:o===u.id,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(Nb,{className:"w-4 h-4 mr-2"}),"Mark Viewed"]}),(0,qv.jsxs)("button",{onClick:()=>_(u.id),disabled:o===u.id,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(hb,{className:"w-4 h-4 mr-2"}),"Approve"]}),(0,qv.jsxs)("button",{onClick:()=>{const e=prompt("Please provide a reason for rejection (optional):");N(u.id,"rejected",e||"")},disabled:o===u.id,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(Jb,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),"approved"===u.status&&(0,qv.jsxs)("div",{className:"flex space-x-2",children:[(0,qv.jsxs)("button",{onClick:()=>(e=>{const t=new ZS,n=A(e.startDate);t.setFontSize(20),t.setFont("helvetica","bold"),t.text("INTERNSHIP OFFER LETTER",20,30),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Date: ".concat((new Date).toLocaleDateString()),20,50),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Dear ".concat(e.applicantName||"Candidate",","),20,70),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("We are pleased to offer you an internship position with our organization.",20,90),t.setFont("helvetica","bold"),t.text("Position Details:",20,110),t.setFont("helvetica","normal"),t.text("Position: ".concat(e.internshipTitle||""),20,125),t.text("Company: ".concat(e.companyName||"Our Company"),20,140),n&&t.text("Start Date: ".concat(n.toLocaleDateString()),20,155),t.setFont("helvetica","bold"),t.text("Congratulations and welcome to the team!",20,180),t.setFont("helvetica","normal"),t.text("Best regards,",20,195),t.text("HR Department",20,205),t.text(e.companyName||"Our Company",20,215);const r=(e.applicantName||"candidate").replace(/\s+/g,"-");t.save("offer-letter-".concat(r,".pdf"))})(u),className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,qv.jsx)(gb,{className:"w-4 h-4 mr-2"}),"Offer Letter"]}),(0,qv.jsxs)("button",{onClick:()=>(e=>{const t=new ZS,n=A(e.startDate);t.setFontSize(20),t.setFont("helvetica","bold"),t.text("INTERNSHIP JOINING LETTER",20,30),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Date: ".concat((new Date).toLocaleDateString()),20,50),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("To: ".concat(e.applicantName||"Candidate"),20,70),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("We are pleased to confirm your joining as an intern for the role of ".concat(e.internshipTitle||"","."),20,90),n&&t.text("Please report on ".concat(n.toLocaleDateString()," to begin your internship."),20,105),t.text("Kindly bring a valid ID and any required documents as communicated.",20,120),t.setFont("helvetica","bold"),t.text("Welcome aboard!",20,145),t.setFont("helvetica","normal"),t.text("Regards,",20,160),t.text("HR Department",20,170),t.text(e.companyName||"Our Company",20,180);const r=(e.applicantName||"candidate").replace(/\s+/g,"-");t.save("joining-letter-".concat(r,".pdf"))})(u),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,qv.jsx)(gb,{className:"w-4 h-4 mr-2"}),"Joining Letter"]})]})]})]})})]})},XA=()=>{const[e,t]=(0,r.useState)({title:"",company:"",location:"",locationType:"onsite",duration:"",startDate:"",endDate:"",salary:"",description:"",requirements:"",responsibilities:"",benefits:"",applicationDeadline:"",skillsRequired:"",department:"",contactEmail:"",status:"draft"}),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)({}),{currentUser:o}=Hv(),c=fe(),u=e=>{const{name:n,value:r}=e.target;t(e=>l(l({},e),{},{[n]:r})),s[n]&&a(e=>l(l({},e),{},{[n]:""}))},d=async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"draft";if(t.preventDefault(),"active"!==n||(()=>{const t={};return e.title.trim()||(t.title="Title is required"),e.company.trim()||(t.company="Company is required"),e.location.trim()||(t.location="Location is required"),e.duration.trim()||(t.duration="Duration is required"),e.description.trim()||(t.description="Description is required"),e.requirements.trim()||(t.requirements="Requirements are required"),e.applicationDeadline||(t.applicationDeadline="Application deadline is required"),e.startDate&&e.endDate&&e.startDate>=e.endDate&&(t.endDate="End date must be after start date"),e.applicationDeadline&&new Date(e.applicationDeadline)<=new Date&&(t.applicationDeadline="Application deadline must be in the future"),a(t),0===Object.keys(t).length})()){i(!0);try{const t=l(l({},e),{},{status:n,createdBy:o.uid,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),applicationsCount:0});await hy(ng(Bv,"internships"),t),alert("Internship ".concat("draft"===n?"saved as draft":"published"," successfully!")),c("/admin/dashboard")}catch(r){console.error("Error creating internship:",r),alert("Failed to create internship. Please try again.")}finally{i(!1)}}};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,qv.jsx)("div",{className:"flex items-center justify-between",children:(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("button",{onClick:()=>c("/admin/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Dashboard"]}),(0,qv.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Internship"})]})})})}),(0,qv.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,qv.jsxs)("form",{onSubmit:e=>d(e,"active"),className:"space-y-8",children:[(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Basic Information"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title *"}),(0,qv.jsx)("input",{type:"text",name:"title",value:e.title,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(s.title?"border-red-500":"border-gray-300"),placeholder:"e.g. Software Engineering Intern"}),s.title&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.title})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company *"}),(0,qv.jsx)("input",{type:"text",name:"company",value:e.company,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(s.company?"border-red-500":"border-gray-300"),placeholder:"e.g. Tech Solutions Inc."}),s.company&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.company})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),(0,qv.jsx)("input",{type:"text",name:"location",value:e.location,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(s.location?"border-red-500":"border-gray-300"),placeholder:"e.g. San Francisco, CA"}),s.location&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.location})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Type"}),(0,qv.jsxs)("select",{name:"locationType",value:e.locationType,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,qv.jsx)("option",{value:"onsite",children:"On-site"}),(0,qv.jsx)("option",{value:"remote",children:"Remote"}),(0,qv.jsx)("option",{value:"hybrid",children:"Hybrid"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),(0,qv.jsx)("input",{type:"text",name:"duration",value:e.duration,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(s.duration?"border-red-500":"border-gray-300"),placeholder:"e.g. 3 months, Summer 2024"}),s.duration&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.duration})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),(0,qv.jsx)("input",{type:"text",name:"department",value:e.department,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g. Engineering, Marketing"})]})]})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Dates & Compensation"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,qv.jsx)("input",{type:"date",name:"startDate",value:e.startDate,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,qv.jsx)("input",{type:"date",name:"endDate",value:e.endDate,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(s.endDate?"border-red-500":"border-gray-300")}),s.endDate&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.endDate})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary/Stipend"}),(0,qv.jsx)("input",{type:"text",name:"salary",value:e.salary,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g. $2000/month, Unpaid, $15/hour"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Deadline *"}),(0,qv.jsx)("input",{type:"date",name:"applicationDeadline",value:e.applicationDeadline,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(s.applicationDeadline?"border-red-500":"border-gray-300")}),s.applicationDeadline&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.applicationDeadline})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),(0,qv.jsx)("input",{type:"email",name:"contactEmail",value:e.contactEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"hr@company.com"})]})]})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Detailed Information"}),(0,qv.jsxs)("div",{className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Description *"}),(0,qv.jsx)("textarea",{name:"description",value:e.description,onChange:u,rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(s.description?"border-red-500":"border-gray-300"),placeholder:"Describe the internship role, what the intern will be doing, and the learning opportunities..."}),s.description&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.description})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requirements *"}),(0,qv.jsx)("textarea",{name:"requirements",value:e.requirements,onChange:u,rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(s.requirements?"border-red-500":"border-gray-300"),placeholder:"List the required qualifications, skills, education level, etc..."}),s.requirements&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.requirements})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Responsibilities"}),(0,qv.jsx)("textarea",{name:"responsibilities",value:e.responsibilities,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"List the main tasks and responsibilities the intern will have..."})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills Required"}),(0,qv.jsx)("input",{type:"text",name:"skillsRequired",value:e.skillsRequired,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g. JavaScript, Python, React, Communication, Problem Solving"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Benefits & Perks"}),(0,qv.jsx)("textarea",{name:"benefits",value:e.benefits,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe the benefits, learning opportunities, mentorship, etc..."})]})]})]}),(0,qv.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,qv.jsx)("button",{type:"button",onClick:()=>c("/admin/dashboard"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,qv.jsxs)("div",{className:"flex space-x-3",children:[(0,qv.jsxs)("button",{type:"button",onClick:e=>d(e,"draft"),disabled:n,className:"flex items-center px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(Fb,{className:"w-4 h-4 mr-2"}),n?"Saving...":"Save as Draft"]}),(0,qv.jsxs)("button",{type:"submit",disabled:n,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(Nb,{className:"w-4 h-4 mr-2"}),n?"Publishing...":"Publish Internship"]})]})]})]})})]})},$A=()=>{const{id:e}=pe(),[t,n]=(0,r.useState)({title:"",company:"",location:"",locationType:"onsite",duration:"",startDate:"",endDate:"",salary:"",description:"",requirements:"",responsibilities:"",benefits:"",applicationDeadline:"",skillsRequired:"",department:"",contactEmail:"",status:"draft"}),[i,s]=(0,r.useState)(!1),[a,o]=(0,r.useState)(!0),[c,u]=(0,r.useState)({}),{currentUser:d}=Hv(),h=fe(),f=(0,r.useCallback)(async()=>{try{const t=rg(Bv,"internships",e),r=await ay(t);if(r.exists()){const e=r.data();if(e.createdBy!==d.uid)return alert("You do not have permission to edit this internship."),void h("/admin/dashboard");n({title:e.title||"",company:e.company||"",location:e.location||"",locationType:e.locationType||"onsite",duration:e.duration||"",startDate:e.startDate||"",endDate:e.endDate||"",salary:e.salary||"",description:e.description||"",requirements:e.requirements||"",responsibilities:e.responsibilities||"",benefits:e.benefits||"",applicationDeadline:e.applicationDeadline||"",skillsRequired:e.skillsRequired||"",department:e.department||"",contactEmail:e.contactEmail||"",status:e.status||"draft"})}else alert("Internship not found."),h("/admin/dashboard")}catch(t){console.error("Error fetching internship:",t),alert("Error loading internship data."),h("/admin/dashboard")}finally{o(!1)}},[d,e,h]);(0,r.useEffect)(()=>{d?f():h("/admin/login")},[d,h,f]);const p=e=>{const{name:t,value:r}=e.target;n(e=>l(l({},e),{},{[t]:r})),c[t]&&u(e=>l(l({},e),{},{[t]:""}))},m=async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.status;if(n.preventDefault(),"active"!==r||(()=>{const e={};return t.title.trim()||(e.title="Title is required"),t.company.trim()||(e.company="Company is required"),t.location.trim()||(e.location="Location is required"),t.duration.trim()||(e.duration="Duration is required"),t.description.trim()||(e.description="Description is required"),t.requirements.trim()||(e.requirements="Requirements are required"),t.applicationDeadline||(e.applicationDeadline="Application deadline is required"),t.startDate&&t.endDate&&t.startDate>=t.endDate&&(e.endDate="End date must be after start date"),t.applicationDeadline&&new Date(t.applicationDeadline)<=new Date&&(e.applicationDeadline="Application deadline must be in the future"),u(e),0===Object.keys(e).length})()){s(!0);try{const n=l(l({},t),{},{status:r,updatedAt:(new Date).toISOString()});await uy(rg(Bv,"internships",e),n),alert("Internship updated successfully!"),h("/admin/dashboard")}catch(i){console.error("Error updating internship:",i),alert("Failed to update internship. Please try again.")}finally{s(!1)}}};return a?(0,qv.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,qv.jsxs)("div",{className:"text-center",children:[(0,qv.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),(0,qv.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading internship data..."})]})}):(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,qv.jsx)("div",{className:"flex items-center justify-between",children:(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("button",{onClick:()=>h("/admin/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Dashboard"]}),(0,qv.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Internship"})]})})})}),(0,qv.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,qv.jsxs)("form",{onSubmit:e=>m(e,"active"),className:"space-y-8",children:[(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Basic Information"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title *"}),(0,qv.jsx)("input",{type:"text",name:"title",value:t.title,onChange:p,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(c.title?"border-red-500":"border-gray-300"),placeholder:"e.g. Software Engineering Intern"}),c.title&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.title})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company *"}),(0,qv.jsx)("input",{type:"text",name:"company",value:t.company,onChange:p,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(c.company?"border-red-500":"border-gray-300"),placeholder:"e.g. Tech Solutions Inc."}),c.company&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.company})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),(0,qv.jsx)("input",{type:"text",name:"location",value:t.location,onChange:p,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(c.location?"border-red-500":"border-gray-300"),placeholder:"e.g. San Francisco, CA"}),c.location&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.location})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Type"}),(0,qv.jsxs)("select",{name:"locationType",value:t.locationType,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,qv.jsx)("option",{value:"onsite",children:"On-site"}),(0,qv.jsx)("option",{value:"remote",children:"Remote"}),(0,qv.jsx)("option",{value:"hybrid",children:"Hybrid"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),(0,qv.jsx)("input",{type:"text",name:"duration",value:t.duration,onChange:p,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(c.duration?"border-red-500":"border-gray-300"),placeholder:"e.g. 3 months, Summer 2024"}),c.duration&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.duration})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,qv.jsxs)("select",{name:"status",value:t.status,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,qv.jsx)("option",{value:"draft",children:"Draft"}),(0,qv.jsx)("option",{value:"active",children:"Active"}),(0,qv.jsx)("option",{value:"closed",children:"Closed"})]})]})]})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Dates & Compensation"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,qv.jsx)("input",{type:"date",name:"startDate",value:t.startDate,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,qv.jsx)("input",{type:"date",name:"endDate",value:t.endDate,onChange:p,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(c.endDate?"border-red-500":"border-gray-300")}),c.endDate&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.endDate})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary/Stipend"}),(0,qv.jsx)("input",{type:"text",name:"salary",value:t.salary,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g. $2000/month, Unpaid, $15/hour"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Deadline *"}),(0,qv.jsx)("input",{type:"date",name:"applicationDeadline",value:t.applicationDeadline,onChange:p,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(c.applicationDeadline?"border-red-500":"border-gray-300")}),c.applicationDeadline&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.applicationDeadline})]})]})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Detailed Information"}),(0,qv.jsxs)("div",{className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Description *"}),(0,qv.jsx)("textarea",{name:"description",value:t.description,onChange:p,rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(c.description?"border-red-500":"border-gray-300"),placeholder:"Describe the internship role, what the intern will be doing, and the learning opportunities..."}),c.description&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.description})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requirements *"}),(0,qv.jsx)("textarea",{name:"requirements",value:t.requirements,onChange:p,rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ".concat(c.requirements?"border-red-500":"border-gray-300"),placeholder:"List the required qualifications, skills, education level, etc..."}),c.requirements&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.requirements})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Responsibilities"}),(0,qv.jsx)("textarea",{name:"responsibilities",value:t.responsibilities,onChange:p,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"List the main tasks and responsibilities the intern will have..."})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills Required"}),(0,qv.jsx)("input",{type:"text",name:"skillsRequired",value:t.skillsRequired,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g. JavaScript, Python, React, Communication, Problem Solving"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Benefits & Perks"}),(0,qv.jsx)("textarea",{name:"benefits",value:t.benefits,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe the benefits, learning opportunities, mentorship, etc..."})]})]})]}),(0,qv.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,qv.jsx)("button",{type:"button",onClick:()=>h("/admin/dashboard"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,qv.jsxs)("div",{className:"flex space-x-3",children:[(0,qv.jsxs)("button",{type:"button",onClick:e=>m(e,"draft"),disabled:i,className:"flex items-center px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(Fb,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save as Draft"]}),(0,qv.jsxs)("button",{type:"submit",disabled:i,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[(0,qv.jsx)(Fb,{className:"w-4 h-4 mr-2"}),i?"Updating...":"Update Internship"]})]})]})]})})]})},ZA=()=>{const e=fe(),{currentUser:t}=Hv(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)("all"),[h,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!t)return;const e=fy(Vg(ng(Bv,"internships"),Wg("createdBy","==",t.uid)),e=>{const t=e.docs.map(e=>l({id:e.id},e.data()));i(t),a(!1)});return()=>e()},[t]);const p=async(e,t)=>{try{await uy(rg(Bv,"internships",e),{status:t,updatedAt:(new Date).toISOString()}),f(null)}catch(n){console.error("Error updating status:",n),alert("Failed to update status. Please try again.")}},m=n.filter(e=>{const t=e.title.toLowerCase().includes(o.toLowerCase())||e.company.toLowerCase().includes(o.toLowerCase()),n="all"===u||e.status===u;return t&&n}),g=e=>{const t={draft:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",closed:"bg-red-100 text-red-800"};return t[e]||t.draft};return s?(0,qv.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,qv.jsxs)("div",{className:"text-center",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,qv.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your internships..."})]})}):(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("button",{onClick:()=>e("/admin/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Dashboard"]}),(0,qv.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Internships"})]}),(0,qv.jsxs)("button",{onClick:()=>e("/admin/create-internship"),className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[(0,qv.jsx)(Ob,{className:"mr-2"}),"Create New"]})]})})}),(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,qv.jsxs)("div",{className:"flex-1 relative",children:[(0,qv.jsx)(Mb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"text",placeholder:"Search internships...",value:o,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Sb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,qv.jsx)("option",{value:"all",children:"All Status"}),(0,qv.jsx)("option",{value:"draft",children:"Draft"}),(0,qv.jsx)("option",{value:"active",children:"Active"}),(0,qv.jsx)("option",{value:"paused",children:"Paused"}),(0,qv.jsx)("option",{value:"closed",children:"Closed"})]})]})]})}),0===m.length?(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[(0,qv.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,qv.jsx)(Nb,{className:"w-12 h-12 text-gray-400"})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:o||"all"!==u?"No internships found":"No internships yet"}),(0,qv.jsx)("p",{className:"text-gray-600 mb-6",children:o||"all"!==u?"Try adjusting your search or filter criteria.":"Create your first internship to get started."}),!o&&"all"===u&&(0,qv.jsx)("button",{onClick:()=>e("/admin/create-internship"),className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Create Internship"})]}):(0,qv.jsx)("div",{className:"space-y-4",children:m.map(t=>(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:(0,qv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qv.jsxs)("div",{className:"flex-1",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),(0,qv.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(g(t.status)),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),(0,qv.jsxs)("p",{className:"text-gray-600 mb-2",children:[t.company," \u2022 ",t.location]}),(0,qv.jsx)("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:t.description}),(0,qv.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,qv.jsxs)("span",{children:["Applications: ",t.applicationsCount||0]}),(0,qv.jsxs)("span",{children:["Duration: ",t.duration]}),t.applicationDeadline&&(0,qv.jsxs)("span",{children:["Deadline: ",new Date(t.applicationDeadline).toLocaleDateString()]})]})]}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("button",{onClick:()=>f(h===t.id?null:t.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,qv.jsx)(Pb,{})}),h===t.id&&(0,qv.jsxs)("div",{className:"absolute right-0 top-8 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[(0,qv.jsxs)("button",{onClick:()=>e("/admin/edit-internship/".concat(t.id)),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,qv.jsx)(bb,{className:"mr-2"}),"Edit"]}),"active"!==t.status&&(0,qv.jsx)("button",{onClick:()=>p(t.id,"active"),className:"w-full px-4 py-2 text-left text-sm text-green-700 hover:bg-gray-50",children:"Activate"}),"active"===t.status&&(0,qv.jsx)("button",{onClick:()=>p(t.id,"paused"),className:"w-full px-4 py-2 text-left text-sm text-yellow-700 hover:bg-gray-50",children:"Pause"}),"closed"!==t.status&&(0,qv.jsx)("button",{onClick:()=>p(t.id,"closed"),className:"w-full px-4 py-2 text-left text-sm text-red-700 hover:bg-gray-50",children:"Close"}),(0,qv.jsx)("hr",{className:"my-1"}),(0,qv.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this internship? This action cannot be undone."))try{await dy(rg(Bv,"internships",e)),f(null)}catch(t){console.error("Error deleting internship:",t),alert("Failed to delete internship. Please try again.")}})(t.id),className:"w-full px-4 py-2 text-left text-sm text-red-700 hover:bg-red-50 flex items-center",children:[(0,qv.jsx)(Hb,{className:"mr-2"}),"Delete"]})]})]})]})},t.id))})]})]})},eE=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(!1),[x,w]=(0,r.useState)({coverLetter:"",experience:"",skills:"",availability:"",portfolio:"",resume:""}),{currentUser:N,userProfile:_,logout:k}=Hv(),S=fe(),j=(0,r.useCallback)(async()=>{c(!0);try{const e=Vg(ng(Bv,"internships"),Wg("status","==","active"),Yg("createdAt","desc")),n=(await ly(e)).docs.map(e=>l({id:e.id},e.data()));t(n)}catch(e){console.error("Error fetching internships:",e)}finally{c(!1)}},[]),A=(0,r.useCallback)(async()=>{try{const e=Vg(ng(Bv,"applications"),Wg("applicantId","==",N.uid)),t=(await ly(e)).docs.map(e=>l({id:e.id},e.data()));a(t)}catch(e){console.error("Error fetching applications:",e)}},[N]);(0,r.useEffect)(()=>{N?(j(),A()):S("/login")},[N,S,j,A]);const E=(0,r.useCallback)(()=>{let t=e;u&&(t=t.filter(e=>e.title.toLowerCase().includes(u.toLowerCase())||e.company.toLowerCase().includes(u.toLowerCase())||e.description.toLowerCase().includes(u.toLowerCase()))),h&&(t=t.filter(e=>e.location.toLowerCase().includes(h.toLowerCase()))),p&&(t=t.filter(e=>e.type===p)),i(t)},[e,u,h,p]);(0,r.useEffect)(()=>{E()},[E]);const C=s.some(e=>"submitted"===e.status||"viewed"===e.status),L=e=>{const t={submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",viewed:"bg-blue-100 text-blue-800"},n={submitted:pb,approved:fb,rejected:Xb,viewed:Nb}[e]||pb;return(0,qv.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t[e]||t.submitted),children:[(0,qv.jsx)(n,{className:"w-3 h-3 mr-1"}),e?e.charAt(0).toUpperCase()+e.slice(1):"Submitted"]})};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:(0,qv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold text-primary-600",children:"InternshipHub"}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome back, ",(null===_||void 0===_?void 0:_.firstName)||"Student"]})]}),(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,qv.jsx)(Yb,{className:"text-gray-400"}),(0,qv.jsx)("span",{className:"text-sm text-gray-700",children:null===N||void 0===N?void 0:N.email})]}),(0,qv.jsxs)("button",{onClick:async()=>{try{await k(),S("/")}catch(e){console.error("Error logging out:",e)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 transition-colors",children:[(0,qv.jsx)(Eb,{className:"mr-2"}),"Logout"]})]})]})})}),(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Find Your Dream Internship"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Mb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"text",placeholder:"Search internships...",value:u,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Lb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"text",placeholder:"Location",value:h,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,qv.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,qv.jsx)("option",{value:"",children:"All Types"}),(0,qv.jsx)("option",{value:"Full-time",children:"Full-time"}),(0,qv.jsx)("option",{value:"Part-time",children:"Part-time"}),(0,qv.jsx)("option",{value:"Remote",children:"Remote"}),(0,qv.jsx)("option",{value:"Hybrid",children:"Hybrid"})]}),(0,qv.jsx)("button",{onClick:()=>{d(""),f(""),m("")},className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Clear Filters"})]})]}),(0,qv.jsx)("div",{className:"space-y-6",children:o?(0,qv.jsxs)("div",{className:"text-center py-12",children:[(0,qv.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),(0,qv.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading internships..."})]}):0===n.length?(0,qv.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[(0,qv.jsx)(cb,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),(0,qv.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No internships found"}),(0,qv.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search criteria or check back later for new opportunities."})]}):n.map(e=>{const t=(n=e.id,s.some(e=>e.internshipId===n));var n;const r=(e=>{const t=s.find(t=>t.internshipId===e);return t?t.status:null})(e.id);return(0,qv.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 overflow-hidden",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,qv.jsxs)("div",{className:"flex-1",children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qv.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.title}),t&&(0,qv.jsx)("div",{className:"ml-4",children:L(r)})]}),(0,qv.jsx)("p",{className:"text-lg font-medium text-primary-600 mb-1",children:e.company})]}),(0,qv.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:(0,qv.jsx)(jb,{className:"w-5 h-5"})})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-sm text-gray-600",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(Lb,{className:"w-4 h-4 mr-2 text-gray-400"}),e.location]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(pb,{className:"w-4 h-4 mr-2 text-gray-400"}),e.type]}),e.duration&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(cb,{className:"w-4 h-4 mr-2 text-gray-400"}),e.duration]}),e.salary&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(mb,{className:"w-4 h-4 mr-2 text-gray-400"}),e.salary]})]}),(0,qv.jsx)("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e.description.length>300?"".concat(e.description.substring(0,300),"..."):e.description}),e.requirements&&(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Requirements:"}),(0,qv.jsx)("p",{className:"text-sm text-gray-600",children:e.requirements})]}),(0,qv.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.applicationDeadline&&(0,qv.jsxs)("span",{children:["Deadline: ",new Date(e.applicationDeadline).toLocaleDateString()]}),e.startDate&&(0,qv.jsxs)("span",{children:["Start Date: ",new Date(e.startDate).toLocaleDateString()]})]}),(0,qv.jsxs)("div",{className:"flex space-x-3",children:[(0,qv.jsxs)("button",{className:"px-4 py-2 border border-primary-600 text-primary-600 rounded-lg hover:bg-primary-50 transition-colors flex items-center",children:[(0,qv.jsx)(Nb,{className:"w-4 h-4 mr-2"}),"View Details"]}),t||C?(0,qv.jsxs)("button",{disabled:!0,className:"px-6 py-2 bg-gray-400 text-white rounded-lg cursor-not-allowed flex items-center",children:[(0,qv.jsx)(fb,{className:"w-4 h-4 mr-2"}),t?"Applied":"Limit Reached"]}):(0,qv.jsxs)("button",{onClick:()=>(e=>{C?alert("You already have an active application. Please wait for a decision before applying to another internship."):(y(e),b(!0))})(e),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[(0,qv.jsx)(Ub,{className:"w-4 h-4 mr-2"}),"Apply Now"]})]})]})]})},e.id)})})]}),v&&g&&(0,qv.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,qv.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 xl:w-1/2 shadow-lg rounded-xl bg-white",children:[(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Apply for ",g.title]}),(0,qv.jsxs)("p",{className:"text-gray-600",children:["at ",g.company]})]}),(0,qv.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{const e={internshipId:g.id,internshipTitle:g.title,companyName:g.company,applicantId:N.uid,applicantName:"".concat(_.firstName," ").concat(_.lastName),applicantEmail:N.email,applicantPhone:_.phoneNumber||"",university:_.university||"",major:_.major||"",graduationYear:_.graduationYear||"",coverLetter:x.coverLetter,experience:x.experience,skills:x.skills,availability:x.availability,portfolio:x.portfolio,resume:x.resume,status:"submitted",appliedAt:(new Date).toISOString(),companyId:g.createdBy};await hy(ng(Bv,"applications"),e),w({coverLetter:"",experience:"",skills:"",availability:"",portfolio:"",resume:""}),b(!1),y(null),A(),alert("Application submitted successfully!")}catch(t){console.error("Error submitting application:",t),alert("Error submitting application. Please try again.")}finally{c(!1)}},className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Letter *"}),(0,qv.jsx)("textarea",{required:!0,rows:4,value:x.coverLetter,onChange:e=>w(l(l({},x),{},{coverLetter:e.target.value})),placeholder:"Tell us why you're interested in this position and what makes you a great candidate...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relevant Experience"}),(0,qv.jsx)("textarea",{rows:3,value:x.experience,onChange:e=>w(l(l({},x),{},{experience:e.target.value})),placeholder:"Describe any relevant work experience, projects, or internships...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills *"}),(0,qv.jsx)("textarea",{required:!0,rows:2,value:x.skills,onChange:e=>w(l(l({},x),{},{skills:e.target.value})),placeholder:"List your relevant skills (e.g., Programming languages, tools, soft skills)...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability *"}),(0,qv.jsx)("input",{type:"text",required:!0,value:x.availability,onChange:e=>w(l(l({},x),{},{availability:e.target.value})),placeholder:"e.g., Full-time, Part-time, Weekends",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portfolio/Website"}),(0,qv.jsx)("input",{type:"url",value:x.portfolio,onChange:e=>w(l(l({},x),{},{portfolio:e.target.value})),placeholder:"https://your-portfolio.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resume/CV Link"}),(0,qv.jsx)("input",{type:"url",value:x.resume,onChange:e=>w(l(l({},x),{},{resume:e.target.value})),placeholder:"https://drive.google.com/your-resume or LinkedIn profile",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,qv.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,qv.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Your Information"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("span",{className:"font-medium",children:"Name:"})," ",null===_||void 0===_?void 0:_.firstName," ",null===_||void 0===_?void 0:_.lastName]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("span",{className:"font-medium",children:"Email:"})," ",null===N||void 0===N?void 0:N.email]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("span",{className:"font-medium",children:"University:"})," ",null===_||void 0===_?void 0:_.university]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("span",{className:"font-medium",children:"Major:"})," ",null===_||void 0===_?void 0:_.major]})]})]}),(0,qv.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,qv.jsx)("button",{type:"button",onClick:()=>{b(!1),y(null),w({coverLetter:"",experience:"",skills:"",availability:"",portfolio:"",resume:""})},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),(0,qv.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors font-medium flex items-center",children:o?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)(Ub,{className:"w-4 h-4 mr-2"}),"Submit Application"]})})]})]})]})})]})},tE=()=>{var e,t,n,i,s,a,o;const[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(!0),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),{currentUser:y}=Hv(),v=e=>{if(!e)return null;try{if("function"===typeof e.toDate)return e.toDate();const t=new Date(e);return isNaN(t.getTime())?null:t}catch(t){return null}},b=(0,r.useCallback)(async()=>{if(y){h(!0);try{const e=Vg(ng(Bv,"applications"),Wg("applicantId","==",y.uid)),t=await ly(e),n=[];for(const r of t.docs){const e=l({id:r.id},r.data());if(e.internshipId){const t=await ay(rg(Bv,"internships",e.internshipId));t.exists()&&(e.internship=t.data())}n.push(e)}n.sort((e,t)=>{var n,r;const i=(null===(n=v(e.appliedAt))||void 0===n?void 0:n.getTime())||0;return((null===(r=v(t.appliedAt))||void 0===r?void 0:r.getTime())||0)-i}),u(n)}catch(e){console.error("Error fetching applications:",e)}finally{h(!1)}}},[y]);(0,r.useEffect)(()=>{b()},[b]);const x=e=>{switch(e){case"submitted":return(0,qv.jsx)(pb,{className:"w-5 h-5 text-yellow-500"});case"viewed":return(0,qv.jsx)(Nb,{className:"w-5 h-5 text-blue-500"});case"approved":return(0,qv.jsx)(hb,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,qv.jsx)(Jb,{className:"w-5 h-5 text-red-500"});default:return(0,qv.jsx)(pb,{className:"w-5 h-5 text-gray-500"})}},w=e=>{switch(e){case"submitted":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"viewed":return"bg-blue-100 text-blue-800 border-blue-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=e=>{const t=new ZS,n=e.internship;t.setFontSize(20),t.setFont("helvetica","bold"),t.text("INTERNSHIP OFFER LETTER",20,30),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Date: ".concat((new Date).toLocaleDateString()),20,50),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Dear "+(e.applicantName||"Candidate")+",",20,70),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("We are pleased to offer you an internship position with our organization.",20,90),t.setFont("helvetica","bold"),t.text("Position Details:",20,110),t.setFont("helvetica","normal"),t.text("Position: ".concat(n.title),20,125),t.text("Company: ".concat(n.company),20,140),t.text("Location: ".concat(n.location),20,155),t.text("Duration: ".concat(n.duration),20,170),n.salary&&t.text("Stipend: ".concat(n.salary),20,185),e.startDate&&t.text("Start Date: ".concat(new Date(e.startDate).toLocaleDateString()),20,200),t.setFont("helvetica","bold"),t.text("Responsibilities:",20,220),t.setFont("helvetica","normal");const r=n.description.substring(0,300)+"...",i=t.splitTextToSize(r,170);t.text(i,20,235),t.setFont("helvetica","bold"),t.text("Congratulations and welcome to the team!",20,270),t.setFont("helvetica","normal"),t.text("Best regards,",20,285),t.text("HR Department",20,295),t.text(n.company,20,305);const s=(e.applicantName||"candidate").replace(/\s+/g,"-");t.save("offer-letter-".concat(s,".pdf"))},_=e=>{const t=new ZS,n=e.internship||{},r=v(e.startDate);t.setFontSize(20),t.setFont("helvetica","bold"),t.text("INTERNSHIP JOINING LETTER",20,30),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Date: ".concat((new Date).toLocaleDateString()),20,50),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("To: ".concat(e.applicantName||e.fullName||"Candidate"),20,70),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("We are pleased to confirm your joining as an intern for the role of ".concat(n.title||"the specified position","."),20,90),r&&t.text("Please report on ".concat(r.toLocaleDateString()," to begin your internship."),20,105),n.company&&t.text("Company: ".concat(n.company),20,120),n.location&&t.text("Location: ".concat(n.location),20,135),t.text("Kindly bring a valid ID and any required documents as communicated.",20,150),t.setFont("helvetica","bold"),t.text("Welcome aboard!",20,175),t.setFont("helvetica","normal"),t.text("Regards,",20,190),t.text("HR Department",20,200),n.company&&t.text(n.company,20,210);const i=(e.applicantName||e.fullName||"candidate").replace(/\s+/g,"-");t.save("joining-letter-".concat(i,".pdf"))};return d?(0,qv.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Applications"}),(0,qv.jsx)("p",{className:"mt-2 text-lg text-gray-600",children:"Track the status of your internship applications"})]}),0===c.length?(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[(0,qv.jsx)("div",{className:"text-gray-400 mb-4",children:(0,qv.jsx)(Nb,{className:"w-16 h-16 mx-auto"})}),(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Applications Yet"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"You haven't applied to any internships yet. Start browsing and applying!"})]}):(0,qv.jsx)("div",{className:"space-y-6",children:c.map(e=>{var t,n,r,i;return(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qv.jsxs)("div",{className:"flex-1",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:(null===(t=e.internship)||void 0===t?void 0:t.title)||"Position Title"}),(0,qv.jsxs)("div",{className:"flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium border ".concat(w(e.status)),children:[x(e.status),(0,qv.jsx)("span",{className:"capitalize",children:e.status})]})]}),(0,qv.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,qv.jsxs)("p",{className:"text-gray-600",children:[(0,qv.jsx)("span",{className:"font-medium",children:"Company:"})," ",null===(n=e.internship)||void 0===n?void 0:n.company]}),(0,qv.jsxs)("p",{className:"text-gray-600",children:[(0,qv.jsx)("span",{className:"font-medium",children:"Location:"})," ",null===(r=e.internship)||void 0===r?void 0:r.location]}),(0,qv.jsxs)("p",{className:"text-gray-600",children:[(0,qv.jsx)("span",{className:"font-medium",children:"Applied on:"})," ",(null===(i=v(e.appliedAt))||void 0===i?void 0:i.toLocaleDateString())||"\u2014"]}),v(e.startDate)&&(0,qv.jsxs)("p",{className:"text-gray-600",children:[(0,qv.jsx)("span",{className:"font-medium",children:"Start Date:"})," ",v(e.startDate).toLocaleDateString()]})]})]}),(0,qv.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qv.jsxs)("button",{onClick:()=>{p(e),g(!0)},className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,qv.jsx)(Nb,{className:"w-4 h-4 mr-2"}),"View Details"]}),"approved"===e.status&&(0,qv.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qv.jsxs)("button",{onClick:()=>N(e),className:"inline-flex items-center px-3 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[(0,qv.jsx)(gb,{className:"w-4 h-4 mr-2"}),"Offer Letter"]}),(0,qv.jsxs)("button",{onClick:()=>_(e),className:"inline-flex items-center px-3 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 transition-colors",children:[(0,qv.jsx)(gb,{className:"w-4 h-4 mr-2"}),"Joining Letter"]})]})]})]}),e.rejectionReason&&(0,qv.jsxs)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,qv.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Rejection Reason:"}),(0,qv.jsx)("p",{className:"text-sm text-red-700",children:e.rejectionReason})]})]})},e.id)})})]}),m&&f&&(0,qv.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,qv.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-2xl rounded-xl bg-white",children:(0,qv.jsxs)("div",{className:"mt-3",children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Application Details"}),(0,qv.jsx)("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:(0,qv.jsx)(Jb,{className:"w-6 h-6"})})]}),(0,qv.jsxs)("div",{className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Internship Details"}),(0,qv.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[(0,qv.jsxs)("p",{children:[(0,qv.jsx)("span",{className:"font-medium",children:"Position:"})," ",null===(e=f.internship)||void 0===e?void 0:e.title]}),(0,qv.jsxs)("p",{children:[(0,qv.jsx)("span",{className:"font-medium",children:"Company:"})," ",null===(t=f.internship)||void 0===t?void 0:t.company]}),(0,qv.jsxs)("p",{children:[(0,qv.jsx)("span",{className:"font-medium",children:"Location:"})," ",null===(n=f.internship)||void 0===n?void 0:n.location]}),(0,qv.jsxs)("p",{children:[(0,qv.jsx)("span",{className:"font-medium",children:"Duration:"})," ",null===(i=f.internship)||void 0===i?void 0:i.duration]}),(null===(s=f.internship)||void 0===s?void 0:s.salary)&&(0,qv.jsxs)("p",{children:[(0,qv.jsx)("span",{className:"font-medium",children:"Salary:"})," ",null===(a=f.internship)||void 0===a?void 0:a.salary]})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Your Application"}),(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,qv.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.applicantName})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,qv.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.applicantEmail})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,qv.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.applicantPhone})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cover Letter"}),(0,qv.jsx)("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:(0,qv.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:f.coverLetter})})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Skills"}),(0,qv.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.skills})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Experience"}),(0,qv.jsx)("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:(0,qv.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:f.experience})})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Applied On"}),(0,qv.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(null===(o=v(f.appliedAt))||void 0===o?void 0:o.toLocaleDateString())||"\u2014"})]})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Status"}),(0,qv.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium border ".concat(w(f.status)),children:[x(f.status),(0,qv.jsx)("span",{className:"ml-2 capitalize",children:f.status})]}),f.rejectionReason&&(0,qv.jsxs)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,qv.jsx)("h5",{className:"font-medium text-red-800 mb-2",children:"Rejection Reason:"}),(0,qv.jsx)("p",{className:"text-red-700",children:f.rejectionReason})]}),v(f.startDate)&&(0,qv.jsx)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)(ub,{className:"w-5 h-5 text-green-600 mr-2"}),(0,qv.jsxs)("span",{className:"font-medium text-green-800",children:["Start Date: ",v(f.startDate).toLocaleDateString()]})]})})]})]}),(0,qv.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 mt-6",children:["approved"===f.status&&(0,qv.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qv.jsxs)("button",{onClick:()=>N(f),className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[(0,qv.jsx)(gb,{className:"w-4 h-4 mr-2 inline"}),"Offer Letter"]}),(0,qv.jsxs)("button",{onClick:()=>_(f),className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 transition-colors",children:[(0,qv.jsx)(gb,{className:"w-4 h-4 mr-2 inline"}),"Joining Letter"]})]}),(0,qv.jsx)("button",{onClick:()=>g(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Close"})]})]})})})]})},nE=()=>{const{currentUser:e}=Hv(),t=fe(),n=ue(),i=(0,r.useMemo)(()=>new URLSearchParams(n.search).get("internshipId"),[n.search]),[s,a]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)({internshipId:"",title:"",details:"",links:"",hours:"",workDate:(new Date).toISOString().slice(0,10),notes:""});(0,r.useEffect)(()=>{if(!e)return void t("/login");(async()=>{c(!0);try{const t=Vg(ng(Bv,"applications"),Wg("applicantId","==",e.uid),Wg("status","==","approved"),Yg("appliedAt","desc")),n=(await ly(t)).docs.map(e=>l({id:e.id},e.data()));a(n),i&&n.some(e=>e.internshipId===i)?f(e=>l(l({},e),{},{internshipId:i})):n[0]&&f(e=>l(l({},e),{},{internshipId:n[0].internshipId}))}catch(uE){console.error("Error loading approved applications",uE)}finally{c(!1)}})()},[e,t,i]);return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,qv.jsx)(sb,{className:"mr-2"})," Back"]}),(0,qv.jsx)("h1",{className:"text-2xl font-bold",children:"Submit Task Update"})]})})}),(0,qv.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o?(0,qv.jsx)("p",{className:"text-gray-600",children:"Loading..."}):0===s.length?(0,qv.jsx)("p",{className:"text-gray-600",children:"No approved internships found. You can submit tasks once an internship is approved."}):(0,qv.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),h.internshipId&&h.title.trim()&&h.details.trim()){d(!0);try{const n=s.find(e=>e.internshipId===h.internshipId);await hy(ng(Bv,"taskUpdates"),{internshipId:h.internshipId,applicationId:(null===n||void 0===n?void 0:n.id)||null,applicantId:e.uid,applicantName:(null===n||void 0===n?void 0:n.applicantName)||"",applicantEmail:(null===n||void 0===n?void 0:n.applicantEmail)||"",companyId:(null===n||void 0===n?void 0:n.companyId)||"",internshipTitle:(null===n||void 0===n?void 0:n.internshipTitle)||"",title:h.title.trim(),details:h.details.trim(),links:h.links.trim(),hours:h.hours?Number(h.hours):null,workDate:h.workDate,notes:h.notes.trim(),status:"submitted",createdAt:(new Date).toISOString()}),alert("Task update submitted"),t("/my-tasks")}catch(n){console.error("Error submitting task update",n),alert("Failed to submit. Try again.")}finally{d(!1)}}},className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Internship"}),(0,qv.jsx)("select",{value:h.internshipId,onChange:e=>f(l(l({},h),{},{internshipId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0,children:s.map(e=>(0,qv.jsx)("option",{value:e.internshipId,children:e.internshipTitle},e.id))})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Title *"}),(0,qv.jsx)("input",{type:"text",value:h.title,onChange:e=>f(l(l({},h),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Implemented user authentication with Firebase",required:!0})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detailed Description *"}),(0,qv.jsx)("textarea",{rows:5,value:h.details,onChange:e=>f(l(l({},h),{},{details:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Explain your task, approach, tools/technologies used, challenges, and outcomes...",required:!0})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hours Spent"}),(0,qv.jsx)("input",{type:"number",min:"0",step:"0.5",value:h.hours,onChange:e=>f(l(l({},h),{},{hours:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 3.5"})]}),(0,qv.jsxs)("div",{className:"md:col-span-2",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Links (Repo/Docs/Deploy)"}),(0,qv.jsx)("input",{type:"text",value:h.links,onChange:e=>f(l(l({},h),{},{links:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Comma-separated URLs"})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Date"}),(0,qv.jsx)("input",{type:"date",value:h.workDate,onChange:e=>f(l(l({},h),{},{workDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,qv.jsx)("input",{type:"text",value:h.notes,onChange:e=>f(l(l({},h),{},{notes:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]})]}),(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsx)("button",{type:"submit",disabled:u,className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:u?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)(Ub,{className:"w-4 h-4 mr-2"})," Submit Task Update"]})})})]})})})]})},rE=()=>{const{currentUser:e}=Hv(),t=fe(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!e)return void t("/login");(async()=>{a(!0);try{const t=Vg(ng(Bv,"taskUpdates"),Wg("applicantId","==",e.uid),Yg("createdAt","desc")),n=await ly(t);i(n.docs.map(e=>l({id:e.id},e.data())))}catch(uE){console.error("Error loading task updates",uE)}finally{a(!1)}})()},[e,t]);const o=e=>{const t="approved"===e?hb:"rejected"===e?Jb:"viewed"===e?Nb:pb;return(0,qv.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",viewed:"bg-blue-100 text-blue-800"}[e]||"bg-gray-100 text-gray-800"),children:[(0,qv.jsx)(t,{className:"w-3 h-3 mr-1"})," ",e]})};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold",children:"My Task Updates"}),(0,qv.jsxs)("button",{onClick:()=>t("/submit-task"),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:[(0,qv.jsx)(Ob,{className:"w-4 h-4 mr-2"})," New Task Update"]})]})}),(0,qv.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s?(0,qv.jsx)("p",{className:"text-gray-600",children:"Loading..."}):0===n.length?(0,qv.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center text-gray-600",children:"No task updates yet."}):(0,qv.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,qv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),o(e.status)]}),(0,qv.jsx)("p",{className:"text-sm text-gray-600",children:e.internshipTitle})]}),(0,qv.jsxs)("div",{className:"text-sm text-gray-500 text-right",children:[(0,qv.jsxs)("div",{children:["Submitted: ",new Date(e.createdAt).toLocaleString()]}),e.reviewedAt&&(0,qv.jsxs)("div",{children:["Reviewed: ",new Date(e.reviewedAt).toLocaleString()]})]})]}),(0,qv.jsx)("p",{className:"mt-3 text-gray-700 whitespace-pre-wrap",children:e.details}),e.links&&(0,qv.jsxs)("p",{className:"mt-2 text-sm text-blue-700 break-all",children:["Links: ",e.links]}),e.hours&&(0,qv.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["Hours: ",e.hours]}),e.workDate&&(0,qv.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["Work Date: ",new Date(e.workDate).toLocaleDateString()]}),e.rejectionReason&&(0,qv.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded",children:(0,qv.jsxs)("p",{className:"text-sm text-red-700",children:["Rejected: ",e.rejectionReason]})})]},e.id))})})]})},iE=()=>{const{currentUser:e}=Hv(),t=fe(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,c]=(0,r.useState)("all"),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(!0),[p,m]=(0,r.useState)(null),g=(0,r.useCallback)(async()=>{if(e){f(!0);try{const t=(await ly(Vg(ng(Bv,"internships"),Wg("createdBy","==",e.uid)))).docs.map(e=>e.id);if(0===t.length)return i([]),void a([]);const n=Vg(ng(Bv,"taskUpdates"),Yg("createdAt","desc")),r=(await ly(n)).docs.map(e=>l({id:e.id},e.data())).filter(e=>t.includes(e.internshipId));i(r),a(r)}catch(uE){console.error("Error loading task updates",uE)}finally{f(!1)}}},[e]);(0,r.useEffect)(()=>{e&&g()},[e,g]),(0,r.useEffect)(()=>{let e=n;if("all"!==o&&(e=e.filter(e=>e.status===o)),u){const t=u.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.applicantName||"").toLowerCase().includes(t)||(e.internshipTitle||"").toLowerCase().includes(t))}a(e)},[n,o,u]);const y=async function(t,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=n.find(e=>e.id===t);if("approved"!==(null===a||void 0===a?void 0:a.status)||"rejected"!==r)if("rejected"!==(null===a||void 0===a?void 0:a.status)||"approved"!==r){m(t);try{const n={status:r,reviewedAt:(new Date).toISOString(),reviewedBy:e.uid};"rejected"===r&&s&&(n.rejectionReason=s),await uy(rg(Bv,"taskUpdates",t),n),i(e=>e.map(e=>e.id===t?l(l({},e),n):e));alert("approved"===r?"Task update approved.":"rejected"===r?"Task update rejected.":"Task update marked as viewed.")}catch(uE){console.error("Error updating task status",uE),alert("Failed to update. Try again.")}finally{m(null)}}else alert("This task update is already rejected and cannot be approved.");else alert("This task update is already approved and cannot be rejected.")};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("button",{onClick:()=>t("/admin/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,qv.jsx)(sb,{className:"mr-2"})," Back"]}),(0,qv.jsx)("h1",{className:"text-2xl font-bold",children:"Review Task Updates"})]}),(0,qv.jsxs)("div",{className:"text-sm text-gray-600",children:[s.length," of ",n.length]})]})}),(0,qv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Mb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{value:u,onChange:e=>d(e.target.value),placeholder:"Search by title, user, internship",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Sb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,qv.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg",children:[(0,qv.jsx)("option",{value:"all",children:"All"}),(0,qv.jsx)("option",{value:"submitted",children:"Submitted"}),(0,qv.jsx)("option",{value:"viewed",children:"Viewed"}),(0,qv.jsx)("option",{value:"approved",children:"Approved"}),(0,qv.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]})}),h?(0,qv.jsx)("p",{className:"text-gray-600",children:"Loading..."}):0===s.length?(0,qv.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center text-gray-600",children:"No task updates found."}):(0,qv.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,qv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:[e.applicantName," \u2022 ",e.internshipTitle]})]}),(0,qv.jsxs)("div",{className:"text-sm text-gray-500 text-right",children:[(0,qv.jsxs)("div",{children:["Submitted: ",new Date(e.createdAt).toLocaleString()]}),e.reviewedAt&&(0,qv.jsxs)("div",{children:["Reviewed: ",new Date(e.reviewedAt).toLocaleString()]})]})]}),(0,qv.jsx)("p",{className:"mt-3 text-gray-700 whitespace-pre-wrap",children:e.details}),e.links&&(0,qv.jsxs)("p",{className:"mt-2 text-sm text-blue-700 break-all",children:["Links: ",e.links]}),(0,qv.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,qv.jsx)("button",{onClick:()=>y(e.id,"viewed"),disabled:p===e.id,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Mark Viewed"}),(0,qv.jsxs)("button",{onClick:()=>y(e.id,"approved"),disabled:p===e.id,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[(0,qv.jsx)(hb,{className:"w-4 h-4 mr-2"}),"Approve"]}),(0,qv.jsxs)("button",{onClick:()=>{const t=prompt("Reason for rejection (optional):");y(e.id,"rejected",t||"")},disabled:p===e.id,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[(0,qv.jsx)(Jb,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),e.rejectionReason&&(0,qv.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded",children:(0,qv.jsxs)("p",{className:"text-sm text-red-700",children:["Rejected: ",e.rejectionReason]})})]},e.id))})]})]})},sE=()=>{const{currentUser:e}=Hv(),t=fe(),n=ue(),i=(0,r.useMemo)(()=>new URLSearchParams(n.search).get("internshipId"),[n.search]),[s,a]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)([]),[p,m]=(0,r.useState)(!0),[g,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!e)return void t("/login");(async()=>{m(!0);try{var t;const n=Vg(ng(Bv,"applications"),Wg("applicantId","==",e.uid),Wg("status","==","approved"),Yg("appliedAt","desc")),r=(await ly(n)).docs.map(e=>l({id:e.id},e.data()));a(r);const s=i&&r.some(e=>e.internshipId===i)?i:(null===(t=r[0])||void 0===t?void 0:t.internshipId)||"";c(s)}catch(uE){console.error(uE)}m(!1)})()},[e,t,i]),(0,r.useEffect)(()=>{e&&o&&(async()=>{if(!o)return f([]),void d(null);try{const n=Vg(ng(Bv,"attendance"),Wg("applicantId","==",e.uid),Wg("internshipId","==",o),Wg("status","==","in-progress"),Yg("punchInAt","desc"),(gl("limit",t=1),Qg._create("limit",t,"F"))),r=await ly(n);d(r.docs[0]?l({id:r.docs[0].id},r.docs[0].data()):null);const i=Vg(ng(Bv,"attendance"),Wg("applicantId","==",e.uid),Wg("internshipId","==",o),Yg("punchInAt","desc")),s=await ly(i);f(s.docs.map(e=>l({id:e.id},e.data())))}catch(t){console.error("Error loading attendance",t)}var t})()},[e,o]);const v=e=>{const t="approved"===e?hb:"rejected"===e?Jb:"in-progress"===e?Nb:pb;return(0,qv.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({"in-progress":"bg-blue-100 text-blue-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"),children:[(0,qv.jsx)(t,{className:"w-3 h-3 mr-1"})," ",e]})};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold",children:"My Attendance"}),(0,qv.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qv.jsx)("select",{value:o,onChange:e=>c(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:s.map(e=>(0,qv.jsx)("option",{value:e.internshipId,children:e.internshipTitle},e.id))}),u?(0,qv.jsxs)("button",{onClick:async()=>{if(!u)return alert("No active session to punch out from.");y(!0);try{const e=rg(Bv,"attendance",u.id);await uy(e,{punchOutAt:(new Date).toISOString(),status:"submitted"}),alert("Punched out. Entry submitted for approval."),d(null),c(e=>e)}catch(uE){console.error("Punch out failed",uE),alert("Punch out failed. Try again.")}finally{y(!1)}},disabled:g,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[(0,qv.jsx)(qb,{className:"w-4 h-4 mr-2"})," Punch Out"]}):(0,qv.jsxs)("button",{onClick:async()=>{if(!o)return alert("Select an internship first.");if(u)return alert("You are already punched in. Please punch out first.");y(!0);try{const t=s.find(e=>e.internshipId===o);await hy(ng(Bv,"attendance"),{internshipId:o,applicationId:(null===t||void 0===t?void 0:t.id)||null,applicantId:e.uid,applicantName:(null===t||void 0===t?void 0:t.applicantName)||"",applicantEmail:(null===t||void 0===t?void 0:t.applicantEmail)||"",companyId:(null===t||void 0===t?void 0:t.companyId)||"",internshipTitle:(null===t||void 0===t?void 0:t.internshipTitle)||"",punchInAt:(new Date).toISOString(),punchOutAt:null,status:"in-progress",createdAt:(new Date).toISOString()}),alert("Punched in. Have a productive session!"),d(!0),d(null),c(e=>e)}catch(uE){console.error("Punch in failed",uE),alert("Punch in failed. Try again.")}finally{y(!1)}},disabled:g||!o,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,qv.jsx)(Db,{className:"w-4 h-4 mr-2"})," Punch In"]})]})]})}),(0,qv.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:p?(0,qv.jsx)("p",{className:"text-gray-600",children:"Loading..."}):0===h.length?(0,qv.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center text-gray-600",children:"No attendance entries yet."}):(0,qv.jsx)("div",{className:"space-y-4",children:h.map(e=>{const t=e.punchOutAt?Math.max(0,(new Date(e.punchOutAt).getTime()-new Date(e.punchInAt).getTime())/36e5).toFixed(2):null;return(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,qv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold",children:e.internshipTitle}),v(e.status)]}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["In: ",new Date(e.punchInAt).toLocaleString()," ",e.punchOutAt&&(0,qv.jsxs)(qv.Fragment,{children:[" \u2022 Out: ",new Date(e.punchOutAt).toLocaleString()]})]})]}),(0,qv.jsxs)("div",{className:"text-sm text-gray-600 text-right",children:[(0,qv.jsxs)("div",{children:["Submitted: ",new Date(e.createdAt).toLocaleString()]}),e.reviewedAt&&(0,qv.jsxs)("div",{children:["Reviewed: ",new Date(e.reviewedAt).toLocaleString()]})]})]}),t&&(0,qv.jsxs)("p",{className:"mt-2 text-sm text-gray-700",children:["Duration: ",t," hours"]}),e.rejectionReason&&(0,qv.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded",children:(0,qv.jsxs)("p",{className:"text-sm text-red-700",children:["Rejected: ",e.rejectionReason]})})]},e.id)})})})]})},aE=()=>{const{currentUser:e}=Hv(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)("submitted"),[a,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(""),f=(0,r.useMemo)(()=>{const e=a.toLowerCase();return t.filter(t=>{var n,r,s;return("all"===i||t.status===i)&&((null===(n=t.applicantName)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.internshipTitle)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(s=t.applicantEmail)||void 0===s?void 0:s.toLowerCase().includes(e)))})},[t,i,a]);(0,r.useEffect)(()=>{(async()=>{if(e){u(!0);try{const t=Vg(ng(Bv,"internships"),Wg("createdBy","==",e.uid)),r=await ly(t),i=new Set(r.docs.map(e=>e.id)),s=Vg(ng(Bv,"attendance"),Yg("punchInAt","desc")),a=(await ly(s)).docs.map(e=>l({id:e.id},e.data())).filter(e=>i.has(e.internshipId));n(a)}catch(uE){console.error(uE)}u(!1)}})()},[e]);const p=async(t,r)=>{if("approved"===t.status||"rejected"===t.status)return void alert("Finalized entries cannot be changed.");if(r===t.status)return;const i=rg(Bv,"attendance",t.id);h(t.id);try{let s;"rejected"===r&&(s=window.prompt("Enter rejection reason (optional):")||"");const a=l({status:r,reviewedAt:(new Date).toISOString(),reviewedBy:e.uid},"rejected"===r?{rejectionReason:s}:{});await uy(i,a),n(e=>e.map(e=>e.id===t.id?l(l({},e),a):e)),alert("Attendance ".concat(r,"."))}catch(uE){console.error(uE),alert("Action failed.")}finally{h("")}};return(0,qv.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,qv.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Attendance Reviews"}),(0,qv.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4 flex items-center justify-between",children:[(0,qv.jsx)("div",{className:"flex items-center space-x-2",children:(0,qv.jsxs)("select",{value:i,onChange:e=>s(e.target.value),className:"px-3 py-2 border rounded",children:[(0,qv.jsx)("option",{value:"submitted",children:"Submitted"}),(0,qv.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,qv.jsx)("option",{value:"approved",children:"Approved"}),(0,qv.jsx)("option",{value:"rejected",children:"Rejected"}),(0,qv.jsx)("option",{value:"all",children:"All"})]})}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Mb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{value:a,onChange:e=>o(e.target.value),placeholder:"Search by name, email, internship",className:"pl-9 pr-3 py-2 border rounded w-72"})]})]}),c?(0,qv.jsx)("p",{className:"text-gray-600",children:"Loading..."}):0===f.length?(0,qv.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center text-gray-600",children:"No entries found."}):(0,qv.jsx)("div",{className:"space-y-4",children:f.map(e=>(0,qv.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,qv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold",children:e.internshipTitle}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:[e.applicantName," \u2022 ",e.applicantEmail]}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["In: ",new Date(e.punchInAt).toLocaleString()," ",e.punchOutAt&&(0,qv.jsxs)(qv.Fragment,{children:[" \u2022 Out: ",new Date(e.punchOutAt).toLocaleString()]})]})]}),(0,qv.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qv.jsxs)("button",{disabled:d===e.id||"approved"===e.status||"rejected"===e.status,onClick:()=>p(e,"approved"),className:"inline-flex items-center px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[(0,qv.jsx)(fb,{className:"mr-2"})," Approve"]}),(0,qv.jsxs)("button",{disabled:d===e.id||"approved"===e.status||"rejected"===e.status,onClick:()=>p(e,"rejected"),className:"inline-flex items-center px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:[(0,qv.jsx)(Xb,{className:"mr-2"})," Reject"]})]})]})},e.id))})]})})},oE=()=>{const{currentUser:e,userProfile:t,updateUserProfile:n}=Hv(),i=fe(),[s,a]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)({photo:!1,resume:!1}),p=(0,r.useRef)(null),m=(0,r.useRef)(null),[g,y]=(0,r.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",university:"",major:"",graduationYear:"",dateOfBirth:"",address:"",bio:"",skills:"",experience:"",linkedinUrl:"",portfolioUrl:""});(0,r.useEffect)(()=>{e?t&&y({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||e.email||"",phoneNumber:t.phoneNumber||"",university:t.university||"",major:t.major||"",graduationYear:t.graduationYear||"",dateOfBirth:t.dateOfBirth||"",address:t.address||"",bio:t.bio||"",skills:t.skills||"",experience:t.experience||"",linkedinUrl:t.linkedinUrl||"",portfolioUrl:t.portfolioUrl||""}):i("/login")},[e,t,i]);const v=e=>{y(l(l({},g),{},{[e.target.name]:e.target.value}))},b=async e=>{e.preventDefault(),c(!0),d("");try{await n(g),d("Profile updated successfully!"),a(!1)}catch(t){console.error("Profile update error:",t),d("Failed to update profile. Please try again.")}finally{c(!1)}},x=()=>{t&&y({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||e.email||"",phoneNumber:t.phoneNumber||"",university:t.university||"",major:t.major||"",graduationYear:t.graduationYear||"",dateOfBirth:t.dateOfBirth||"",address:t.address||"",bio:t.bio||"",skills:t.skills||"",experience:t.experience||"",linkedinUrl:t.linkedinUrl||"",portfolioUrl:t.portfolioUrl||""}),a(!1),d("")};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,qv.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)("button",{onClick:()=>i("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,qv.jsx)(sb,{className:"mr-2"}),"Back to Dashboard"]}),(0,qv.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"})]}),s?(0,qv.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qv.jsxs)("button",{onClick:x,className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,qv.jsx)(Xb,{className:"mr-2"}),"Cancel"]}),(0,qv.jsxs)("button",{onClick:b,disabled:o,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[(0,qv.jsx)(Fb,{className:"mr-2"}),o?"Saving...":"Save Changes"]})]}):(0,qv.jsxs)("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,qv.jsx)(vb,{className:"mr-2"}),"Edit Profile"]})]})})}),(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u&&(0,qv.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat(u.includes("successfully")?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"),children:u}),(0,qv.jsxs)("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden",children:[(0,qv.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-indigo-600 px-8 py-6",children:(0,qv.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center overflow-hidden",children:null!==t&&void 0!==t&&t.photoURL?(0,qv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):(0,qv.jsx)(Yb,{className:"w-12 h-12 text-gray-400"})}),s&&(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("button",{onClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.click()},disabled:h.photo,className:"absolute bottom-0 right-0 w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center text-white hover:bg-primary-700 transition-colors disabled:opacity-50",children:h.photo?(0,qv.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,qv.jsx)(db,{className:"w-4 h-4"})}),(0,qv.jsx)("input",{ref:p,type:"file",accept:"image/*",onChange:async t=>{const r=t.target.files[0];if(r)if(r.type.startsWith("image/"))if(r.size>5242880)d("Image file size must be less than 5MB.");else{f(e=>l(l({},e),{},{photo:!0})),d("");try{const t=Dv(zv,"profile-photos/".concat(e.uid,"/").concat(Date.now(),"-").concat(r.name));await Tv(t,r);const i=await Pv(t);await n({photoURL:i}),d("Profile photo updated successfully!")}catch(i){console.error("Error uploading photo:",i),d("Failed to upload photo. Please try again.")}finally{f(e=>l(l({},e),{},{photo:!1}))}}else d("Please select a valid image file.")},className:"hidden"})]})]}),(0,qv.jsxs)("div",{className:"text-white flex-1",children:[(0,qv.jsxs)("h2",{className:"text-2xl font-bold",children:[g.firstName," ",g.lastName]}),(0,qv.jsx)("p",{className:"text-primary-100",children:g.email}),(0,qv.jsxs)("p",{className:"text-primary-200 text-sm",children:["student"===(null===t||void 0===t?void 0:t.role)?"Student":"User",g.university&&" at ".concat(g.university)]})]}),(0,qv.jsx)("div",{className:"text-white",children:(0,qv.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 min-w-[200px]",children:[(0,qv.jsxs)("h3",{className:"text-sm font-semibold mb-2 flex items-center",children:[(0,qv.jsx)(kb,{className:"mr-2"}),"Resume"]}),null!==t&&void 0!==t&&t.resumeURL?(0,qv.jsxs)("div",{className:"space-y-2",children:[(0,qv.jsx)("p",{className:"text-xs text-primary-100 truncate",children:t.resumeName||"resume.pdf"}),(0,qv.jsxs)("div",{className:"flex space-x-2",children:[(0,qv.jsxs)("a",{href:t.resumeURL,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-2 py-1 bg-white/20 rounded text-xs hover:bg-white/30 transition-colors",children:[(0,qv.jsx)(gb,{className:"w-3 h-3 mr-1"}),"View"]}),s&&(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsxs)("button",{onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},disabled:h.resume,className:"flex items-center px-2 py-1 bg-white/20 rounded text-xs hover:bg-white/30 transition-colors disabled:opacity-50",children:[h.resume?(0,qv.jsx)("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin mr-1"}):(0,qv.jsx)(Gb,{className:"w-3 h-3 mr-1"}),"Update"]}),(0,qv.jsxs)("button",{onClick:async()=>{if(null!==t&&void 0!==t&&t.resumeURL&&window.confirm("Are you sure you want to delete your resume?")){f(e=>l(l({},e),{},{resume:!0}));try{const e=Dv(zv,t.resumeURL);await Rv(e),await n({resumeURL:null,resumeName:null}),d("Resume deleted successfully!")}catch(e){console.error("Error deleting resume:",e),d("Failed to delete resume. Please try again.")}finally{f(e=>l(l({},e),{},{resume:!1}))}}},disabled:h.resume,className:"flex items-center px-2 py-1 bg-red-500/80 rounded text-xs hover:bg-red-500 transition-colors disabled:opacity-50",children:[(0,qv.jsx)(Hb,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]})]}):(0,qv.jsxs)("div",{className:"space-y-2",children:[(0,qv.jsx)("p",{className:"text-xs text-primary-100",children:"No resume uploaded"}),s&&(0,qv.jsx)("button",{onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},disabled:h.resume,className:"flex items-center px-2 py-1 bg-white/20 rounded text-xs hover:bg-white/30 transition-colors disabled:opacity-50",children:h.resume?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin mr-1"}),"Uploading..."]}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)(Gb,{className:"w-3 h-3 mr-1"}),"Upload Resume"]})})]}),s&&(0,qv.jsx)("input",{ref:m,type:"file",accept:".pdf",onChange:async r=>{const i=r.target.files[0];if(i)if("application/pdf"===i.type)if(i.size>10485760)d("Resume file size must be less than 10MB.");else{f(e=>l(l({},e),{},{resume:!0})),d("");try{if(null!==t&&void 0!==t&&t.resumeURL)try{const e=Dv(zv,t.resumeURL);await Rv(e)}catch(s){console.log("Old resume not found or already deleted")}const r=Dv(zv,"resumes/".concat(e.uid,"/").concat(Date.now(),"-").concat(i.name));await Tv(r,i);const a=await Pv(r);await n({resumeURL:a,resumeName:i.name}),d("Resume uploaded successfully!")}catch(s){console.error("Error uploading resume:",s),d("Failed to upload resume. Please try again.")}finally{f(e=>l(l({},e),{},{resume:!1}))}}else d("Please select a PDF file for your resume.")},className:"hidden"})]})})]})}),(0,qv.jsxs)("form",{onSubmit:b,className:"p-8",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsx)("div",{className:"md:col-span-2",children:(0,qv.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qv.jsx)(Yb,{className:"mr-2 text-primary-600"}),"Personal Information"]})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,qv.jsx)("input",{type:"text",name:"firstName",value:g.firstName,onChange:v,disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,qv.jsx)("input",{type:"text",name:"lastName",value:g.lastName,onChange:v,disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Cb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"email",name:"email",value:g.email,onChange:v,disabled:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Rb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"tel",name:"phoneNumber",value:g.phoneNumber,onChange:v,disabled:!s,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(ub,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qv.jsx)("input",{type:"date",name:"dateOfBirth",value:g.dateOfBirth,onChange:v,disabled:!s,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]})]}),(0,qv.jsxs)("div",{className:"md:col-span-2",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)(Lb,{className:"absolute left-3 top-3 text-gray-400"}),(0,qv.jsx)("textarea",{name:"address",value:g.address,onChange:v,disabled:!s,rows:2,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]})]}),(0,qv.jsx)("div",{className:"md:col-span-2 mt-8",children:(0,qv.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qv.jsx)(lb,{className:"mr-2 text-primary-600"}),"Education Information"]})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"University"}),(0,qv.jsx)("input",{type:"text",name:"university",value:g.university,onChange:v,disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Major"}),(0,qv.jsx)("input",{type:"text",name:"major",value:g.major,onChange:v,disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Graduation Year"}),(0,qv.jsxs)("select",{name:"graduationYear",value:g.graduationYear,onChange:v,disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",children:[(0,qv.jsx)("option",{value:"",children:"Select Year"}),Array.from({length:10},(e,t)=>{const n=(new Date).getFullYear()+t;return(0,qv.jsx)("option",{value:n,children:n},n)})]})]}),(0,qv.jsxs)("div",{className:"md:col-span-2",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,qv.jsx)("textarea",{name:"bio",value:g.bio,onChange:v,disabled:!s,rows:3,placeholder:"Tell us about yourself...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,qv.jsxs)("div",{className:"md:col-span-2",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills (comma-separated)"}),(0,qv.jsx)("textarea",{name:"skills",value:g.skills,onChange:v,disabled:!s,rows:2,placeholder:"e.g., JavaScript, React, Python, Data Analysis...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,qv.jsxs)("div",{className:"md:col-span-2",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),(0,qv.jsx)("textarea",{name:"experience",value:g.experience,onChange:v,disabled:!s,rows:3,placeholder:"Describe your relevant experience, projects, or achievements...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn URL"}),(0,qv.jsx)("input",{type:"url",name:"linkedinUrl",value:g.linkedinUrl,onChange:v,disabled:!s,placeholder:"https://linkedin.com/in/yourprofile",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portfolio URL"}),(0,qv.jsx)("input",{type:"url",name:"portfolioUrl",value:g.portfolioUrl,onChange:v,disabled:!s,placeholder:"https://yourportfolio.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]})]}),s&&(0,qv.jsxs)("div",{className:"mt-8 flex justify-end space-x-4",children:[(0,qv.jsx)("button",{type:"button",onClick:x,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,qv.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors",children:o?"Saving...":"Save Changes"})]})]})]})]})]})};const lE=function(){return(0,qv.jsx)(Wv,{children:(0,qv.jsx)(ft,{children:(0,qv.jsx)("div",{className:"App",children:(0,qv.jsxs)(Pe,{children:[(0,qv.jsx)(Ie,{path:"/",element:(0,qv.jsx)($b,{})}),(0,qv.jsx)(Ie,{path:"/about",element:(0,qv.jsx)(Zb,{})}),(0,qv.jsx)(Ie,{path:"/contact",element:(0,qv.jsx)(ex,{})}),(0,qv.jsx)(Ie,{path:"/quick-admin-setup",element:(0,qv.jsx)(tx,{})}),(0,qv.jsx)(Ie,{path:"/login",element:(0,qv.jsx)(rx,{})}),(0,qv.jsx)(Ie,{path:"/register",element:(0,qv.jsx)(ix,{})}),(0,qv.jsx)(Ie,{path:"/setup-guide",element:(0,qv.jsx)(ax,{})}),(0,qv.jsx)(Ie,{path:"/dashboard",element:(0,qv.jsx)(sx,{})}),(0,qv.jsx)(Ie,{path:"/profile",element:(0,qv.jsx)(oE,{})}),(0,qv.jsx)(Ie,{path:"/internships",element:(0,qv.jsx)(eE,{})}),(0,qv.jsx)(Ie,{path:"/my-applications",element:(0,qv.jsx)(tE,{})}),(0,qv.jsx)(Ie,{path:"/submit-task",element:(0,qv.jsx)(nE,{})}),(0,qv.jsx)(Ie,{path:"/my-tasks",element:(0,qv.jsx)(rE,{})}),(0,qv.jsx)(Ie,{path:"/my-attendance",element:(0,qv.jsx)(sE,{})}),(0,qv.jsx)(Ie,{path:"/admin/login",element:(0,qv.jsx)(ox,{})}),(0,qv.jsx)(Ie,{path:"/admin/register",element:(0,qv.jsx)(lx,{})}),(0,qv.jsx)(Ie,{path:"/admin/dashboard",element:(0,qv.jsx)(YA,{})}),(0,qv.jsx)(Ie,{path:"/admin/settings",element:(0,qv.jsx)(QA,{})}),(0,qv.jsx)(Ie,{path:"/admin/applications",element:(0,qv.jsx)(JA,{})}),(0,qv.jsx)(Ie,{path:"/admin/task-reviews",element:(0,qv.jsx)(iE,{})}),(0,qv.jsx)(Ie,{path:"/admin/create-internship",element:(0,qv.jsx)(XA,{})}),(0,qv.jsx)(Ie,{path:"/admin/edit-internship/:id",element:(0,qv.jsx)($A,{})}),(0,qv.jsx)(Ie,{path:"/admin/internships",element:(0,qv.jsx)(ZA,{})}),(0,qv.jsx)(Ie,{path:"/admin/old-dashboard",element:(0,qv.jsx)(KA,{})}),(0,qv.jsx)(Ie,{path:"/admin/attendance-reviews",element:(0,qv.jsx)(aE,{})})]})})})})},cE=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)})};i.createRoot(document.getElementById("root")).render((0,qv.jsx)(r.StrictMode,{children:(0,qv.jsx)(lE,{})})),cE()})();
//# sourceMappingURL=main.ddd1decc.js.map